/*! For license information please see main.7626d3ba.js.LICENSE.txt */
(()=>{var e={2618:(e,t,n)=>{var r;!function(){"use strict";var i=!("undefined"===typeof window||!window.document||!window.document.createElement),s={canUseDOM:i,canUseWorkers:"undefined"!==typeof Worker,canUseEventListeners:i&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:i&&!!window.screen};void 0===(r=function(){return s}.call(t,n,t,e))||(e.exports=r)}()},763:function(e,t,n){var r;e=n.nmd(e),function(){var i,s="Expected a function",o="__lodash_hash_undefined__",a="__lodash_placeholder__",l=16,u=32,c=64,h=128,d=256,f=1/0,p=9007199254740991,g=NaN,m=4294967295,v=[["ary",h],["bind",1],["bindKey",2],["curry",8],["curryRight",l],["flip",512],["partial",u],["partialRight",c],["rearg",d]],y="[object Arguments]",_="[object Array]",w="[object Boolean]",b="[object Date]",E="[object Error]",C="[object Function]",S="[object GeneratorFunction]",T="[object Map]",k="[object Number]",I="[object Object]",x="[object Promise]",N="[object RegExp]",R="[object Set]",A="[object String]",P="[object Symbol]",O="[object WeakMap]",D="[object ArrayBuffer]",L="[object DataView]",M="[object Float32Array]",F="[object Float64Array]",j="[object Int8Array]",U="[object Int16Array]",V="[object Int32Array]",z="[object Uint8Array]",B="[object Uint8ClampedArray]",q="[object Uint16Array]",W="[object Uint32Array]",H=/\b__p \+= '';/g,K=/\b(__p \+=) '' \+/g,G=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Q=/&(?:amp|lt|gt|quot|#39);/g,Y=/[&<>"']/g,$=RegExp(Q.source),X=RegExp(Y.source),J=/<%-([\s\S]+?)%>/g,Z=/<%([\s\S]+?)%>/g,ee=/<%=([\s\S]+?)%>/g,te=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ne=/^\w*$/,re=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ie=/[\\^$.*+?()[\]{}|]/g,se=RegExp(ie.source),oe=/^\s+/,ae=/\s/,le=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ue=/\{\n\/\* \[wrapped with (.+)\] \*/,ce=/,? & /,he=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,de=/[()=,{}\[\]\/\s]/,fe=/\\(\\)?/g,pe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ge=/\w*$/,me=/^[-+]0x[0-9a-f]+$/i,ve=/^0b[01]+$/i,ye=/^\[object .+?Constructor\]$/,_e=/^0o[0-7]+$/i,we=/^(?:0|[1-9]\d*)$/,be=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ee=/($^)/,Ce=/['\n\r\u2028\u2029\\]/g,Se="\\ud800-\\udfff",Te="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",ke="\\u2700-\\u27bf",Ie="a-z\\xdf-\\xf6\\xf8-\\xff",xe="A-Z\\xc0-\\xd6\\xd8-\\xde",Ne="\\ufe0e\\ufe0f",Re="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ae="['\u2019]",Pe="["+Se+"]",Oe="["+Re+"]",De="["+Te+"]",Le="\\d+",Me="["+ke+"]",Fe="["+Ie+"]",je="[^"+Se+Re+Le+ke+Ie+xe+"]",Ue="\\ud83c[\\udffb-\\udfff]",Ve="[^"+Se+"]",ze="(?:\\ud83c[\\udde6-\\uddff]){2}",Be="[\\ud800-\\udbff][\\udc00-\\udfff]",qe="["+xe+"]",We="\\u200d",He="(?:"+Fe+"|"+je+")",Ke="(?:"+qe+"|"+je+")",Ge="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Qe="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Ye="(?:"+De+"|"+Ue+")"+"?",$e="["+Ne+"]?",Xe=$e+Ye+("(?:"+We+"(?:"+[Ve,ze,Be].join("|")+")"+$e+Ye+")*"),Je="(?:"+[Me,ze,Be].join("|")+")"+Xe,Ze="(?:"+[Ve+De+"?",De,ze,Be,Pe].join("|")+")",et=RegExp(Ae,"g"),tt=RegExp(De,"g"),nt=RegExp(Ue+"(?="+Ue+")|"+Ze+Xe,"g"),rt=RegExp([qe+"?"+Fe+"+"+Ge+"(?="+[Oe,qe,"$"].join("|")+")",Ke+"+"+Qe+"(?="+[Oe,qe+He,"$"].join("|")+")",qe+"?"+He+"+"+Ge,qe+"+"+Qe,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Le,Je].join("|"),"g"),it=RegExp("["+We+Se+Te+Ne+"]"),st=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ot=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],at=-1,lt={};lt[M]=lt[F]=lt[j]=lt[U]=lt[V]=lt[z]=lt[B]=lt[q]=lt[W]=!0,lt[y]=lt[_]=lt[D]=lt[w]=lt[L]=lt[b]=lt[E]=lt[C]=lt[T]=lt[k]=lt[I]=lt[N]=lt[R]=lt[A]=lt[O]=!1;var ut={};ut[y]=ut[_]=ut[D]=ut[L]=ut[w]=ut[b]=ut[M]=ut[F]=ut[j]=ut[U]=ut[V]=ut[T]=ut[k]=ut[I]=ut[N]=ut[R]=ut[A]=ut[P]=ut[z]=ut[B]=ut[q]=ut[W]=!0,ut[E]=ut[C]=ut[O]=!1;var ct={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ht=parseFloat,dt=parseInt,ft="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,pt="object"==typeof self&&self&&self.Object===Object&&self,gt=ft||pt||Function("return this")(),mt=t&&!t.nodeType&&t,vt=mt&&e&&!e.nodeType&&e,yt=vt&&vt.exports===mt,_t=yt&&ft.process,wt=function(){try{var e=vt&&vt.require&&vt.require("util").types;return e||_t&&_t.binding&&_t.binding("util")}catch(t){}}(),bt=wt&&wt.isArrayBuffer,Et=wt&&wt.isDate,Ct=wt&&wt.isMap,St=wt&&wt.isRegExp,Tt=wt&&wt.isSet,kt=wt&&wt.isTypedArray;function It(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function xt(e,t,n,r){for(var i=-1,s=null==e?0:e.length;++i<s;){var o=e[i];t(r,o,n(o),e)}return r}function Nt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function Rt(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function At(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function Pt(e,t){for(var n=-1,r=null==e?0:e.length,i=0,s=[];++n<r;){var o=e[n];t(o,n,e)&&(s[i++]=o)}return s}function Ot(e,t){return!!(null==e?0:e.length)&&qt(e,t,0)>-1}function Dt(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function Lt(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function Mt(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function Ft(e,t,n,r){var i=-1,s=null==e?0:e.length;for(r&&s&&(n=e[++i]);++i<s;)n=t(n,e[i],i,e);return n}function jt(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function Ut(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Vt=Gt("length");function zt(e,t,n){var r;return n(e,(function(e,n,i){if(t(e,n,i))return r=n,!1})),r}function Bt(e,t,n,r){for(var i=e.length,s=n+(r?1:-1);r?s--:++s<i;)if(t(e[s],s,e))return s;return-1}function qt(e,t,n){return t===t?function(e,t,n){var r=n-1,i=e.length;for(;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):Bt(e,Ht,n)}function Wt(e,t,n,r){for(var i=n-1,s=e.length;++i<s;)if(r(e[i],t))return i;return-1}function Ht(e){return e!==e}function Kt(e,t){var n=null==e?0:e.length;return n?$t(e,t)/n:g}function Gt(e){return function(t){return null==t?i:t[e]}}function Qt(e){return function(t){return null==e?i:e[t]}}function Yt(e,t,n,r,i){return i(e,(function(e,i,s){n=r?(r=!1,e):t(n,e,i,s)})),n}function $t(e,t){for(var n,r=-1,s=e.length;++r<s;){var o=t(e[r]);o!==i&&(n=n===i?o:n+o)}return n}function Xt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Jt(e){return e?e.slice(0,mn(e)+1).replace(oe,""):e}function Zt(e){return function(t){return e(t)}}function en(e,t){return Lt(t,(function(t){return e[t]}))}function tn(e,t){return e.has(t)}function nn(e,t){for(var n=-1,r=e.length;++n<r&&qt(t,e[n],0)>-1;);return n}function rn(e,t){for(var n=e.length;n--&&qt(t,e[n],0)>-1;);return n}var sn=Qt({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),on=Qt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function an(e){return"\\"+ct[e]}function ln(e){return it.test(e)}function un(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function cn(e,t){return function(n){return e(t(n))}}function hn(e,t){for(var n=-1,r=e.length,i=0,s=[];++n<r;){var o=e[n];o!==t&&o!==a||(e[n]=a,s[i++]=n)}return s}function dn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function fn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function pn(e){return ln(e)?function(e){var t=nt.lastIndex=0;for(;nt.test(e);)++t;return t}(e):Vt(e)}function gn(e){return ln(e)?function(e){return e.match(nt)||[]}(e):function(e){return e.split("")}(e)}function mn(e){for(var t=e.length;t--&&ae.test(e.charAt(t)););return t}var vn=Qt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var yn=function e(t){var n=(t=null==t?gt:yn.defaults(gt.Object(),t,yn.pick(gt,ot))).Array,r=t.Date,ae=t.Error,Se=t.Function,Te=t.Math,ke=t.Object,Ie=t.RegExp,xe=t.String,Ne=t.TypeError,Re=n.prototype,Ae=Se.prototype,Pe=ke.prototype,Oe=t["__core-js_shared__"],De=Ae.toString,Le=Pe.hasOwnProperty,Me=0,Fe=function(){var e=/[^.]+$/.exec(Oe&&Oe.keys&&Oe.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),je=Pe.toString,Ue=De.call(ke),Ve=gt._,ze=Ie("^"+De.call(Le).replace(ie,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Be=yt?t.Buffer:i,qe=t.Symbol,We=t.Uint8Array,He=Be?Be.allocUnsafe:i,Ke=cn(ke.getPrototypeOf,ke),Ge=ke.create,Qe=Pe.propertyIsEnumerable,Ye=Re.splice,$e=qe?qe.isConcatSpreadable:i,Xe=qe?qe.iterator:i,Je=qe?qe.toStringTag:i,Ze=function(){try{var e=hs(ke,"defineProperty");return e({},"",{}),e}catch(t){}}(),nt=t.clearTimeout!==gt.clearTimeout&&t.clearTimeout,it=r&&r.now!==gt.Date.now&&r.now,ct=t.setTimeout!==gt.setTimeout&&t.setTimeout,ft=Te.ceil,pt=Te.floor,mt=ke.getOwnPropertySymbols,vt=Be?Be.isBuffer:i,_t=t.isFinite,wt=Re.join,Vt=cn(ke.keys,ke),Qt=Te.max,_n=Te.min,wn=r.now,bn=t.parseInt,En=Te.random,Cn=Re.reverse,Sn=hs(t,"DataView"),Tn=hs(t,"Map"),kn=hs(t,"Promise"),In=hs(t,"Set"),xn=hs(t,"WeakMap"),Nn=hs(ke,"create"),Rn=xn&&new xn,An={},Pn=Fs(Sn),On=Fs(Tn),Dn=Fs(kn),Ln=Fs(In),Mn=Fs(xn),Fn=qe?qe.prototype:i,jn=Fn?Fn.valueOf:i,Un=Fn?Fn.toString:i;function Vn(e){if(ta(e)&&!Wo(e)&&!(e instanceof Wn)){if(e instanceof qn)return e;if(Le.call(e,"__wrapped__"))return js(e)}return new qn(e)}var zn=function(){function e(){}return function(t){if(!ea(t))return{};if(Ge)return Ge(t);e.prototype=t;var n=new e;return e.prototype=i,n}}();function Bn(){}function qn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}function Wn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=m,this.__views__=[]}function Hn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Kn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Gn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Qn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Gn;++t<n;)this.add(e[t])}function Yn(e){var t=this.__data__=new Kn(e);this.size=t.size}function $n(e,t){var n=Wo(e),r=!n&&qo(e),i=!n&&!r&&Qo(e),s=!n&&!r&&!i&&ua(e),o=n||r||i||s,a=o?Xt(e.length,xe):[],l=a.length;for(var u in e)!t&&!Le.call(e,u)||o&&("length"==u||i&&("offset"==u||"parent"==u)||s&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||ys(u,l))||a.push(u);return a}function Xn(e){var t=e.length;return t?e[Qr(0,t-1)]:i}function Jn(e,t){return Ds(Ni(e),ar(t,0,e.length))}function Zn(e){return Ds(Ni(e))}function er(e,t,n){(n!==i&&!Vo(e[t],n)||n===i&&!(t in e))&&sr(e,t,n)}function tr(e,t,n){var r=e[t];Le.call(e,t)&&Vo(r,n)&&(n!==i||t in e)||sr(e,t,n)}function nr(e,t){for(var n=e.length;n--;)if(Vo(e[n][0],t))return n;return-1}function rr(e,t,n,r){return dr(e,(function(e,i,s){t(r,e,n(e),s)})),r}function ir(e,t){return e&&Ri(t,Aa(t),e)}function sr(e,t,n){"__proto__"==t&&Ze?Ze(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function or(e,t){for(var r=-1,s=t.length,o=n(s),a=null==e;++r<s;)o[r]=a?i:ka(e,t[r]);return o}function ar(e,t,n){return e===e&&(n!==i&&(e=e<=n?e:n),t!==i&&(e=e>=t?e:t)),e}function lr(e,t,n,r,s,o){var a,l=1&t,u=2&t,c=4&t;if(n&&(a=s?n(e,r,s,o):n(e)),a!==i)return a;if(!ea(e))return e;var h=Wo(e);if(h){if(a=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&Le.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!l)return Ni(e,a)}else{var d=ps(e),f=d==C||d==S;if(Qo(e))return Ci(e,l);if(d==I||d==y||f&&!s){if(a=u||f?{}:ms(e),!l)return u?function(e,t){return Ri(e,fs(e),t)}(e,function(e,t){return e&&Ri(t,Pa(t),e)}(a,e)):function(e,t){return Ri(e,ds(e),t)}(e,ir(a,e))}else{if(!ut[d])return s?e:{};a=function(e,t,n){var r=e.constructor;switch(t){case D:return Si(e);case w:case b:return new r(+e);case L:return function(e,t){var n=t?Si(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case M:case F:case j:case U:case V:case z:case B:case q:case W:return Ti(e,n);case T:return new r;case k:case A:return new r(e);case N:return function(e){var t=new e.constructor(e.source,ge.exec(e));return t.lastIndex=e.lastIndex,t}(e);case R:return new r;case P:return i=e,jn?ke(jn.call(i)):{}}var i}(e,d,l)}}o||(o=new Yn);var p=o.get(e);if(p)return p;o.set(e,a),oa(e)?e.forEach((function(r){a.add(lr(r,t,n,r,e,o))})):na(e)&&e.forEach((function(r,i){a.set(i,lr(r,t,n,i,e,o))}));var g=h?i:(c?u?is:rs:u?Pa:Aa)(e);return Nt(g||e,(function(r,i){g&&(r=e[i=r]),tr(a,i,lr(r,t,n,i,e,o))})),a}function ur(e,t,n){var r=n.length;if(null==e)return!r;for(e=ke(e);r--;){var s=n[r],o=t[s],a=e[s];if(a===i&&!(s in e)||!o(a))return!1}return!0}function cr(e,t,n){if("function"!=typeof e)throw new Ne(s);return Rs((function(){e.apply(i,n)}),t)}function hr(e,t,n,r){var i=-1,s=Ot,o=!0,a=e.length,l=[],u=t.length;if(!a)return l;n&&(t=Lt(t,Zt(n))),r?(s=Dt,o=!1):t.length>=200&&(s=tn,o=!1,t=new Qn(t));e:for(;++i<a;){var c=e[i],h=null==n?c:n(c);if(c=r||0!==c?c:0,o&&h===h){for(var d=u;d--;)if(t[d]===h)continue e;l.push(c)}else s(t,h,r)||l.push(c)}return l}Vn.templateSettings={escape:J,evaluate:Z,interpolate:ee,variable:"",imports:{_:Vn}},Vn.prototype=Bn.prototype,Vn.prototype.constructor=Vn,qn.prototype=zn(Bn.prototype),qn.prototype.constructor=qn,Wn.prototype=zn(Bn.prototype),Wn.prototype.constructor=Wn,Hn.prototype.clear=function(){this.__data__=Nn?Nn(null):{},this.size=0},Hn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Hn.prototype.get=function(e){var t=this.__data__;if(Nn){var n=t[e];return n===o?i:n}return Le.call(t,e)?t[e]:i},Hn.prototype.has=function(e){var t=this.__data__;return Nn?t[e]!==i:Le.call(t,e)},Hn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Nn&&t===i?o:t,this},Kn.prototype.clear=function(){this.__data__=[],this.size=0},Kn.prototype.delete=function(e){var t=this.__data__,n=nr(t,e);return!(n<0)&&(n==t.length-1?t.pop():Ye.call(t,n,1),--this.size,!0)},Kn.prototype.get=function(e){var t=this.__data__,n=nr(t,e);return n<0?i:t[n][1]},Kn.prototype.has=function(e){return nr(this.__data__,e)>-1},Kn.prototype.set=function(e,t){var n=this.__data__,r=nr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Gn.prototype.clear=function(){this.size=0,this.__data__={hash:new Hn,map:new(Tn||Kn),string:new Hn}},Gn.prototype.delete=function(e){var t=us(this,e).delete(e);return this.size-=t?1:0,t},Gn.prototype.get=function(e){return us(this,e).get(e)},Gn.prototype.has=function(e){return us(this,e).has(e)},Gn.prototype.set=function(e,t){var n=us(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Qn.prototype.add=Qn.prototype.push=function(e){return this.__data__.set(e,o),this},Qn.prototype.has=function(e){return this.__data__.has(e)},Yn.prototype.clear=function(){this.__data__=new Kn,this.size=0},Yn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Yn.prototype.get=function(e){return this.__data__.get(e)},Yn.prototype.has=function(e){return this.__data__.has(e)},Yn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Kn){var r=n.__data__;if(!Tn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Gn(r)}return n.set(e,t),this.size=n.size,this};var dr=Oi(wr),fr=Oi(br,!0);function pr(e,t){var n=!0;return dr(e,(function(e,r,i){return n=!!t(e,r,i)})),n}function gr(e,t,n){for(var r=-1,s=e.length;++r<s;){var o=e[r],a=t(o);if(null!=a&&(l===i?a===a&&!la(a):n(a,l)))var l=a,u=o}return u}function mr(e,t){var n=[];return dr(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}function vr(e,t,n,r,i){var s=-1,o=e.length;for(n||(n=vs),i||(i=[]);++s<o;){var a=e[s];t>0&&n(a)?t>1?vr(a,t-1,n,r,i):Mt(i,a):r||(i[i.length]=a)}return i}var yr=Di(),_r=Di(!0);function wr(e,t){return e&&yr(e,t,Aa)}function br(e,t){return e&&_r(e,t,Aa)}function Er(e,t){return Pt(t,(function(t){return Xo(e[t])}))}function Cr(e,t){for(var n=0,r=(t=_i(t,e)).length;null!=e&&n<r;)e=e[Ms(t[n++])];return n&&n==r?e:i}function Sr(e,t,n){var r=t(e);return Wo(e)?r:Mt(r,n(e))}function Tr(e){return null==e?e===i?"[object Undefined]":"[object Null]":Je&&Je in ke(e)?function(e){var t=Le.call(e,Je),n=e[Je];try{e[Je]=i;var r=!0}catch(o){}var s=je.call(e);r&&(t?e[Je]=n:delete e[Je]);return s}(e):function(e){return je.call(e)}(e)}function kr(e,t){return e>t}function Ir(e,t){return null!=e&&Le.call(e,t)}function xr(e,t){return null!=e&&t in ke(e)}function Nr(e,t,r){for(var s=r?Dt:Ot,o=e[0].length,a=e.length,l=a,u=n(a),c=1/0,h=[];l--;){var d=e[l];l&&t&&(d=Lt(d,Zt(t))),c=_n(d.length,c),u[l]=!r&&(t||o>=120&&d.length>=120)?new Qn(l&&d):i}d=e[0];var f=-1,p=u[0];e:for(;++f<o&&h.length<c;){var g=d[f],m=t?t(g):g;if(g=r||0!==g?g:0,!(p?tn(p,m):s(h,m,r))){for(l=a;--l;){var v=u[l];if(!(v?tn(v,m):s(e[l],m,r)))continue e}p&&p.push(m),h.push(g)}}return h}function Rr(e,t,n){var r=null==(e=Is(e,t=_i(t,e)))?e:e[Ms(Ys(t))];return null==r?i:It(r,e,n)}function Ar(e){return ta(e)&&Tr(e)==y}function Pr(e,t,n,r,s){return e===t||(null==e||null==t||!ta(e)&&!ta(t)?e!==e&&t!==t:function(e,t,n,r,s,o){var a=Wo(e),l=Wo(t),u=a?_:ps(e),c=l?_:ps(t),h=(u=u==y?I:u)==I,d=(c=c==y?I:c)==I,f=u==c;if(f&&Qo(e)){if(!Qo(t))return!1;a=!0,h=!1}if(f&&!h)return o||(o=new Yn),a||ua(e)?ts(e,t,n,r,s,o):function(e,t,n,r,i,s,o){switch(n){case L:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case D:return!(e.byteLength!=t.byteLength||!s(new We(e),new We(t)));case w:case b:case k:return Vo(+e,+t);case E:return e.name==t.name&&e.message==t.message;case N:case A:return e==t+"";case T:var a=un;case R:var l=1&r;if(a||(a=dn),e.size!=t.size&&!l)return!1;var u=o.get(e);if(u)return u==t;r|=2,o.set(e,t);var c=ts(a(e),a(t),r,i,s,o);return o.delete(e),c;case P:if(jn)return jn.call(e)==jn.call(t)}return!1}(e,t,u,n,r,s,o);if(!(1&n)){var p=h&&Le.call(e,"__wrapped__"),g=d&&Le.call(t,"__wrapped__");if(p||g){var m=p?e.value():e,v=g?t.value():t;return o||(o=new Yn),s(m,v,n,r,o)}}if(!f)return!1;return o||(o=new Yn),function(e,t,n,r,s,o){var a=1&n,l=rs(e),u=l.length,c=rs(t),h=c.length;if(u!=h&&!a)return!1;var d=u;for(;d--;){var f=l[d];if(!(a?f in t:Le.call(t,f)))return!1}var p=o.get(e),g=o.get(t);if(p&&g)return p==t&&g==e;var m=!0;o.set(e,t),o.set(t,e);var v=a;for(;++d<u;){var y=e[f=l[d]],_=t[f];if(r)var w=a?r(_,y,f,t,e,o):r(y,_,f,e,t,o);if(!(w===i?y===_||s(y,_,n,r,o):w)){m=!1;break}v||(v="constructor"==f)}if(m&&!v){var b=e.constructor,E=t.constructor;b==E||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof E&&E instanceof E||(m=!1)}return o.delete(e),o.delete(t),m}(e,t,n,r,s,o)}(e,t,n,r,Pr,s))}function Or(e,t,n,r){var s=n.length,o=s,a=!r;if(null==e)return!o;for(e=ke(e);s--;){var l=n[s];if(a&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++s<o;){var u=(l=n[s])[0],c=e[u],h=l[1];if(a&&l[2]){if(c===i&&!(u in e))return!1}else{var d=new Yn;if(r)var f=r(c,h,u,e,t,d);if(!(f===i?Pr(h,c,3,r,d):f))return!1}}return!0}function Dr(e){return!(!ea(e)||(t=e,Fe&&Fe in t))&&(Xo(e)?ze:ye).test(Fs(e));var t}function Lr(e){return"function"==typeof e?e:null==e?rl:"object"==typeof e?Wo(e)?zr(e[0],e[1]):Vr(e):dl(e)}function Mr(e){if(!Cs(e))return Vt(e);var t=[];for(var n in ke(e))Le.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Fr(e){if(!ea(e))return function(e){var t=[];if(null!=e)for(var n in ke(e))t.push(n);return t}(e);var t=Cs(e),n=[];for(var r in e)("constructor"!=r||!t&&Le.call(e,r))&&n.push(r);return n}function jr(e,t){return e<t}function Ur(e,t){var r=-1,i=Ko(e)?n(e.length):[];return dr(e,(function(e,n,s){i[++r]=t(e,n,s)})),i}function Vr(e){var t=cs(e);return 1==t.length&&t[0][2]?Ts(t[0][0],t[0][1]):function(n){return n===e||Or(n,e,t)}}function zr(e,t){return ws(e)&&Ss(t)?Ts(Ms(e),t):function(n){var r=ka(n,e);return r===i&&r===t?Ia(n,e):Pr(t,r,3)}}function Br(e,t,n,r,s){e!==t&&yr(t,(function(o,a){if(s||(s=new Yn),ea(o))!function(e,t,n,r,s,o,a){var l=xs(e,n),u=xs(t,n),c=a.get(u);if(c)return void er(e,n,c);var h=o?o(l,u,n+"",e,t,a):i,d=h===i;if(d){var f=Wo(u),p=!f&&Qo(u),g=!f&&!p&&ua(u);h=u,f||p||g?Wo(l)?h=l:Go(l)?h=Ni(l):p?(d=!1,h=Ci(u,!0)):g?(d=!1,h=Ti(u,!0)):h=[]:ia(u)||qo(u)?(h=l,qo(l)?h=va(l):ea(l)&&!Xo(l)||(h=ms(u))):d=!1}d&&(a.set(u,h),s(h,u,r,o,a),a.delete(u));er(e,n,h)}(e,t,a,n,Br,r,s);else{var l=r?r(xs(e,a),o,a+"",e,t,s):i;l===i&&(l=o),er(e,a,l)}}),Pa)}function qr(e,t){var n=e.length;if(n)return ys(t+=t<0?n:0,n)?e[t]:i}function Wr(e,t,n){t=t.length?Lt(t,(function(e){return Wo(e)?function(t){return Cr(t,1===e.length?e[0]:e)}:e})):[rl];var r=-1;t=Lt(t,Zt(ls()));var i=Ur(e,(function(e,n,i){var s=Lt(t,(function(t){return t(e)}));return{criteria:s,index:++r,value:e}}));return function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(i,(function(e,t){return function(e,t,n){var r=-1,i=e.criteria,s=t.criteria,o=i.length,a=n.length;for(;++r<o;){var l=ki(i[r],s[r]);if(l)return r>=a?l:l*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}))}function Hr(e,t,n){for(var r=-1,i=t.length,s={};++r<i;){var o=t[r],a=Cr(e,o);n(a,o)&&Zr(s,_i(o,e),a)}return s}function Kr(e,t,n,r){var i=r?Wt:qt,s=-1,o=t.length,a=e;for(e===t&&(t=Ni(t)),n&&(a=Lt(e,Zt(n)));++s<o;)for(var l=0,u=t[s],c=n?n(u):u;(l=i(a,c,l,r))>-1;)a!==e&&Ye.call(a,l,1),Ye.call(e,l,1);return e}function Gr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==s){var s=i;ys(i)?Ye.call(e,i,1):hi(e,i)}}return e}function Qr(e,t){return e+pt(En()*(t-e+1))}function Yr(e,t){var n="";if(!e||t<1||t>p)return n;do{t%2&&(n+=e),(t=pt(t/2))&&(e+=e)}while(t);return n}function $r(e,t){return As(ks(e,t,rl),e+"")}function Xr(e){return Xn(Va(e))}function Jr(e,t){var n=Va(e);return Ds(n,ar(t,0,n.length))}function Zr(e,t,n,r){if(!ea(e))return e;for(var s=-1,o=(t=_i(t,e)).length,a=o-1,l=e;null!=l&&++s<o;){var u=Ms(t[s]),c=n;if("__proto__"===u||"constructor"===u||"prototype"===u)return e;if(s!=a){var h=l[u];(c=r?r(h,u,l):i)===i&&(c=ea(h)?h:ys(t[s+1])?[]:{})}tr(l,u,c),l=l[u]}return e}var ei=Rn?function(e,t){return Rn.set(e,t),e}:rl,ti=Ze?function(e,t){return Ze(e,"toString",{configurable:!0,enumerable:!1,value:el(t),writable:!0})}:rl;function ni(e){return Ds(Va(e))}function ri(e,t,r){var i=-1,s=e.length;t<0&&(t=-t>s?0:s+t),(r=r>s?s:r)<0&&(r+=s),s=t>r?0:r-t>>>0,t>>>=0;for(var o=n(s);++i<s;)o[i]=e[i+t];return o}function ii(e,t){var n;return dr(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}function si(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t===t&&i<=2147483647){for(;r<i;){var s=r+i>>>1,o=e[s];null!==o&&!la(o)&&(n?o<=t:o<t)?r=s+1:i=s}return i}return oi(e,t,rl,n)}function oi(e,t,n,r){var s=0,o=null==e?0:e.length;if(0===o)return 0;for(var a=(t=n(t))!==t,l=null===t,u=la(t),c=t===i;s<o;){var h=pt((s+o)/2),d=n(e[h]),f=d!==i,p=null===d,g=d===d,m=la(d);if(a)var v=r||g;else v=c?g&&(r||f):l?g&&f&&(r||!p):u?g&&f&&!p&&(r||!m):!p&&!m&&(r?d<=t:d<t);v?s=h+1:o=h}return _n(o,4294967294)}function ai(e,t){for(var n=-1,r=e.length,i=0,s=[];++n<r;){var o=e[n],a=t?t(o):o;if(!n||!Vo(a,l)){var l=a;s[i++]=0===o?0:o}}return s}function li(e){return"number"==typeof e?e:la(e)?g:+e}function ui(e){if("string"==typeof e)return e;if(Wo(e))return Lt(e,ui)+"";if(la(e))return Un?Un.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function ci(e,t,n){var r=-1,i=Ot,s=e.length,o=!0,a=[],l=a;if(n)o=!1,i=Dt;else if(s>=200){var u=t?null:Yi(e);if(u)return dn(u);o=!1,i=tn,l=new Qn}else l=t?[]:a;e:for(;++r<s;){var c=e[r],h=t?t(c):c;if(c=n||0!==c?c:0,o&&h===h){for(var d=l.length;d--;)if(l[d]===h)continue e;t&&l.push(h),a.push(c)}else i(l,h,n)||(l!==a&&l.push(h),a.push(c))}return a}function hi(e,t){return null==(e=Is(e,t=_i(t,e)))||delete e[Ms(Ys(t))]}function di(e,t,n,r){return Zr(e,t,n(Cr(e,t)),r)}function fi(e,t,n,r){for(var i=e.length,s=r?i:-1;(r?s--:++s<i)&&t(e[s],s,e););return n?ri(e,r?0:s,r?s+1:i):ri(e,r?s+1:0,r?i:s)}function pi(e,t){var n=e;return n instanceof Wn&&(n=n.value()),Ft(t,(function(e,t){return t.func.apply(t.thisArg,Mt([e],t.args))}),n)}function gi(e,t,r){var i=e.length;if(i<2)return i?ci(e[0]):[];for(var s=-1,o=n(i);++s<i;)for(var a=e[s],l=-1;++l<i;)l!=s&&(o[s]=hr(o[s]||a,e[l],t,r));return ci(vr(o,1),t,r)}function mi(e,t,n){for(var r=-1,s=e.length,o=t.length,a={};++r<s;){var l=r<o?t[r]:i;n(a,e[r],l)}return a}function vi(e){return Go(e)?e:[]}function yi(e){return"function"==typeof e?e:rl}function _i(e,t){return Wo(e)?e:ws(e,t)?[e]:Ls(ya(e))}var wi=$r;function bi(e,t,n){var r=e.length;return n=n===i?r:n,!t&&n>=r?e:ri(e,t,n)}var Ei=nt||function(e){return gt.clearTimeout(e)};function Ci(e,t){if(t)return e.slice();var n=e.length,r=He?He(n):new e.constructor(n);return e.copy(r),r}function Si(e){var t=new e.constructor(e.byteLength);return new We(t).set(new We(e)),t}function Ti(e,t){var n=t?Si(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function ki(e,t){if(e!==t){var n=e!==i,r=null===e,s=e===e,o=la(e),a=t!==i,l=null===t,u=t===t,c=la(t);if(!l&&!c&&!o&&e>t||o&&a&&u&&!l&&!c||r&&a&&u||!n&&u||!s)return 1;if(!r&&!o&&!c&&e<t||c&&n&&s&&!r&&!o||l&&n&&s||!a&&s||!u)return-1}return 0}function Ii(e,t,r,i){for(var s=-1,o=e.length,a=r.length,l=-1,u=t.length,c=Qt(o-a,0),h=n(u+c),d=!i;++l<u;)h[l]=t[l];for(;++s<a;)(d||s<o)&&(h[r[s]]=e[s]);for(;c--;)h[l++]=e[s++];return h}function xi(e,t,r,i){for(var s=-1,o=e.length,a=-1,l=r.length,u=-1,c=t.length,h=Qt(o-l,0),d=n(h+c),f=!i;++s<h;)d[s]=e[s];for(var p=s;++u<c;)d[p+u]=t[u];for(;++a<l;)(f||s<o)&&(d[p+r[a]]=e[s++]);return d}function Ni(e,t){var r=-1,i=e.length;for(t||(t=n(i));++r<i;)t[r]=e[r];return t}function Ri(e,t,n,r){var s=!n;n||(n={});for(var o=-1,a=t.length;++o<a;){var l=t[o],u=r?r(n[l],e[l],l,n,e):i;u===i&&(u=e[l]),s?sr(n,l,u):tr(n,l,u)}return n}function Ai(e,t){return function(n,r){var i=Wo(n)?xt:rr,s=t?t():{};return i(n,e,ls(r,2),s)}}function Pi(e){return $r((function(t,n){var r=-1,s=n.length,o=s>1?n[s-1]:i,a=s>2?n[2]:i;for(o=e.length>3&&"function"==typeof o?(s--,o):i,a&&_s(n[0],n[1],a)&&(o=s<3?i:o,s=1),t=ke(t);++r<s;){var l=n[r];l&&e(t,l,r,o)}return t}))}function Oi(e,t){return function(n,r){if(null==n)return n;if(!Ko(n))return e(n,r);for(var i=n.length,s=t?i:-1,o=ke(n);(t?s--:++s<i)&&!1!==r(o[s],s,o););return n}}function Di(e){return function(t,n,r){for(var i=-1,s=ke(t),o=r(t),a=o.length;a--;){var l=o[e?a:++i];if(!1===n(s[l],l,s))break}return t}}function Li(e){return function(t){var n=ln(t=ya(t))?gn(t):i,r=n?n[0]:t.charAt(0),s=n?bi(n,1).join(""):t.slice(1);return r[e]()+s}}function Mi(e){return function(t){return Ft(Xa(qa(t).replace(et,"")),e,"")}}function Fi(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=zn(e.prototype),r=e.apply(n,t);return ea(r)?r:n}}function ji(e){return function(t,n,r){var s=ke(t);if(!Ko(t)){var o=ls(n,3);t=Aa(t),n=function(e){return o(s[e],e,s)}}var a=e(t,n,r);return a>-1?s[o?t[a]:a]:i}}function Ui(e){return ns((function(t){var n=t.length,r=n,o=qn.prototype.thru;for(e&&t.reverse();r--;){var a=t[r];if("function"!=typeof a)throw new Ne(s);if(o&&!l&&"wrapper"==os(a))var l=new qn([],!0)}for(r=l?r:n;++r<n;){var u=os(a=t[r]),c="wrapper"==u?ss(a):i;l=c&&bs(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?l[os(c[0])].apply(l,c[3]):1==a.length&&bs(a)?l[u]():l.thru(a)}return function(){var e=arguments,r=e[0];if(l&&1==e.length&&Wo(r))return l.plant(r).value();for(var i=0,s=n?t[i].apply(this,e):r;++i<n;)s=t[i].call(this,s);return s}}))}function Vi(e,t,r,s,o,a,l,u,c,d){var f=t&h,p=1&t,g=2&t,m=24&t,v=512&t,y=g?i:Fi(e);return function h(){for(var _=arguments.length,w=n(_),b=_;b--;)w[b]=arguments[b];if(m)var E=as(h),C=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}(w,E);if(s&&(w=Ii(w,s,o,m)),a&&(w=xi(w,a,l,m)),_-=C,m&&_<d){var S=hn(w,E);return Gi(e,t,Vi,h.placeholder,r,w,S,u,c,d-_)}var T=p?r:this,k=g?T[e]:e;return _=w.length,u?w=function(e,t){var n=e.length,r=_n(t.length,n),s=Ni(e);for(;r--;){var o=t[r];e[r]=ys(o,n)?s[o]:i}return e}(w,u):v&&_>1&&w.reverse(),f&&c<_&&(w.length=c),this&&this!==gt&&this instanceof h&&(k=y||Fi(k)),k.apply(T,w)}}function zi(e,t){return function(n,r){return function(e,t,n,r){return wr(e,(function(e,i,s){t(r,n(e),i,s)})),r}(n,e,t(r),{})}}function Bi(e,t){return function(n,r){var s;if(n===i&&r===i)return t;if(n!==i&&(s=n),r!==i){if(s===i)return r;"string"==typeof n||"string"==typeof r?(n=ui(n),r=ui(r)):(n=li(n),r=li(r)),s=e(n,r)}return s}}function qi(e){return ns((function(t){return t=Lt(t,Zt(ls())),$r((function(n){var r=this;return e(t,(function(e){return It(e,r,n)}))}))}))}function Wi(e,t){var n=(t=t===i?" ":ui(t)).length;if(n<2)return n?Yr(t,e):t;var r=Yr(t,ft(e/pn(t)));return ln(t)?bi(gn(r),0,e).join(""):r.slice(0,e)}function Hi(e){return function(t,r,s){return s&&"number"!=typeof s&&_s(t,r,s)&&(r=s=i),t=fa(t),r===i?(r=t,t=0):r=fa(r),function(e,t,r,i){for(var s=-1,o=Qt(ft((t-e)/(r||1)),0),a=n(o);o--;)a[i?o:++s]=e,e+=r;return a}(t,r,s=s===i?t<r?1:-1:fa(s),e)}}function Ki(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=ma(t),n=ma(n)),e(t,n)}}function Gi(e,t,n,r,s,o,a,l,h,d){var f=8&t;t|=f?u:c,4&(t&=~(f?c:u))||(t&=-4);var p=[e,t,s,f?o:i,f?a:i,f?i:o,f?i:a,l,h,d],g=n.apply(i,p);return bs(e)&&Ns(g,p),g.placeholder=r,Ps(g,e,t)}function Qi(e){var t=Te[e];return function(e,n){if(e=ma(e),(n=null==n?0:_n(pa(n),292))&&_t(e)){var r=(ya(e)+"e").split("e");return+((r=(ya(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Yi=In&&1/dn(new In([,-0]))[1]==f?function(e){return new In(e)}:ll;function $i(e){return function(t){var n=ps(t);return n==T?un(t):n==R?fn(t):function(e,t){return Lt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Xi(e,t,r,o,f,p,g,m){var v=2&t;if(!v&&"function"!=typeof e)throw new Ne(s);var y=o?o.length:0;if(y||(t&=-97,o=f=i),g=g===i?g:Qt(pa(g),0),m=m===i?m:pa(m),y-=f?f.length:0,t&c){var _=o,w=f;o=f=i}var b=v?i:ss(e),E=[e,t,r,o,f,_,w,p,g,m];if(b&&function(e,t){var n=e[1],r=t[1],i=n|r,s=i<131,o=r==h&&8==n||r==h&&n==d&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!s&&!o)return e;1&r&&(e[2]=t[2],i|=1&n?0:4);var l=t[3];if(l){var u=e[3];e[3]=u?Ii(u,l,t[4]):l,e[4]=u?hn(e[3],a):t[4]}(l=t[5])&&(u=e[5],e[5]=u?xi(u,l,t[6]):l,e[6]=u?hn(e[5],a):t[6]);(l=t[7])&&(e[7]=l);r&h&&(e[8]=null==e[8]?t[8]:_n(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=i}(E,b),e=E[0],t=E[1],r=E[2],o=E[3],f=E[4],!(m=E[9]=E[9]===i?v?0:e.length:Qt(E[9]-y,0))&&24&t&&(t&=-25),t&&1!=t)C=8==t||t==l?function(e,t,r){var s=Fi(e);return function o(){for(var a=arguments.length,l=n(a),u=a,c=as(o);u--;)l[u]=arguments[u];var h=a<3&&l[0]!==c&&l[a-1]!==c?[]:hn(l,c);return(a-=h.length)<r?Gi(e,t,Vi,o.placeholder,i,l,h,i,i,r-a):It(this&&this!==gt&&this instanceof o?s:e,this,l)}}(e,t,m):t!=u&&33!=t||f.length?Vi.apply(i,E):function(e,t,r,i){var s=1&t,o=Fi(e);return function t(){for(var a=-1,l=arguments.length,u=-1,c=i.length,h=n(c+l),d=this&&this!==gt&&this instanceof t?o:e;++u<c;)h[u]=i[u];for(;l--;)h[u++]=arguments[++a];return It(d,s?r:this,h)}}(e,t,r,o);else var C=function(e,t,n){var r=1&t,i=Fi(e);return function t(){return(this&&this!==gt&&this instanceof t?i:e).apply(r?n:this,arguments)}}(e,t,r);return Ps((b?ei:Ns)(C,E),e,t)}function Ji(e,t,n,r){return e===i||Vo(e,Pe[n])&&!Le.call(r,n)?t:e}function Zi(e,t,n,r,s,o){return ea(e)&&ea(t)&&(o.set(t,e),Br(e,t,i,Zi,o),o.delete(t)),e}function es(e){return ia(e)?i:e}function ts(e,t,n,r,s,o){var a=1&n,l=e.length,u=t.length;if(l!=u&&!(a&&u>l))return!1;var c=o.get(e),h=o.get(t);if(c&&h)return c==t&&h==e;var d=-1,f=!0,p=2&n?new Qn:i;for(o.set(e,t),o.set(t,e);++d<l;){var g=e[d],m=t[d];if(r)var v=a?r(m,g,d,t,e,o):r(g,m,d,e,t,o);if(v!==i){if(v)continue;f=!1;break}if(p){if(!Ut(t,(function(e,t){if(!tn(p,t)&&(g===e||s(g,e,n,r,o)))return p.push(t)}))){f=!1;break}}else if(g!==m&&!s(g,m,n,r,o)){f=!1;break}}return o.delete(e),o.delete(t),f}function ns(e){return As(ks(e,i,Ws),e+"")}function rs(e){return Sr(e,Aa,ds)}function is(e){return Sr(e,Pa,fs)}var ss=Rn?function(e){return Rn.get(e)}:ll;function os(e){for(var t=e.name+"",n=An[t],r=Le.call(An,t)?n.length:0;r--;){var i=n[r],s=i.func;if(null==s||s==e)return i.name}return t}function as(e){return(Le.call(Vn,"placeholder")?Vn:e).placeholder}function ls(){var e=Vn.iteratee||il;return e=e===il?Lr:e,arguments.length?e(arguments[0],arguments[1]):e}function us(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function cs(e){for(var t=Aa(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,Ss(i)]}return t}function hs(e,t){var n=function(e,t){return null==e?i:e[t]}(e,t);return Dr(n)?n:i}var ds=mt?function(e){return null==e?[]:(e=ke(e),Pt(mt(e),(function(t){return Qe.call(e,t)})))}:gl,fs=mt?function(e){for(var t=[];e;)Mt(t,ds(e)),e=Ke(e);return t}:gl,ps=Tr;function gs(e,t,n){for(var r=-1,i=(t=_i(t,e)).length,s=!1;++r<i;){var o=Ms(t[r]);if(!(s=null!=e&&n(e,o)))break;e=e[o]}return s||++r!=i?s:!!(i=null==e?0:e.length)&&Zo(i)&&ys(o,i)&&(Wo(e)||qo(e))}function ms(e){return"function"!=typeof e.constructor||Cs(e)?{}:zn(Ke(e))}function vs(e){return Wo(e)||qo(e)||!!($e&&e&&e[$e])}function ys(e,t){var n=typeof e;return!!(t=null==t?p:t)&&("number"==n||"symbol"!=n&&we.test(e))&&e>-1&&e%1==0&&e<t}function _s(e,t,n){if(!ea(n))return!1;var r=typeof t;return!!("number"==r?Ko(n)&&ys(t,n.length):"string"==r&&t in n)&&Vo(n[t],e)}function ws(e,t){if(Wo(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!la(e))||(ne.test(e)||!te.test(e)||null!=t&&e in ke(t))}function bs(e){var t=os(e),n=Vn[t];if("function"!=typeof n||!(t in Wn.prototype))return!1;if(e===n)return!0;var r=ss(n);return!!r&&e===r[0]}(Sn&&ps(new Sn(new ArrayBuffer(1)))!=L||Tn&&ps(new Tn)!=T||kn&&ps(kn.resolve())!=x||In&&ps(new In)!=R||xn&&ps(new xn)!=O)&&(ps=function(e){var t=Tr(e),n=t==I?e.constructor:i,r=n?Fs(n):"";if(r)switch(r){case Pn:return L;case On:return T;case Dn:return x;case Ln:return R;case Mn:return O}return t});var Es=Oe?Xo:ml;function Cs(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Pe)}function Ss(e){return e===e&&!ea(e)}function Ts(e,t){return function(n){return null!=n&&(n[e]===t&&(t!==i||e in ke(n)))}}function ks(e,t,r){return t=Qt(t===i?e.length-1:t,0),function(){for(var i=arguments,s=-1,o=Qt(i.length-t,0),a=n(o);++s<o;)a[s]=i[t+s];s=-1;for(var l=n(t+1);++s<t;)l[s]=i[s];return l[t]=r(a),It(e,this,l)}}function Is(e,t){return t.length<2?e:Cr(e,ri(t,0,-1))}function xs(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}var Ns=Os(ei),Rs=ct||function(e,t){return gt.setTimeout(e,t)},As=Os(ti);function Ps(e,t,n){var r=t+"";return As(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(le,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return Nt(v,(function(n){var r="_."+n[0];t&n[1]&&!Ot(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(ue);return t?t[1].split(ce):[]}(r),n)))}function Os(e){var t=0,n=0;return function(){var r=wn(),s=16-(r-n);if(n=r,s>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(i,arguments)}}function Ds(e,t){var n=-1,r=e.length,s=r-1;for(t=t===i?r:t;++n<t;){var o=Qr(n,s),a=e[o];e[o]=e[n],e[n]=a}return e.length=t,e}var Ls=function(e){var t=Do(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(re,(function(e,n,r,i){t.push(r?i.replace(fe,"$1"):n||e)})),t}));function Ms(e){if("string"==typeof e||la(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Fs(e){if(null!=e){try{return De.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function js(e){if(e instanceof Wn)return e.clone();var t=new qn(e.__wrapped__,e.__chain__);return t.__actions__=Ni(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Us=$r((function(e,t){return Go(e)?hr(e,vr(t,1,Go,!0)):[]})),Vs=$r((function(e,t){var n=Ys(t);return Go(n)&&(n=i),Go(e)?hr(e,vr(t,1,Go,!0),ls(n,2)):[]})),zs=$r((function(e,t){var n=Ys(t);return Go(n)&&(n=i),Go(e)?hr(e,vr(t,1,Go,!0),i,n):[]}));function Bs(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:pa(n);return i<0&&(i=Qt(r+i,0)),Bt(e,ls(t,3),i)}function qs(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var s=r-1;return n!==i&&(s=pa(n),s=n<0?Qt(r+s,0):_n(s,r-1)),Bt(e,ls(t,3),s,!0)}function Ws(e){return(null==e?0:e.length)?vr(e,1):[]}function Hs(e){return e&&e.length?e[0]:i}var Ks=$r((function(e){var t=Lt(e,vi);return t.length&&t[0]===e[0]?Nr(t):[]})),Gs=$r((function(e){var t=Ys(e),n=Lt(e,vi);return t===Ys(n)?t=i:n.pop(),n.length&&n[0]===e[0]?Nr(n,ls(t,2)):[]})),Qs=$r((function(e){var t=Ys(e),n=Lt(e,vi);return(t="function"==typeof t?t:i)&&n.pop(),n.length&&n[0]===e[0]?Nr(n,i,t):[]}));function Ys(e){var t=null==e?0:e.length;return t?e[t-1]:i}var $s=$r(Xs);function Xs(e,t){return e&&e.length&&t&&t.length?Kr(e,t):e}var Js=ns((function(e,t){var n=null==e?0:e.length,r=or(e,t);return Gr(e,Lt(t,(function(e){return ys(e,n)?+e:e})).sort(ki)),r}));function Zs(e){return null==e?e:Cn.call(e)}var eo=$r((function(e){return ci(vr(e,1,Go,!0))})),to=$r((function(e){var t=Ys(e);return Go(t)&&(t=i),ci(vr(e,1,Go,!0),ls(t,2))})),no=$r((function(e){var t=Ys(e);return t="function"==typeof t?t:i,ci(vr(e,1,Go,!0),i,t)}));function ro(e){if(!e||!e.length)return[];var t=0;return e=Pt(e,(function(e){if(Go(e))return t=Qt(e.length,t),!0})),Xt(t,(function(t){return Lt(e,Gt(t))}))}function io(e,t){if(!e||!e.length)return[];var n=ro(e);return null==t?n:Lt(n,(function(e){return It(t,i,e)}))}var so=$r((function(e,t){return Go(e)?hr(e,t):[]})),oo=$r((function(e){return gi(Pt(e,Go))})),ao=$r((function(e){var t=Ys(e);return Go(t)&&(t=i),gi(Pt(e,Go),ls(t,2))})),lo=$r((function(e){var t=Ys(e);return t="function"==typeof t?t:i,gi(Pt(e,Go),i,t)})),uo=$r(ro);var co=$r((function(e){var t=e.length,n=t>1?e[t-1]:i;return n="function"==typeof n?(e.pop(),n):i,io(e,n)}));function ho(e){var t=Vn(e);return t.__chain__=!0,t}function fo(e,t){return t(e)}var po=ns((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,s=function(t){return or(t,e)};return!(t>1||this.__actions__.length)&&r instanceof Wn&&ys(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:fo,args:[s],thisArg:i}),new qn(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(i),e}))):this.thru(s)}));var go=Ai((function(e,t,n){Le.call(e,n)?++e[n]:sr(e,n,1)}));var mo=ji(Bs),vo=ji(qs);function yo(e,t){return(Wo(e)?Nt:dr)(e,ls(t,3))}function _o(e,t){return(Wo(e)?Rt:fr)(e,ls(t,3))}var wo=Ai((function(e,t,n){Le.call(e,n)?e[n].push(t):sr(e,n,[t])}));var bo=$r((function(e,t,r){var i=-1,s="function"==typeof t,o=Ko(e)?n(e.length):[];return dr(e,(function(e){o[++i]=s?It(t,e,r):Rr(e,t,r)})),o})),Eo=Ai((function(e,t,n){sr(e,n,t)}));function Co(e,t){return(Wo(e)?Lt:Ur)(e,ls(t,3))}var So=Ai((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var To=$r((function(e,t){if(null==e)return[];var n=t.length;return n>1&&_s(e,t[0],t[1])?t=[]:n>2&&_s(t[0],t[1],t[2])&&(t=[t[0]]),Wr(e,vr(t,1),[])})),ko=it||function(){return gt.Date.now()};function Io(e,t,n){return t=n?i:t,t=e&&null==t?e.length:t,Xi(e,h,i,i,i,i,t)}function xo(e,t){var n;if("function"!=typeof t)throw new Ne(s);return e=pa(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=i),n}}var No=$r((function(e,t,n){var r=1;if(n.length){var i=hn(n,as(No));r|=u}return Xi(e,r,t,n,i)})),Ro=$r((function(e,t,n){var r=3;if(n.length){var i=hn(n,as(Ro));r|=u}return Xi(t,r,e,n,i)}));function Ao(e,t,n){var r,o,a,l,u,c,h=0,d=!1,f=!1,p=!0;if("function"!=typeof e)throw new Ne(s);function g(t){var n=r,s=o;return r=o=i,h=t,l=e.apply(s,n)}function m(e){var n=e-c;return c===i||n>=t||n<0||f&&e-h>=a}function v(){var e=ko();if(m(e))return y(e);u=Rs(v,function(e){var n=t-(e-c);return f?_n(n,a-(e-h)):n}(e))}function y(e){return u=i,p&&r?g(e):(r=o=i,l)}function _(){var e=ko(),n=m(e);if(r=arguments,o=this,c=e,n){if(u===i)return function(e){return h=e,u=Rs(v,t),d?g(e):l}(c);if(f)return Ei(u),u=Rs(v,t),g(c)}return u===i&&(u=Rs(v,t)),l}return t=ma(t)||0,ea(n)&&(d=!!n.leading,a=(f="maxWait"in n)?Qt(ma(n.maxWait)||0,t):a,p="trailing"in n?!!n.trailing:p),_.cancel=function(){u!==i&&Ei(u),h=0,r=c=o=u=i},_.flush=function(){return u===i?l:y(ko())},_}var Po=$r((function(e,t){return cr(e,1,t)})),Oo=$r((function(e,t,n){return cr(e,ma(t)||0,n)}));function Do(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Ne(s);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=e.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(Do.Cache||Gn),n}function Lo(e){if("function"!=typeof e)throw new Ne(s);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Do.Cache=Gn;var Mo=wi((function(e,t){var n=(t=1==t.length&&Wo(t[0])?Lt(t[0],Zt(ls())):Lt(vr(t,1),Zt(ls()))).length;return $r((function(r){for(var i=-1,s=_n(r.length,n);++i<s;)r[i]=t[i].call(this,r[i]);return It(e,this,r)}))})),Fo=$r((function(e,t){var n=hn(t,as(Fo));return Xi(e,u,i,t,n)})),jo=$r((function(e,t){var n=hn(t,as(jo));return Xi(e,c,i,t,n)})),Uo=ns((function(e,t){return Xi(e,d,i,i,i,t)}));function Vo(e,t){return e===t||e!==e&&t!==t}var zo=Ki(kr),Bo=Ki((function(e,t){return e>=t})),qo=Ar(function(){return arguments}())?Ar:function(e){return ta(e)&&Le.call(e,"callee")&&!Qe.call(e,"callee")},Wo=n.isArray,Ho=bt?Zt(bt):function(e){return ta(e)&&Tr(e)==D};function Ko(e){return null!=e&&Zo(e.length)&&!Xo(e)}function Go(e){return ta(e)&&Ko(e)}var Qo=vt||ml,Yo=Et?Zt(Et):function(e){return ta(e)&&Tr(e)==b};function $o(e){if(!ta(e))return!1;var t=Tr(e);return t==E||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!ia(e)}function Xo(e){if(!ea(e))return!1;var t=Tr(e);return t==C||t==S||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Jo(e){return"number"==typeof e&&e==pa(e)}function Zo(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=p}function ea(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ta(e){return null!=e&&"object"==typeof e}var na=Ct?Zt(Ct):function(e){return ta(e)&&ps(e)==T};function ra(e){return"number"==typeof e||ta(e)&&Tr(e)==k}function ia(e){if(!ta(e)||Tr(e)!=I)return!1;var t=Ke(e);if(null===t)return!0;var n=Le.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&De.call(n)==Ue}var sa=St?Zt(St):function(e){return ta(e)&&Tr(e)==N};var oa=Tt?Zt(Tt):function(e){return ta(e)&&ps(e)==R};function aa(e){return"string"==typeof e||!Wo(e)&&ta(e)&&Tr(e)==A}function la(e){return"symbol"==typeof e||ta(e)&&Tr(e)==P}var ua=kt?Zt(kt):function(e){return ta(e)&&Zo(e.length)&&!!lt[Tr(e)]};var ca=Ki(jr),ha=Ki((function(e,t){return e<=t}));function da(e){if(!e)return[];if(Ko(e))return aa(e)?gn(e):Ni(e);if(Xe&&e[Xe])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Xe]());var t=ps(e);return(t==T?un:t==R?dn:Va)(e)}function fa(e){return e?(e=ma(e))===f||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}function pa(e){var t=fa(e),n=t%1;return t===t?n?t-n:t:0}function ga(e){return e?ar(pa(e),0,m):0}function ma(e){if("number"==typeof e)return e;if(la(e))return g;if(ea(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ea(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Jt(e);var n=ve.test(e);return n||_e.test(e)?dt(e.slice(2),n?2:8):me.test(e)?g:+e}function va(e){return Ri(e,Pa(e))}function ya(e){return null==e?"":ui(e)}var _a=Pi((function(e,t){if(Cs(t)||Ko(t))Ri(t,Aa(t),e);else for(var n in t)Le.call(t,n)&&tr(e,n,t[n])})),wa=Pi((function(e,t){Ri(t,Pa(t),e)})),ba=Pi((function(e,t,n,r){Ri(t,Pa(t),e,r)})),Ea=Pi((function(e,t,n,r){Ri(t,Aa(t),e,r)})),Ca=ns(or);var Sa=$r((function(e,t){e=ke(e);var n=-1,r=t.length,s=r>2?t[2]:i;for(s&&_s(t[0],t[1],s)&&(r=1);++n<r;)for(var o=t[n],a=Pa(o),l=-1,u=a.length;++l<u;){var c=a[l],h=e[c];(h===i||Vo(h,Pe[c])&&!Le.call(e,c))&&(e[c]=o[c])}return e})),Ta=$r((function(e){return e.push(i,Zi),It(Da,i,e)}));function ka(e,t,n){var r=null==e?i:Cr(e,t);return r===i?n:r}function Ia(e,t){return null!=e&&gs(e,t,xr)}var xa=zi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=je.call(t)),e[t]=n}),el(rl)),Na=zi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=je.call(t)),Le.call(e,t)?e[t].push(n):e[t]=[n]}),ls),Ra=$r(Rr);function Aa(e){return Ko(e)?$n(e):Mr(e)}function Pa(e){return Ko(e)?$n(e,!0):Fr(e)}var Oa=Pi((function(e,t,n){Br(e,t,n)})),Da=Pi((function(e,t,n,r){Br(e,t,n,r)})),La=ns((function(e,t){var n={};if(null==e)return n;var r=!1;t=Lt(t,(function(t){return t=_i(t,e),r||(r=t.length>1),t})),Ri(e,is(e),n),r&&(n=lr(n,7,es));for(var i=t.length;i--;)hi(n,t[i]);return n}));var Ma=ns((function(e,t){return null==e?{}:function(e,t){return Hr(e,t,(function(t,n){return Ia(e,n)}))}(e,t)}));function Fa(e,t){if(null==e)return{};var n=Lt(is(e),(function(e){return[e]}));return t=ls(t),Hr(e,n,(function(e,n){return t(e,n[0])}))}var ja=$i(Aa),Ua=$i(Pa);function Va(e){return null==e?[]:en(e,Aa(e))}var za=Mi((function(e,t,n){return t=t.toLowerCase(),e+(n?Ba(t):t)}));function Ba(e){return $a(ya(e).toLowerCase())}function qa(e){return(e=ya(e))&&e.replace(be,sn).replace(tt,"")}var Wa=Mi((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Ha=Mi((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Ka=Li("toLowerCase");var Ga=Mi((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var Qa=Mi((function(e,t,n){return e+(n?" ":"")+$a(t)}));var Ya=Mi((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),$a=Li("toUpperCase");function Xa(e,t,n){return e=ya(e),(t=n?i:t)===i?function(e){return st.test(e)}(e)?function(e){return e.match(rt)||[]}(e):function(e){return e.match(he)||[]}(e):e.match(t)||[]}var Ja=$r((function(e,t){try{return It(e,i,t)}catch(n){return $o(n)?n:new ae(n)}})),Za=ns((function(e,t){return Nt(t,(function(t){t=Ms(t),sr(e,t,No(e[t],e))})),e}));function el(e){return function(){return e}}var tl=Ui(),nl=Ui(!0);function rl(e){return e}function il(e){return Lr("function"==typeof e?e:lr(e,1))}var sl=$r((function(e,t){return function(n){return Rr(n,e,t)}})),ol=$r((function(e,t){return function(n){return Rr(e,n,t)}}));function al(e,t,n){var r=Aa(t),i=Er(t,r);null!=n||ea(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=Er(t,Aa(t)));var s=!(ea(n)&&"chain"in n)||!!n.chain,o=Xo(e);return Nt(i,(function(n){var r=t[n];e[n]=r,o&&(e.prototype[n]=function(){var t=this.__chain__;if(s||t){var n=e(this.__wrapped__);return(n.__actions__=Ni(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,Mt([this.value()],arguments))})})),e}function ll(){}var ul=qi(Lt),cl=qi(At),hl=qi(Ut);function dl(e){return ws(e)?Gt(Ms(e)):function(e){return function(t){return Cr(t,e)}}(e)}var fl=Hi(),pl=Hi(!0);function gl(){return[]}function ml(){return!1}var vl=Bi((function(e,t){return e+t}),0),yl=Qi("ceil"),_l=Bi((function(e,t){return e/t}),1),wl=Qi("floor");var bl=Bi((function(e,t){return e*t}),1),El=Qi("round"),Cl=Bi((function(e,t){return e-t}),0);return Vn.after=function(e,t){if("function"!=typeof t)throw new Ne(s);return e=pa(e),function(){if(--e<1)return t.apply(this,arguments)}},Vn.ary=Io,Vn.assign=_a,Vn.assignIn=wa,Vn.assignInWith=ba,Vn.assignWith=Ea,Vn.at=Ca,Vn.before=xo,Vn.bind=No,Vn.bindAll=Za,Vn.bindKey=Ro,Vn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Wo(e)?e:[e]},Vn.chain=ho,Vn.chunk=function(e,t,r){t=(r?_s(e,t,r):t===i)?1:Qt(pa(t),0);var s=null==e?0:e.length;if(!s||t<1)return[];for(var o=0,a=0,l=n(ft(s/t));o<s;)l[a++]=ri(e,o,o+=t);return l},Vn.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var s=e[t];s&&(i[r++]=s)}return i},Vn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=n(e-1),r=arguments[0],i=e;i--;)t[i-1]=arguments[i];return Mt(Wo(r)?Ni(r):[r],vr(t,1))},Vn.cond=function(e){var t=null==e?0:e.length,n=ls();return e=t?Lt(e,(function(e){if("function"!=typeof e[1])throw new Ne(s);return[n(e[0]),e[1]]})):[],$r((function(n){for(var r=-1;++r<t;){var i=e[r];if(It(i[0],this,n))return It(i[1],this,n)}}))},Vn.conforms=function(e){return function(e){var t=Aa(e);return function(n){return ur(n,e,t)}}(lr(e,1))},Vn.constant=el,Vn.countBy=go,Vn.create=function(e,t){var n=zn(e);return null==t?n:ir(n,t)},Vn.curry=function e(t,n,r){var s=Xi(t,8,i,i,i,i,i,n=r?i:n);return s.placeholder=e.placeholder,s},Vn.curryRight=function e(t,n,r){var s=Xi(t,l,i,i,i,i,i,n=r?i:n);return s.placeholder=e.placeholder,s},Vn.debounce=Ao,Vn.defaults=Sa,Vn.defaultsDeep=Ta,Vn.defer=Po,Vn.delay=Oo,Vn.difference=Us,Vn.differenceBy=Vs,Vn.differenceWith=zs,Vn.drop=function(e,t,n){var r=null==e?0:e.length;return r?ri(e,(t=n||t===i?1:pa(t))<0?0:t,r):[]},Vn.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?ri(e,0,(t=r-(t=n||t===i?1:pa(t)))<0?0:t):[]},Vn.dropRightWhile=function(e,t){return e&&e.length?fi(e,ls(t,3),!0,!0):[]},Vn.dropWhile=function(e,t){return e&&e.length?fi(e,ls(t,3),!0):[]},Vn.fill=function(e,t,n,r){var s=null==e?0:e.length;return s?(n&&"number"!=typeof n&&_s(e,t,n)&&(n=0,r=s),function(e,t,n,r){var s=e.length;for((n=pa(n))<0&&(n=-n>s?0:s+n),(r=r===i||r>s?s:pa(r))<0&&(r+=s),r=n>r?0:ga(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},Vn.filter=function(e,t){return(Wo(e)?Pt:mr)(e,ls(t,3))},Vn.flatMap=function(e,t){return vr(Co(e,t),1)},Vn.flatMapDeep=function(e,t){return vr(Co(e,t),f)},Vn.flatMapDepth=function(e,t,n){return n=n===i?1:pa(n),vr(Co(e,t),n)},Vn.flatten=Ws,Vn.flattenDeep=function(e){return(null==e?0:e.length)?vr(e,f):[]},Vn.flattenDepth=function(e,t){return(null==e?0:e.length)?vr(e,t=t===i?1:pa(t)):[]},Vn.flip=function(e){return Xi(e,512)},Vn.flow=tl,Vn.flowRight=nl,Vn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},Vn.functions=function(e){return null==e?[]:Er(e,Aa(e))},Vn.functionsIn=function(e){return null==e?[]:Er(e,Pa(e))},Vn.groupBy=wo,Vn.initial=function(e){return(null==e?0:e.length)?ri(e,0,-1):[]},Vn.intersection=Ks,Vn.intersectionBy=Gs,Vn.intersectionWith=Qs,Vn.invert=xa,Vn.invertBy=Na,Vn.invokeMap=bo,Vn.iteratee=il,Vn.keyBy=Eo,Vn.keys=Aa,Vn.keysIn=Pa,Vn.map=Co,Vn.mapKeys=function(e,t){var n={};return t=ls(t,3),wr(e,(function(e,r,i){sr(n,t(e,r,i),e)})),n},Vn.mapValues=function(e,t){var n={};return t=ls(t,3),wr(e,(function(e,r,i){sr(n,r,t(e,r,i))})),n},Vn.matches=function(e){return Vr(lr(e,1))},Vn.matchesProperty=function(e,t){return zr(e,lr(t,1))},Vn.memoize=Do,Vn.merge=Oa,Vn.mergeWith=Da,Vn.method=sl,Vn.methodOf=ol,Vn.mixin=al,Vn.negate=Lo,Vn.nthArg=function(e){return e=pa(e),$r((function(t){return qr(t,e)}))},Vn.omit=La,Vn.omitBy=function(e,t){return Fa(e,Lo(ls(t)))},Vn.once=function(e){return xo(2,e)},Vn.orderBy=function(e,t,n,r){return null==e?[]:(Wo(t)||(t=null==t?[]:[t]),Wo(n=r?i:n)||(n=null==n?[]:[n]),Wr(e,t,n))},Vn.over=ul,Vn.overArgs=Mo,Vn.overEvery=cl,Vn.overSome=hl,Vn.partial=Fo,Vn.partialRight=jo,Vn.partition=So,Vn.pick=Ma,Vn.pickBy=Fa,Vn.property=dl,Vn.propertyOf=function(e){return function(t){return null==e?i:Cr(e,t)}},Vn.pull=$s,Vn.pullAll=Xs,Vn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Kr(e,t,ls(n,2)):e},Vn.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Kr(e,t,i,n):e},Vn.pullAt=Js,Vn.range=fl,Vn.rangeRight=pl,Vn.rearg=Uo,Vn.reject=function(e,t){return(Wo(e)?Pt:mr)(e,Lo(ls(t,3)))},Vn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],s=e.length;for(t=ls(t,3);++r<s;){var o=e[r];t(o,r,e)&&(n.push(o),i.push(r))}return Gr(e,i),n},Vn.rest=function(e,t){if("function"!=typeof e)throw new Ne(s);return $r(e,t=t===i?t:pa(t))},Vn.reverse=Zs,Vn.sampleSize=function(e,t,n){return t=(n?_s(e,t,n):t===i)?1:pa(t),(Wo(e)?Jn:Jr)(e,t)},Vn.set=function(e,t,n){return null==e?e:Zr(e,t,n)},Vn.setWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:Zr(e,t,n,r)},Vn.shuffle=function(e){return(Wo(e)?Zn:ni)(e)},Vn.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&_s(e,t,n)?(t=0,n=r):(t=null==t?0:pa(t),n=n===i?r:pa(n)),ri(e,t,n)):[]},Vn.sortBy=To,Vn.sortedUniq=function(e){return e&&e.length?ai(e):[]},Vn.sortedUniqBy=function(e,t){return e&&e.length?ai(e,ls(t,2)):[]},Vn.split=function(e,t,n){return n&&"number"!=typeof n&&_s(e,t,n)&&(t=n=i),(n=n===i?m:n>>>0)?(e=ya(e))&&("string"==typeof t||null!=t&&!sa(t))&&!(t=ui(t))&&ln(e)?bi(gn(e),0,n):e.split(t,n):[]},Vn.spread=function(e,t){if("function"!=typeof e)throw new Ne(s);return t=null==t?0:Qt(pa(t),0),$r((function(n){var r=n[t],i=bi(n,0,t);return r&&Mt(i,r),It(e,this,i)}))},Vn.tail=function(e){var t=null==e?0:e.length;return t?ri(e,1,t):[]},Vn.take=function(e,t,n){return e&&e.length?ri(e,0,(t=n||t===i?1:pa(t))<0?0:t):[]},Vn.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?ri(e,(t=r-(t=n||t===i?1:pa(t)))<0?0:t,r):[]},Vn.takeRightWhile=function(e,t){return e&&e.length?fi(e,ls(t,3),!1,!0):[]},Vn.takeWhile=function(e,t){return e&&e.length?fi(e,ls(t,3)):[]},Vn.tap=function(e,t){return t(e),e},Vn.throttle=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new Ne(s);return ea(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Ao(e,t,{leading:r,maxWait:t,trailing:i})},Vn.thru=fo,Vn.toArray=da,Vn.toPairs=ja,Vn.toPairsIn=Ua,Vn.toPath=function(e){return Wo(e)?Lt(e,Ms):la(e)?[e]:Ni(Ls(ya(e)))},Vn.toPlainObject=va,Vn.transform=function(e,t,n){var r=Wo(e),i=r||Qo(e)||ua(e);if(t=ls(t,4),null==n){var s=e&&e.constructor;n=i?r?new s:[]:ea(e)&&Xo(s)?zn(Ke(e)):{}}return(i?Nt:wr)(e,(function(e,r,i){return t(n,e,r,i)})),n},Vn.unary=function(e){return Io(e,1)},Vn.union=eo,Vn.unionBy=to,Vn.unionWith=no,Vn.uniq=function(e){return e&&e.length?ci(e):[]},Vn.uniqBy=function(e,t){return e&&e.length?ci(e,ls(t,2)):[]},Vn.uniqWith=function(e,t){return t="function"==typeof t?t:i,e&&e.length?ci(e,i,t):[]},Vn.unset=function(e,t){return null==e||hi(e,t)},Vn.unzip=ro,Vn.unzipWith=io,Vn.update=function(e,t,n){return null==e?e:di(e,t,yi(n))},Vn.updateWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:di(e,t,yi(n),r)},Vn.values=Va,Vn.valuesIn=function(e){return null==e?[]:en(e,Pa(e))},Vn.without=so,Vn.words=Xa,Vn.wrap=function(e,t){return Fo(yi(t),e)},Vn.xor=oo,Vn.xorBy=ao,Vn.xorWith=lo,Vn.zip=uo,Vn.zipObject=function(e,t){return mi(e||[],t||[],tr)},Vn.zipObjectDeep=function(e,t){return mi(e||[],t||[],Zr)},Vn.zipWith=co,Vn.entries=ja,Vn.entriesIn=Ua,Vn.extend=wa,Vn.extendWith=ba,al(Vn,Vn),Vn.add=vl,Vn.attempt=Ja,Vn.camelCase=za,Vn.capitalize=Ba,Vn.ceil=yl,Vn.clamp=function(e,t,n){return n===i&&(n=t,t=i),n!==i&&(n=(n=ma(n))===n?n:0),t!==i&&(t=(t=ma(t))===t?t:0),ar(ma(e),t,n)},Vn.clone=function(e){return lr(e,4)},Vn.cloneDeep=function(e){return lr(e,5)},Vn.cloneDeepWith=function(e,t){return lr(e,5,t="function"==typeof t?t:i)},Vn.cloneWith=function(e,t){return lr(e,4,t="function"==typeof t?t:i)},Vn.conformsTo=function(e,t){return null==t||ur(e,t,Aa(t))},Vn.deburr=qa,Vn.defaultTo=function(e,t){return null==e||e!==e?t:e},Vn.divide=_l,Vn.endsWith=function(e,t,n){e=ya(e),t=ui(t);var r=e.length,s=n=n===i?r:ar(pa(n),0,r);return(n-=t.length)>=0&&e.slice(n,s)==t},Vn.eq=Vo,Vn.escape=function(e){return(e=ya(e))&&X.test(e)?e.replace(Y,on):e},Vn.escapeRegExp=function(e){return(e=ya(e))&&se.test(e)?e.replace(ie,"\\$&"):e},Vn.every=function(e,t,n){var r=Wo(e)?At:pr;return n&&_s(e,t,n)&&(t=i),r(e,ls(t,3))},Vn.find=mo,Vn.findIndex=Bs,Vn.findKey=function(e,t){return zt(e,ls(t,3),wr)},Vn.findLast=vo,Vn.findLastIndex=qs,Vn.findLastKey=function(e,t){return zt(e,ls(t,3),br)},Vn.floor=wl,Vn.forEach=yo,Vn.forEachRight=_o,Vn.forIn=function(e,t){return null==e?e:yr(e,ls(t,3),Pa)},Vn.forInRight=function(e,t){return null==e?e:_r(e,ls(t,3),Pa)},Vn.forOwn=function(e,t){return e&&wr(e,ls(t,3))},Vn.forOwnRight=function(e,t){return e&&br(e,ls(t,3))},Vn.get=ka,Vn.gt=zo,Vn.gte=Bo,Vn.has=function(e,t){return null!=e&&gs(e,t,Ir)},Vn.hasIn=Ia,Vn.head=Hs,Vn.identity=rl,Vn.includes=function(e,t,n,r){e=Ko(e)?e:Va(e),n=n&&!r?pa(n):0;var i=e.length;return n<0&&(n=Qt(i+n,0)),aa(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&qt(e,t,n)>-1},Vn.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:pa(n);return i<0&&(i=Qt(r+i,0)),qt(e,t,i)},Vn.inRange=function(e,t,n){return t=fa(t),n===i?(n=t,t=0):n=fa(n),function(e,t,n){return e>=_n(t,n)&&e<Qt(t,n)}(e=ma(e),t,n)},Vn.invoke=Ra,Vn.isArguments=qo,Vn.isArray=Wo,Vn.isArrayBuffer=Ho,Vn.isArrayLike=Ko,Vn.isArrayLikeObject=Go,Vn.isBoolean=function(e){return!0===e||!1===e||ta(e)&&Tr(e)==w},Vn.isBuffer=Qo,Vn.isDate=Yo,Vn.isElement=function(e){return ta(e)&&1===e.nodeType&&!ia(e)},Vn.isEmpty=function(e){if(null==e)return!0;if(Ko(e)&&(Wo(e)||"string"==typeof e||"function"==typeof e.splice||Qo(e)||ua(e)||qo(e)))return!e.length;var t=ps(e);if(t==T||t==R)return!e.size;if(Cs(e))return!Mr(e).length;for(var n in e)if(Le.call(e,n))return!1;return!0},Vn.isEqual=function(e,t){return Pr(e,t)},Vn.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:i)?n(e,t):i;return r===i?Pr(e,t,i,n):!!r},Vn.isError=$o,Vn.isFinite=function(e){return"number"==typeof e&&_t(e)},Vn.isFunction=Xo,Vn.isInteger=Jo,Vn.isLength=Zo,Vn.isMap=na,Vn.isMatch=function(e,t){return e===t||Or(e,t,cs(t))},Vn.isMatchWith=function(e,t,n){return n="function"==typeof n?n:i,Or(e,t,cs(t),n)},Vn.isNaN=function(e){return ra(e)&&e!=+e},Vn.isNative=function(e){if(Es(e))throw new ae("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Dr(e)},Vn.isNil=function(e){return null==e},Vn.isNull=function(e){return null===e},Vn.isNumber=ra,Vn.isObject=ea,Vn.isObjectLike=ta,Vn.isPlainObject=ia,Vn.isRegExp=sa,Vn.isSafeInteger=function(e){return Jo(e)&&e>=-9007199254740991&&e<=p},Vn.isSet=oa,Vn.isString=aa,Vn.isSymbol=la,Vn.isTypedArray=ua,Vn.isUndefined=function(e){return e===i},Vn.isWeakMap=function(e){return ta(e)&&ps(e)==O},Vn.isWeakSet=function(e){return ta(e)&&"[object WeakSet]"==Tr(e)},Vn.join=function(e,t){return null==e?"":wt.call(e,t)},Vn.kebabCase=Wa,Vn.last=Ys,Vn.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var s=r;return n!==i&&(s=(s=pa(n))<0?Qt(r+s,0):_n(s,r-1)),t===t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,s):Bt(e,Ht,s,!0)},Vn.lowerCase=Ha,Vn.lowerFirst=Ka,Vn.lt=ca,Vn.lte=ha,Vn.max=function(e){return e&&e.length?gr(e,rl,kr):i},Vn.maxBy=function(e,t){return e&&e.length?gr(e,ls(t,2),kr):i},Vn.mean=function(e){return Kt(e,rl)},Vn.meanBy=function(e,t){return Kt(e,ls(t,2))},Vn.min=function(e){return e&&e.length?gr(e,rl,jr):i},Vn.minBy=function(e,t){return e&&e.length?gr(e,ls(t,2),jr):i},Vn.stubArray=gl,Vn.stubFalse=ml,Vn.stubObject=function(){return{}},Vn.stubString=function(){return""},Vn.stubTrue=function(){return!0},Vn.multiply=bl,Vn.nth=function(e,t){return e&&e.length?qr(e,pa(t)):i},Vn.noConflict=function(){return gt._===this&&(gt._=Ve),this},Vn.noop=ll,Vn.now=ko,Vn.pad=function(e,t,n){e=ya(e);var r=(t=pa(t))?pn(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return Wi(pt(i),n)+e+Wi(ft(i),n)},Vn.padEnd=function(e,t,n){e=ya(e);var r=(t=pa(t))?pn(e):0;return t&&r<t?e+Wi(t-r,n):e},Vn.padStart=function(e,t,n){e=ya(e);var r=(t=pa(t))?pn(e):0;return t&&r<t?Wi(t-r,n)+e:e},Vn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),bn(ya(e).replace(oe,""),t||0)},Vn.random=function(e,t,n){if(n&&"boolean"!=typeof n&&_s(e,t,n)&&(t=n=i),n===i&&("boolean"==typeof t?(n=t,t=i):"boolean"==typeof e&&(n=e,e=i)),e===i&&t===i?(e=0,t=1):(e=fa(e),t===i?(t=e,e=0):t=fa(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var s=En();return _n(e+s*(t-e+ht("1e-"+((s+"").length-1))),t)}return Qr(e,t)},Vn.reduce=function(e,t,n){var r=Wo(e)?Ft:Yt,i=arguments.length<3;return r(e,ls(t,4),n,i,dr)},Vn.reduceRight=function(e,t,n){var r=Wo(e)?jt:Yt,i=arguments.length<3;return r(e,ls(t,4),n,i,fr)},Vn.repeat=function(e,t,n){return t=(n?_s(e,t,n):t===i)?1:pa(t),Yr(ya(e),t)},Vn.replace=function(){var e=arguments,t=ya(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Vn.result=function(e,t,n){var r=-1,s=(t=_i(t,e)).length;for(s||(s=1,e=i);++r<s;){var o=null==e?i:e[Ms(t[r])];o===i&&(r=s,o=n),e=Xo(o)?o.call(e):o}return e},Vn.round=El,Vn.runInContext=e,Vn.sample=function(e){return(Wo(e)?Xn:Xr)(e)},Vn.size=function(e){if(null==e)return 0;if(Ko(e))return aa(e)?pn(e):e.length;var t=ps(e);return t==T||t==R?e.size:Mr(e).length},Vn.snakeCase=Ga,Vn.some=function(e,t,n){var r=Wo(e)?Ut:ii;return n&&_s(e,t,n)&&(t=i),r(e,ls(t,3))},Vn.sortedIndex=function(e,t){return si(e,t)},Vn.sortedIndexBy=function(e,t,n){return oi(e,t,ls(n,2))},Vn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=si(e,t);if(r<n&&Vo(e[r],t))return r}return-1},Vn.sortedLastIndex=function(e,t){return si(e,t,!0)},Vn.sortedLastIndexBy=function(e,t,n){return oi(e,t,ls(n,2),!0)},Vn.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=si(e,t,!0)-1;if(Vo(e[n],t))return n}return-1},Vn.startCase=Qa,Vn.startsWith=function(e,t,n){return e=ya(e),n=null==n?0:ar(pa(n),0,e.length),t=ui(t),e.slice(n,n+t.length)==t},Vn.subtract=Cl,Vn.sum=function(e){return e&&e.length?$t(e,rl):0},Vn.sumBy=function(e,t){return e&&e.length?$t(e,ls(t,2)):0},Vn.template=function(e,t,n){var r=Vn.templateSettings;n&&_s(e,t,n)&&(t=i),e=ya(e),t=ba({},t,r,Ji);var s,o,a=ba({},t.imports,r.imports,Ji),l=Aa(a),u=en(a,l),c=0,h=t.interpolate||Ee,d="__p += '",f=Ie((t.escape||Ee).source+"|"+h.source+"|"+(h===ee?pe:Ee).source+"|"+(t.evaluate||Ee).source+"|$","g"),p="//# sourceURL="+(Le.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++at+"]")+"\n";e.replace(f,(function(t,n,r,i,a,l){return r||(r=i),d+=e.slice(c,l).replace(Ce,an),n&&(s=!0,d+="' +\n__e("+n+") +\n'"),a&&(o=!0,d+="';\n"+a+";\n__p += '"),r&&(d+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=l+t.length,t})),d+="';\n";var g=Le.call(t,"variable")&&t.variable;if(g){if(de.test(g))throw new ae("Invalid `variable` option passed into `_.template`")}else d="with (obj) {\n"+d+"\n}\n";d=(o?d.replace(H,""):d).replace(K,"$1").replace(G,"$1;"),d="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(s?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var m=Ja((function(){return Se(l,p+"return "+d).apply(i,u)}));if(m.source=d,$o(m))throw m;return m},Vn.times=function(e,t){if((e=pa(e))<1||e>p)return[];var n=m,r=_n(e,m);t=ls(t),e-=m;for(var i=Xt(r,t);++n<e;)t(n);return i},Vn.toFinite=fa,Vn.toInteger=pa,Vn.toLength=ga,Vn.toLower=function(e){return ya(e).toLowerCase()},Vn.toNumber=ma,Vn.toSafeInteger=function(e){return e?ar(pa(e),-9007199254740991,p):0===e?e:0},Vn.toString=ya,Vn.toUpper=function(e){return ya(e).toUpperCase()},Vn.trim=function(e,t,n){if((e=ya(e))&&(n||t===i))return Jt(e);if(!e||!(t=ui(t)))return e;var r=gn(e),s=gn(t);return bi(r,nn(r,s),rn(r,s)+1).join("")},Vn.trimEnd=function(e,t,n){if((e=ya(e))&&(n||t===i))return e.slice(0,mn(e)+1);if(!e||!(t=ui(t)))return e;var r=gn(e);return bi(r,0,rn(r,gn(t))+1).join("")},Vn.trimStart=function(e,t,n){if((e=ya(e))&&(n||t===i))return e.replace(oe,"");if(!e||!(t=ui(t)))return e;var r=gn(e);return bi(r,nn(r,gn(t))).join("")},Vn.truncate=function(e,t){var n=30,r="...";if(ea(t)){var s="separator"in t?t.separator:s;n="length"in t?pa(t.length):n,r="omission"in t?ui(t.omission):r}var o=(e=ya(e)).length;if(ln(e)){var a=gn(e);o=a.length}if(n>=o)return e;var l=n-pn(r);if(l<1)return r;var u=a?bi(a,0,l).join(""):e.slice(0,l);if(s===i)return u+r;if(a&&(l+=u.length-l),sa(s)){if(e.slice(l).search(s)){var c,h=u;for(s.global||(s=Ie(s.source,ya(ge.exec(s))+"g")),s.lastIndex=0;c=s.exec(h);)var d=c.index;u=u.slice(0,d===i?l:d)}}else if(e.indexOf(ui(s),l)!=l){var f=u.lastIndexOf(s);f>-1&&(u=u.slice(0,f))}return u+r},Vn.unescape=function(e){return(e=ya(e))&&$.test(e)?e.replace(Q,vn):e},Vn.uniqueId=function(e){var t=++Me;return ya(e)+t},Vn.upperCase=Ya,Vn.upperFirst=$a,Vn.each=yo,Vn.eachRight=_o,Vn.first=Hs,al(Vn,function(){var e={};return wr(Vn,(function(t,n){Le.call(Vn.prototype,n)||(e[n]=t)})),e}(),{chain:!1}),Vn.VERSION="4.17.21",Nt(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Vn[e].placeholder=Vn})),Nt(["drop","take"],(function(e,t){Wn.prototype[e]=function(n){n=n===i?1:Qt(pa(n),0);var r=this.__filtered__&&!t?new Wn(this):this.clone();return r.__filtered__?r.__takeCount__=_n(n,r.__takeCount__):r.__views__.push({size:_n(n,m),type:e+(r.__dir__<0?"Right":"")}),r},Wn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),Nt(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;Wn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:ls(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),Nt(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Wn.prototype[e]=function(){return this[n](1).value()[0]}})),Nt(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Wn.prototype[e]=function(){return this.__filtered__?new Wn(this):this[n](1)}})),Wn.prototype.compact=function(){return this.filter(rl)},Wn.prototype.find=function(e){return this.filter(e).head()},Wn.prototype.findLast=function(e){return this.reverse().find(e)},Wn.prototype.invokeMap=$r((function(e,t){return"function"==typeof e?new Wn(this):this.map((function(n){return Rr(n,e,t)}))})),Wn.prototype.reject=function(e){return this.filter(Lo(ls(e)))},Wn.prototype.slice=function(e,t){e=pa(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Wn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==i&&(n=(t=pa(t))<0?n.dropRight(-t):n.take(t-e)),n)},Wn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Wn.prototype.toArray=function(){return this.take(m)},wr(Wn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),s=Vn[r?"take"+("last"==t?"Right":""):t],o=r||/^find/.test(t);s&&(Vn.prototype[t]=function(){var t=this.__wrapped__,a=r?[1]:arguments,l=t instanceof Wn,u=a[0],c=l||Wo(t),h=function(e){var t=s.apply(Vn,Mt([e],a));return r&&d?t[0]:t};c&&n&&"function"==typeof u&&1!=u.length&&(l=c=!1);var d=this.__chain__,f=!!this.__actions__.length,p=o&&!d,g=l&&!f;if(!o&&c){t=g?t:new Wn(this);var m=e.apply(t,a);return m.__actions__.push({func:fo,args:[h],thisArg:i}),new qn(m,d)}return p&&g?e.apply(this,a):(m=this.thru(h),p?r?m.value()[0]:m.value():m)})})),Nt(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Re[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);Vn.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(Wo(i)?i:[],e)}return this[n]((function(n){return t.apply(Wo(n)?n:[],e)}))}})),wr(Wn.prototype,(function(e,t){var n=Vn[t];if(n){var r=n.name+"";Le.call(An,r)||(An[r]=[]),An[r].push({name:t,func:n})}})),An[Vi(i,2).name]=[{name:"wrapper",func:i}],Wn.prototype.clone=function(){var e=new Wn(this.__wrapped__);return e.__actions__=Ni(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Ni(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Ni(this.__views__),e},Wn.prototype.reverse=function(){if(this.__filtered__){var e=new Wn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Wn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Wo(e),r=t<0,i=n?e.length:0,s=function(e,t,n){var r=-1,i=n.length;for(;++r<i;){var s=n[r],o=s.size;switch(s.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=_n(t,e+o);break;case"takeRight":e=Qt(e,t-o)}}return{start:e,end:t}}(0,i,this.__views__),o=s.start,a=s.end,l=a-o,u=r?a:o-1,c=this.__iteratees__,h=c.length,d=0,f=_n(l,this.__takeCount__);if(!n||!r&&i==l&&f==l)return pi(e,this.__actions__);var p=[];e:for(;l--&&d<f;){for(var g=-1,m=e[u+=t];++g<h;){var v=c[g],y=v.iteratee,_=v.type,w=y(m);if(2==_)m=w;else if(!w){if(1==_)continue e;break e}}p[d++]=m}return p},Vn.prototype.at=po,Vn.prototype.chain=function(){return ho(this)},Vn.prototype.commit=function(){return new qn(this.value(),this.__chain__)},Vn.prototype.next=function(){this.__values__===i&&(this.__values__=da(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?i:this.__values__[this.__index__++]}},Vn.prototype.plant=function(e){for(var t,n=this;n instanceof Bn;){var r=js(n);r.__index__=0,r.__values__=i,t?s.__wrapped__=r:t=r;var s=r;n=n.__wrapped__}return s.__wrapped__=e,t},Vn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Wn){var t=e;return this.__actions__.length&&(t=new Wn(this)),(t=t.reverse()).__actions__.push({func:fo,args:[Zs],thisArg:i}),new qn(t,this.__chain__)}return this.thru(Zs)},Vn.prototype.toJSON=Vn.prototype.valueOf=Vn.prototype.value=function(){return pi(this.__wrapped__,this.__actions__)},Vn.prototype.first=Vn.prototype.head,Xe&&(Vn.prototype[Xe]=function(){return this}),Vn}();gt._=yn,(r=function(){return yn}.call(t,n,t,e))===i||(e.exports=r)}.call(this)},888:(e,t,n)=>{"use strict";var r=n(9047);function i(){}function s(){}s.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,s,o){if(o!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:s,resetWarningCache:i};return n.PropTypes=n,n}},2007:(e,t,n)=>{e.exports=n(888)()},9047:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},4463:(e,t,n)=>{"use strict";var r=n(2791),i=n(5296);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function l(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(a[e]=t,e=0;e<t.length;e++)o.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function g(e,t,n,r,i,s,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function _(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(p,e)||!h.call(f,e)&&(d.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);m[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);m[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);m[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,b=Symbol.for("react.element"),E=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),I=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var M,F=Object.assign;function j(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),s=r.stack.split("\n"),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(1!==o||1!==a)do{if(o--,0>--a||i[o]!==s[a]){var l="\n"+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=a);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function z(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case C:return"Fragment";case E:return"Portal";case T:return"Profiler";case S:return"StrictMode";case N:return"Suspense";case R:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case I:return(e.displayName||"Context")+".Consumer";case k:return(e._context.displayName||"Context")+".Provider";case x:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&_(e,"checked",t,!1)}function J(e,t){X(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function se(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,ce,he=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ge(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ge(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ve=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function _e(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function be(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ee=null,Ce=null,Se=null;function Te(e){if(e=_i(e)){if("function"!==typeof Ee)throw Error(s(280));var t=e.stateNode;t&&(t=bi(t),Ee(e.stateNode,e.type,t))}}function ke(e){Ce?Se?Se.push(e):Se=[e]:Ce=e}function Ie(){if(Ce){var e=Ce,t=Se;if(Se=Ce=null,Te(e),t)for(e=0;e<t.length;e++)Te(t[e])}}function xe(e,t){return e(t)}function Ne(){}var Re=!1;function Ae(e,t,n){if(Re)return e(t,n);Re=!0;try{return xe(e,t,n)}finally{Re=!1,(null!==Ce||null!==Se)&&(Ne(),Ie())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=bi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Oe=!1;if(c)try{var De={};Object.defineProperty(De,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(ce){Oe=!1}function Le(e,t,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Me=!1,Fe=null,je=!1,Ue=null,Ve={onError:function(e){Me=!0,Fe=e}};function ze(e,t,n,r,i,s,o,a,l){Me=!1,Fe=null,Le.apply(Ve,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Be(e)!==e)throw Error(s(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return We(i),e;if(o===r)return We(i),t;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=o;break}if(l===r){a=!0,r=i,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,r=i;break}if(l===r){a=!0,r=o,n=i;break}l=l.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,$e=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,st=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2;var ut=64,ct=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=268435455&n;if(0!==o){var a=o&~i;0!==a?r=ht(a):0!==(s&=o)&&(r=ht(s))}else 0!==(o=n&~i)?r=ht(o):0!==s&&(r=ht(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gt(){var e=ut;return 0===(4194240&(ut<<=1))&&(ut=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var _t=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var bt,Et,Ct,St,Tt,kt=!1,It=[],xt=null,Nt=null,Rt=null,At=new Map,Pt=new Map,Ot=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":xt=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":Rt=null;break;case"pointerover":case"pointerout":At.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Mt(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=_i(t))&&Et(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=yi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void Tt(e.priority,(function(){Ct(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=_i(n))&&Et(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Ut(e,t,n){jt(e)&&n.delete(t)}function Vt(){kt=!1,null!==xt&&jt(xt)&&(xt=null),null!==Nt&&jt(Nt)&&(Nt=null),null!==Rt&&jt(Rt)&&(Rt=null),At.forEach(Ut),Pt.forEach(Ut)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,kt||(kt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function Bt(e){function t(t){return zt(t,e)}if(0<It.length){zt(It[0],e);for(var n=1;n<It.length;n++){var r=It[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==xt&&zt(xt,e),null!==Nt&&zt(Nt,e),null!==Rt&&zt(Rt,e),At.forEach(t),Pt.forEach(t),n=0;n<Ot.length;n++)(r=Ot[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)Ft(n),null===n.blockedOn&&Ot.shift()}var qt=w.ReactCurrentBatchConfig,Wt=!0;function Ht(e,t,n,r){var i=_t,s=qt.transition;qt.transition=null;try{_t=1,Gt(e,t,n,r)}finally{_t=i,qt.transition=s}}function Kt(e,t,n,r){var i=_t,s=qt.transition;qt.transition=null;try{_t=4,Gt(e,t,n,r)}finally{_t=i,qt.transition=s}}function Gt(e,t,n,r){if(Wt){var i=Yt(e,t,n,r);if(null===i)Wr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return xt=Mt(xt,e,t,n,r,i),!0;case"dragenter":return Nt=Mt(Nt,e,t,n,r,i),!0;case"mouseover":return Rt=Mt(Rt,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return At.set(s,Mt(At.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Pt.set(s,Mt(Pt.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var s=_i(i);if(null!==s&&bt(s),null===(s=Yt(e,t,n,r))&&Wr(e,t,r,Qt,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Qt=null;function Yt(e,t,n,r){if(Qt=null,null!==(e=yi(e=be(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[s-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,i,s){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,an,ln,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=sn(un),hn=F({},un,{view:0,detail:0}),dn=sn(hn),fn=F({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(on=e.screenX-ln.screenX,an=e.screenY-ln.screenY):an=on=0,ln=e),on)},movementY:function(e){return"movementY"in e?e.movementY:an}}),pn=sn(fn),gn=sn(F({},fn,{dataTransfer:0})),mn=sn(F({},hn,{relatedTarget:0})),vn=sn(F({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=F({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_n=sn(yn),wn=sn(F({},un,{data:0})),bn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},En={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Cn[e])&&!!t[e]}function Tn(){return Sn}var kn=F({},hn,{key:function(e){if(e.key){var t=bn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?En[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),In=sn(kn),xn=sn(F({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=sn(F({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tn})),Rn=sn(F({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=F({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=sn(An),On=[9,13,27,32],Dn=c&&"CompositionEvent"in window,Ln=null;c&&"documentMode"in document&&(Ln=document.documentMode);var Mn=c&&"TextEvent"in window&&!Ln,Fn=c&&(!Dn||Ln&&8<Ln&&11>=Ln),jn=String.fromCharCode(32),Un=!1;function Vn(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Hn(e,t,n,r){ke(r),0<(t=Kr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Gn=null;function Qn(e){jr(e,0)}function Yn(e){if(G(wi(e)))return e}function $n(e,t){if("change"===e)return t}var Xn=!1;if(c){var Jn;if(c){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Gn=Kn=null)}function nr(e){if("value"===e.propertyName&&Yn(Gn)){var t=[];Hn(t,Gn,e,be(e)),Ae(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Gn)}function sr(e,t){if("click"===e)return Yn(t)}function or(e,t){if("input"===e||"change"===e)return Yn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=cr(n,s);var o=cr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gr=c&&"documentMode"in document&&11>=document.documentMode,mr=null,vr=null,yr=null,_r=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;_r||null==mr||mr!==Q(r)||("selectionStart"in(r=mr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Kr(vr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function br(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Er={animationend:br("Animation","AnimationEnd"),animationiteration:br("Animation","AnimationIteration"),animationstart:br("Animation","AnimationStart"),transitionend:br("Transition","TransitionEnd")},Cr={},Sr={};function Tr(e){if(Cr[e])return Cr[e];if(!Er[e])return e;var t,n=Er[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return Cr[e]=n[t];return e}c&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete Er.animationend.animation,delete Er.animationiteration.animation,delete Er.animationstart.animation),"TransitionEvent"in window||delete Er.transitionend.transition);var kr=Tr("animationend"),Ir=Tr("animationiteration"),xr=Tr("animationstart"),Nr=Tr("transitionend"),Rr=new Map,Ar="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Rr.set(e,t),l(t,[e])}for(var Or=0;Or<Ar.length;Or++){var Dr=Ar[Or];Pr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Pr(kr,"onAnimationEnd"),Pr(Ir,"onAnimationIteration"),Pr(xr,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Nr,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,a,l,u){if(ze.apply(this,arguments),Me){if(!Me)throw Error(s(198));var c=Fe;Me=!1,Fe=null,je||(je=!0,Ue=c)}}(r,t,void 0,e),e.currentTarget=null}function jr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Fr(i,a,u),s=l}else for(o=0;o<r.length;o++){if(l=(a=r[o]).instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Fr(i,a,u),s=l}}}if(je)throw e=Ue,je=!1,Ue=null,e}function Ur(e,t){var n=t[gi];void 0===n&&(n=t[gi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[zr]){e[zr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Vr("selectionchange",!1,t))}}function qr(e,t,n,r){switch($t(t)){case 1:var i=Ht;break;case 4:i=Kt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;o=o.return}for(;null!==a;){if(null===(o=yi(a)))return;if(5===(l=o.tag)||6===l){r=s=o;continue e}a=a.parentNode}}r=r.return}Ae((function(){var r=s,i=be(n),o=[];e:{var a=Rr.get(e);if(void 0!==a){var l=cn,u=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=In;break;case"focusin":u="focus",l=mn;break;case"focusout":u="blur",l=mn;break;case"beforeblur":case"afterblur":l=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Nn;break;case kr:case Ir:case xr:l=vn;break;case Nr:l=Rn;break;case"scroll":l=dn;break;case"wheel":l=Pn;break;case"copy":case"cut":case"paste":l=_n;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=xn}var c=0!==(4&t),h=!c&&"scroll"===e,d=c?null!==a?a+"Capture":null:a;c=[];for(var f,p=r;null!==p;){var g=(f=p).stateNode;if(5===f.tag&&null!==g&&(f=g,null!==d&&(null!=(g=Pe(p,d))&&c.push(Hr(p,g,f)))),h)break;p=p.return}0<c.length&&(a=new l(a,u,null,n,i),o.push({event:a,listeners:c}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===we||!(u=n.relatedTarget||n.fromElement)||!yi(u)&&!u[pi])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?yi(u):null)&&(u!==(h=Be(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=pn,g="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=xn,g="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?a:wi(l),f=null==u?a:wi(u),(a=new c(g,p+"leave",l,n,i)).target=h,a.relatedTarget=f,g=null,yi(i)===r&&((c=new c(d,p+"enter",u,n,i)).target=f,c.relatedTarget=h,g=c),h=g,l&&u)e:{for(d=u,p=0,f=c=l;f;f=Gr(f))p++;for(f=0,g=d;g;g=Gr(g))f++;for(;0<p-f;)c=Gr(c),p--;for(;0<f-p;)d=Gr(d),f--;for(;p--;){if(c===d||null!==d&&c===d.alternate)break e;c=Gr(c),d=Gr(d)}c=null}else c=null;null!==l&&Qr(o,a,l,c,!1),null!==u&&null!==h&&Qr(o,h,u,c,!0)}if("select"===(l=(a=r?wi(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var m=$n;else if(Wn(a))if(Xn)m=or;else{m=ir;var v=rr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(m=sr);switch(m&&(m=m(e,r))?Hn(o,m,n,i):(v&&v(e,a,r),"focusout"===e&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&ee(a,"number",a.value)),v=r?wi(r):window,e){case"focusin":(Wn(v)||"true"===v.contentEditable)&&(mr=v,vr=r,yr=null);break;case"focusout":yr=vr=mr=null;break;case"mousedown":_r=!0;break;case"contextmenu":case"mouseup":case"dragend":_r=!1,wr(o,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":wr(o,n,i)}var y;if(Dn)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Bn?Vn(e,n)&&(_="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(_="onCompositionStart");_&&(Fn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==_?"onCompositionEnd"===_&&Bn&&(y=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,Bn=!0)),0<(v=Kr(r,_)).length&&(_=new wn(_,e,null,n,i),o.push({event:_,listeners:v}),y?_.data=y:null!==(y=zn(n))&&(_.data=y))),(y=Mn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Un=!0,jn);case"textInput":return(e=t.data)===jn&&Un?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Dn&&Vn(e,t)?(e=en(),Zt=Jt=Xt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y))}jr(o,t)}))}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=Pe(e,n))&&r.unshift(Hr(e,s,i)),null!=(s=Pe(e,t))&&r.push(Hr(e,s,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var s=t._reactName,o=[];null!==n&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==u&&(a=u,i?null!=(l=Pe(n,s))&&o.unshift(Hr(n,l,a)):i||null!=(l=Pe(n,s))&&o.push(Hr(n,l,a))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Yr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace($r,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(s(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,si="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof si?function(e){return si.resolve(null).then(e).catch(ai)}:ri;function ai(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ui(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ci(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),di="__reactFiber$"+hi,fi="__reactProps$"+hi,pi="__reactContainer$"+hi,gi="__reactEvents$"+hi,mi="__reactListeners$"+hi,vi="__reactHandles$"+hi;function yi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ci(e);null!==e;){if(n=e[di])return n;e=ci(e)}return t}n=(e=n).parentNode}return null}function _i(e){return!(e=e[di]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function bi(e){return e[fi]||null}var Ei=[],Ci=-1;function Si(e){return{current:e}}function Ti(e){0>Ci||(e.current=Ei[Ci],Ei[Ci]=null,Ci--)}function ki(e,t){Ci++,Ei[Ci]=e.current,e.current=t}var Ii={},xi=Si(Ii),Ni=Si(!1),Ri=Ii;function Ai(e,t){var n=e.type.contextTypes;if(!n)return Ii;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Oi(){Ti(Ni),Ti(xi)}function Di(e,t,n){if(xi.current!==Ii)throw Error(s(168));ki(xi,t),ki(Ni,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,q(e)||"Unknown",i));return F({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ii,Ri=xi.current,ki(xi,e),ki(Ni,Ni.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Li(e,t,Ri),r.__reactInternalMemoizedMergedChildContext=e,Ti(Ni),Ti(xi),ki(xi,e)):Ti(Ni),ki(Ni,n)}var ji=null,Ui=!1,Vi=!1;function zi(e){null===ji?ji=[e]:ji.push(e)}function Bi(){if(!Vi&&null!==ji){Vi=!0;var e=0,t=_t;try{var n=ji;for(_t=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}ji=null,Ui=!1}catch(i){throw null!==ji&&(ji=ji.slice(e+1)),Ge(Ze,Bi),i}finally{_t=t,Vi=!1}}return null}var qi=[],Wi=0,Hi=null,Ki=0,Gi=[],Qi=0,Yi=null,$i=1,Xi="";function Ji(e,t){qi[Wi++]=Ki,qi[Wi++]=Hi,Hi=e,Ki=t}function Zi(e,t,n){Gi[Qi++]=$i,Gi[Qi++]=Xi,Gi[Qi++]=Yi,Yi=e;var r=$i;e=Xi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var s=32-ot(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,$i=1<<32-ot(t)+i|n<<i|r,Xi=s+e}else $i=1<<s|n<<i|r,Xi=e}function es(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ts(e){for(;e===Hi;)Hi=qi[--Wi],qi[Wi]=null,Ki=qi[--Wi],qi[Wi]=null;for(;e===Yi;)Yi=Gi[--Qi],Gi[Qi]=null,Xi=Gi[--Qi],Gi[Qi]=null,$i=Gi[--Qi],Gi[Qi]=null}var ns=null,rs=null,is=!1,ss=null;function os(e,t){var n=Pu(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function as(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,rs=ui(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,rs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:$i,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pu(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,rs=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function us(e){if(is){var t=rs;if(t){var n=t;if(!as(e,t)){if(ls(e))throw Error(s(418));t=ui(n.nextSibling);var r=ns;t&&as(e,t)?os(r,n):(e.flags=-4097&e.flags|2,is=!1,ns=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,is=!1,ns=e}}}function cs(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function hs(e){if(e!==ns)return!1;if(!is)return cs(e),is=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=rs)){if(ls(e))throw ds(),Error(s(418));for(;t;)os(e,t),t=ui(t.nextSibling)}if(cs(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){rs=ui(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}rs=null}}else rs=ns?ui(e.stateNode.nextSibling):null;return!0}function ds(){for(var e=rs;e;)e=ui(e.nextSibling)}function fs(){rs=ns=null,is=!1}function ps(e){null===ss?ss=[e]:ss.push(e)}var gs=w.ReactCurrentBatchConfig;function ms(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var vs=Si(null),ys=null,_s=null,ws=null;function bs(){ws=_s=ys=null}function Es(e){var t=vs.current;Ti(vs),e._currentValue=t}function Cs(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ss(e,t){ys=e,ws=_s=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(wa=!0),e.firstContext=null)}function Ts(e){var t=e._currentValue;if(ws!==e)if(e={context:e,memoizedValue:t,next:null},null===_s){if(null===ys)throw Error(s(308));_s=e,ys.dependencies={lanes:0,firstContext:e}}else _s=_s.next=e;return t}var ks=null;function Is(e){null===ks?ks=[e]:ks.push(e)}function xs(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Is(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ns(e,r)}function Ns(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Rs=!1;function As(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ps(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Os(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ds(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Nl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ns(e,n)}return null===(i=r.interleaved)?(t.next=t,Is(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ns(e,n)}function Ls(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Ms(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fs(e,t,n,r){var i=e.updateQueue;Rs=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,u=l.next;l.next=null,null===o?s=u:o.next=u,o=l;var c=e.alternate;null!==c&&((a=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===a?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(null!==s){var h=i.baseState;for(o=0,c=u=l=null,a=s;;){var d=a.lane,f=a.eventTime;if((r&d)===d){null!==c&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,g=a;switch(d=t,f=n,g.tag){case 1:if("function"===typeof(p=g.payload)){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=g.payload)?p.call(f,h,d):p)||void 0===d)break e;h=F({},h,d);break e;case 2:Rs=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===c?(u=c=f,l=h):c=c.next=f,o|=d;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(d=a).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===c&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);Fl|=o,e.lanes=o,e.memoizedState=h}}function js(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var Us=(new r.Component).refs;function Vs(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var zs={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tu(),i=nu(e),s=Os(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Ds(e,s,i))&&(ru(t,e,i,r),Ls(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tu(),i=nu(e),s=Os(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Ds(e,s,i))&&(ru(t,e,i,r),Ls(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tu(),r=nu(e),i=Os(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Ds(e,i,r))&&(ru(t,e,r,n),Ls(t,e,r))}};function Bs(e,t,n,r,i,s,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,o):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,s))}function qs(e,t,n){var r=!1,i=Ii,s=t.contextType;return"object"===typeof s&&null!==s?s=Ts(s):(i=Pi(t)?Ri:xi.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ai(e,i):Ii),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=zs,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function Ws(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&zs.enqueueReplaceState(t,t.state,null)}function Hs(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Us,As(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=Ts(s):(s=Pi(t)?Ri:xi.current,i.context=Ai(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(Vs(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&zs.enqueueReplaceState(i,i.state,null),Fs(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ks(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Us&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function Gs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qs(e){return(0,e._init)(e._payload)}function Ys(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Du(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=ju(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){var s=n.type;return s===C?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===P&&Qs(s)===t.type)?((r=i(t,n.props)).ref=Ks(e,t,n),r.return=e,r):((r=Lu(n.type,n.key,n.props,null,e.mode,r)).ref=Ks(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Uu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,s){return null===t||7!==t.tag?((t=Mu(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=ju(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case b:return(n=Lu(t.type,t.key,t.props,null,e.mode,n)).ref=Ks(e,null,t),n.return=e,n;case E:return(t=Uu(t,e.mode,n)).return=e,t;case P:return d(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Mu(t,e.mode,n,null)).return=e,t;Gs(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case b:return n.key===i?u(e,t,n,r):null;case E:return n.key===i?c(e,t,n,r):null;case P:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:h(e,t,n,r,null);Gs(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case b:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case E:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return h(t,e=e.get(n)||null,r,i,null);Gs(t,r)}return null}function g(i,s,a,l){for(var u=null,c=null,h=s,g=s=0,m=null;null!==h&&g<a.length;g++){h.index>g?(m=h,h=null):m=h.sibling;var v=f(i,h,a[g],l);if(null===v){null===h&&(h=m);break}e&&h&&null===v.alternate&&t(i,h),s=o(v,s,g),null===c?u=v:c.sibling=v,c=v,h=m}if(g===a.length)return n(i,h),is&&Ji(i,g),u;if(null===h){for(;g<a.length;g++)null!==(h=d(i,a[g],l))&&(s=o(h,s,g),null===c?u=h:c.sibling=h,c=h);return is&&Ji(i,g),u}for(h=r(i,h);g<a.length;g++)null!==(m=p(h,i,g,a[g],l))&&(e&&null!==m.alternate&&h.delete(null===m.key?g:m.key),s=o(m,s,g),null===c?u=m:c.sibling=m,c=m);return e&&h.forEach((function(e){return t(i,e)})),is&&Ji(i,g),u}function m(i,a,l,u){var c=L(l);if("function"!==typeof c)throw Error(s(150));if(null==(l=c.call(l)))throw Error(s(151));for(var h=c=null,g=a,m=a=0,v=null,y=l.next();null!==g&&!y.done;m++,y=l.next()){g.index>m?(v=g,g=null):v=g.sibling;var _=f(i,g,y.value,u);if(null===_){null===g&&(g=v);break}e&&g&&null===_.alternate&&t(i,g),a=o(_,a,m),null===h?c=_:h.sibling=_,h=_,g=v}if(y.done)return n(i,g),is&&Ji(i,m),c;if(null===g){for(;!y.done;m++,y=l.next())null!==(y=d(i,y.value,u))&&(a=o(y,a,m),null===h?c=y:h.sibling=y,h=y);return is&&Ji(i,m),c}for(g=r(i,g);!y.done;m++,y=l.next())null!==(y=p(g,i,m,y.value,u))&&(e&&null!==y.alternate&&g.delete(null===y.key?m:y.key),a=o(y,a,m),null===h?c=y:h.sibling=y,h=y);return e&&g.forEach((function(e){return t(i,e)})),is&&Ji(i,m),c}return function e(r,s,o,l){if("object"===typeof o&&null!==o&&o.type===C&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case b:e:{for(var u=o.key,c=s;null!==c;){if(c.key===u){if((u=o.type)===C){if(7===c.tag){n(r,c.sibling),(s=i(c,o.props.children)).return=r,r=s;break e}}else if(c.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===P&&Qs(u)===c.type){n(r,c.sibling),(s=i(c,o.props)).ref=Ks(r,c,o),s.return=r,r=s;break e}n(r,c);break}t(r,c),c=c.sibling}o.type===C?((s=Mu(o.props.children,r.mode,l,o.key)).return=r,r=s):((l=Lu(o.type,o.key,o.props,null,r.mode,l)).ref=Ks(r,s,o),l.return=r,r=l)}return a(r);case E:e:{for(c=o.key;null!==s;){if(s.key===c){if(4===s.tag&&s.stateNode.containerInfo===o.containerInfo&&s.stateNode.implementation===o.implementation){n(r,s.sibling),(s=i(s,o.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Uu(o,r.mode,l)).return=r,r=s}return a(r);case P:return e(r,s,(c=o._init)(o._payload),l)}if(te(o))return g(r,s,o,l);if(L(o))return m(r,s,o,l);Gs(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,o)).return=r,r=s):(n(r,s),(s=ju(o,r.mode,l)).return=r,r=s),a(r)):n(r,s)}}var $s=Ys(!0),Xs=Ys(!1),Js={},Zs=Si(Js),eo=Si(Js),to=Si(Js);function no(e){if(e===Js)throw Error(s(174));return e}function ro(e,t){switch(ki(to,t),ki(eo,e),ki(Zs,Js),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ti(Zs),ki(Zs,t)}function io(){Ti(Zs),Ti(eo),Ti(to)}function so(e){no(to.current);var t=no(Zs.current),n=le(t,e.type);t!==n&&(ki(eo,e),ki(Zs,n))}function oo(e){eo.current===e&&(Ti(Zs),Ti(eo))}var ao=Si(0);function lo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var uo=[];function co(){for(var e=0;e<uo.length;e++)uo[e]._workInProgressVersionPrimary=null;uo.length=0}var ho=w.ReactCurrentDispatcher,fo=w.ReactCurrentBatchConfig,po=0,go=null,mo=null,vo=null,yo=!1,_o=!1,wo=0,bo=0;function Eo(){throw Error(s(321))}function Co(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function So(e,t,n,r,i,o){if(po=o,go=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ho.current=null===e||null===e.memoizedState?aa:la,e=n(r,i),_o){o=0;do{if(_o=!1,wo=0,25<=o)throw Error(s(301));o+=1,vo=mo=null,t.updateQueue=null,ho.current=ua,e=n(r,i)}while(_o)}if(ho.current=oa,t=null!==mo&&null!==mo.next,po=0,vo=mo=go=null,yo=!1,t)throw Error(s(300));return e}function To(){var e=0!==wo;return wo=0,e}function ko(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===vo?go.memoizedState=vo=e:vo=vo.next=e,vo}function Io(){if(null===mo){var e=go.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===vo?go.memoizedState:vo.next;if(null!==t)vo=t,mo=e;else{if(null===e)throw Error(s(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===vo?go.memoizedState=vo=e:vo=vo.next=e}return vo}function xo(e,t){return"function"===typeof t?t(e):t}function No(e){var t=Io(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var l=a=null,u=null,c=o;do{var h=c.lane;if((po&h)===h)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=d,a=r):u=u.next=d,go.lanes|=h,Fl|=h}c=c.next}while(null!==c&&c!==o);null===u?a=r:u.next=l,ar(r,t.memoizedState)||(wa=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,go.lanes|=o,Fl|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ro(e){var t=Io(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);ar(o,t.memoizedState)||(wa=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Ao(){}function Po(e,t){var n=go,r=Io(),i=t(),o=!ar(r.memoizedState,i);if(o&&(r.memoizedState=i,wa=!0),r=r.queue,Wo(Lo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==vo&&1&vo.memoizedState.tag){if(n.flags|=2048,Uo(9,Do.bind(null,n,r,i,t),void 0,null),null===Rl)throw Error(s(349));0!==(30&po)||Oo(n,t,i)}return i}function Oo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=go.updateQueue)?(t={lastEffect:null,stores:null},go.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Do(e,t,n,r){t.value=n,t.getSnapshot=r,Mo(t)&&Fo(e)}function Lo(e,t,n){return n((function(){Mo(t)&&Fo(e)}))}function Mo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function Fo(e){var t=Ns(e,1);null!==t&&ru(t,e,1,-1)}function jo(e){var t=ko();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xo,lastRenderedState:e},t.queue=e,e=e.dispatch=na.bind(null,go,e),[t.memoizedState,e]}function Uo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=go.updateQueue)?(t={lastEffect:null,stores:null},go.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Vo(){return Io().memoizedState}function zo(e,t,n,r){var i=ko();go.flags|=e,i.memoizedState=Uo(1|t,n,void 0,void 0===r?null:r)}function Bo(e,t,n,r){var i=Io();r=void 0===r?null:r;var s=void 0;if(null!==mo){var o=mo.memoizedState;if(s=o.destroy,null!==r&&Co(r,o.deps))return void(i.memoizedState=Uo(t,n,s,r))}go.flags|=e,i.memoizedState=Uo(1|t,n,s,r)}function qo(e,t){return zo(8390656,8,e,t)}function Wo(e,t){return Bo(2048,8,e,t)}function Ho(e,t){return Bo(4,2,e,t)}function Ko(e,t){return Bo(4,4,e,t)}function Go(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4,4,Go.bind(null,t,e),n)}function Yo(){}function $o(e,t){var n=Io();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Co(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xo(e,t){var n=Io();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Co(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Jo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,wa=!0),e.memoizedState=n):(ar(n,t)||(n=gt(),go.lanes|=n,Fl|=n,e.baseState=!0),t)}function Zo(e,t){var n=_t;_t=0!==n&&4>n?n:4,e(!0);var r=fo.transition;fo.transition={};try{e(!1),t()}finally{_t=n,fo.transition=r}}function ea(){return Io().memoizedState}function ta(e,t,n){var r=nu(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ra(e))ia(t,n);else if(null!==(n=xs(e,t,n,r))){ru(n,e,r,tu()),sa(n,t,r)}}function na(e,t,n){var r=nu(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ra(e))ia(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,ar(a,o)){var l=t.interleaved;return null===l?(i.next=i,Is(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(u){}null!==(n=xs(e,t,i,r))&&(ru(n,e,r,i=tu()),sa(n,t,r))}}function ra(e){var t=e.alternate;return e===go||null!==t&&t===go}function ia(e,t){_o=yo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function sa(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var oa={readContext:Ts,useCallback:Eo,useContext:Eo,useEffect:Eo,useImperativeHandle:Eo,useInsertionEffect:Eo,useLayoutEffect:Eo,useMemo:Eo,useReducer:Eo,useRef:Eo,useState:Eo,useDebugValue:Eo,useDeferredValue:Eo,useTransition:Eo,useMutableSource:Eo,useSyncExternalStore:Eo,useId:Eo,unstable_isNewReconciler:!1},aa={readContext:Ts,useCallback:function(e,t){return ko().memoizedState=[e,void 0===t?null:t],e},useContext:Ts,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4194308,4,Go.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zo(4194308,4,e,t)},useInsertionEffect:function(e,t){return zo(4,2,e,t)},useMemo:function(e,t){var n=ko();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ko();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ta.bind(null,go,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ko().memoizedState=e},useState:jo,useDebugValue:Yo,useDeferredValue:function(e){return ko().memoizedState=e},useTransition:function(){var e=jo(!1),t=e[0];return e=Zo.bind(null,e[1]),ko().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=go,i=ko();if(is){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Rl)throw Error(s(349));0!==(30&po)||Oo(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Lo.bind(null,r,o,e),[e]),r.flags|=2048,Uo(9,Do.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=ko(),t=Rl.identifierPrefix;if(is){var n=Xi;t=":"+t+"R"+(n=($i&~(1<<32-ot($i)-1)).toString(32)+n),0<(n=wo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=bo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},la={readContext:Ts,useCallback:$o,useContext:Ts,useEffect:Wo,useImperativeHandle:Qo,useInsertionEffect:Ho,useLayoutEffect:Ko,useMemo:Xo,useReducer:No,useRef:Vo,useState:function(){return No(xo)},useDebugValue:Yo,useDeferredValue:function(e){return Jo(Io(),mo.memoizedState,e)},useTransition:function(){return[No(xo)[0],Io().memoizedState]},useMutableSource:Ao,useSyncExternalStore:Po,useId:ea,unstable_isNewReconciler:!1},ua={readContext:Ts,useCallback:$o,useContext:Ts,useEffect:Wo,useImperativeHandle:Qo,useInsertionEffect:Ho,useLayoutEffect:Ko,useMemo:Xo,useReducer:Ro,useRef:Vo,useState:function(){return Ro(xo)},useDebugValue:Yo,useDeferredValue:function(e){var t=Io();return null===mo?t.memoizedState=e:Jo(t,mo.memoizedState,e)},useTransition:function(){return[Ro(xo)[0],Io().memoizedState]},useMutableSource:Ao,useSyncExternalStore:Po,useId:ea,unstable_isNewReconciler:!1};function ca(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:i,digest:null}}function ha(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function da(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var fa="function"===typeof WeakMap?WeakMap:Map;function pa(e,t,n){(n=Os(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hl||(Hl=!0,Kl=r),da(0,t)},n}function ga(e,t,n){(n=Os(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){da(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){da(0,t),"function"!==typeof r&&(null===Gl?Gl=new Set([this]):Gl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ma(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fa;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=ku.bind(null,e,t,n),t.then(e,e))}function va(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ya(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Os(-1,1)).tag=2,Ds(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var _a=w.ReactCurrentOwner,wa=!1;function ba(e,t,n,r){t.child=null===e?Xs(t,null,n,r):$s(t,e.child,n,r)}function Ea(e,t,n,r,i){n=n.render;var s=t.ref;return Ss(t,i),r=So(e,t,n,r,s,i),n=To(),null===e||wa?(is&&n&&es(t),t.flags|=1,ba(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ha(e,t,i))}function Ca(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Ou(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lu(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Sa(e,t,s,r,i))}if(s=e.child,0===(e.lanes&i)){var o=s.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(o,r)&&e.ref===t.ref)return Ha(e,t,i)}return t.flags|=1,(e=Du(s,r)).ref=t.ref,e.return=t,t.child=e}function Sa(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(lr(s,r)&&e.ref===t.ref){if(wa=!1,t.pendingProps=r=s,0===(e.lanes&i))return t.lanes=e.lanes,Ha(e,t,i);0!==(131072&e.flags)&&(wa=!0)}}return Ia(e,t,n,r,i)}function Ta(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ki(Dl,Ol),Ol|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ki(Dl,Ol),Ol|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,ki(Dl,Ol),Ol|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,ki(Dl,Ol),Ol|=r;return ba(e,t,i,n),t.child}function ka(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ia(e,t,n,r,i){var s=Pi(n)?Ri:xi.current;return s=Ai(t,s),Ss(t,i),n=So(e,t,n,r,s,i),r=To(),null===e||wa?(is&&r&&es(t),t.flags|=1,ba(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ha(e,t,i))}function xa(e,t,n,r,i){if(Pi(n)){var s=!0;Mi(t)}else s=!1;if(Ss(t,i),null===t.stateNode)Wa(e,t),qs(t,n,r),Hs(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=n.contextType;"object"===typeof u&&null!==u?u=Ts(u):u=Ai(t,u=Pi(n)?Ri:xi.current);var c=n.getDerivedStateFromProps,h="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;h||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==r||l!==u)&&Ws(t,o,r,u),Rs=!1;var d=t.memoizedState;o.state=d,Fs(t,r,o,i),l=t.memoizedState,a!==r||d!==l||Ni.current||Rs?("function"===typeof c&&(Vs(t,n,c,r),l=t.memoizedState),(a=Rs||Bs(t,n,a,r,d,l,u))?(h||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ps(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:ms(t.type,a),o.props=u,h=t.pendingProps,d=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ts(l):l=Ai(t,l=Pi(n)?Ri:xi.current);var f=n.getDerivedStateFromProps;(c="function"===typeof f||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==h||d!==l)&&Ws(t,o,r,l),Rs=!1,d=t.memoizedState,o.state=d,Fs(t,r,o,i);var p=t.memoizedState;a!==h||d!==p||Ni.current||Rs?("function"===typeof f&&(Vs(t,n,f,r),p=t.memoizedState),(u=Rs||Bs(t,n,u,r,d,p,l)||!1)?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=u):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Na(e,t,n,r,s,i)}function Na(e,t,n,r,i,s){ka(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Fi(t,n,!1),Ha(e,t,s);r=t.stateNode,_a.current=t;var a=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=$s(t,e.child,null,s),t.child=$s(t,null,a,s)):ba(e,t,a,s),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Ra(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),ro(e,t.containerInfo)}function Aa(e,t,n,r,i){return fs(),ps(i),t.flags|=256,ba(e,t,n,r),t.child}var Pa,Oa,Da,La,Ma={dehydrated:null,treeContext:null,retryLane:0};function Fa(e){return{baseLanes:e,cachePool:null,transitions:null}}function ja(e,t,n){var r,i=t.pendingProps,o=ao.current,a=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),ki(ao,1&o),null===e)return us(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,a?(i=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=Fu(l,i,0,null),e=Mu(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Fa(n),t.memoizedState=Ma,e):Ua(t,l));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,a){if(n)return 256&t.flags?(t.flags&=-257,Va(e,t,a,r=ha(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Fu({mode:"visible",children:r.children},i,0,null),(o=Mu(o,i,a,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&$s(t,e.child,null,a),t.child.memoizedState=Fa(a),t.memoizedState=Ma,o);if(0===(1&t.mode))return Va(e,t,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Va(e,t,a,r=ha(o=Error(s(419)),r,void 0))}if(l=0!==(a&e.childLanes),wa||l){if(null!==(r=Rl)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|a))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Ns(e,i),ru(r,e,i,-1))}return mu(),Va(e,t,a,r=ha(Error(s(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=xu.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,rs=ui(i.nextSibling),ns=t,is=!0,ss=null,null!==e&&(Gi[Qi++]=$i,Gi[Qi++]=Xi,Gi[Qi++]=Yi,$i=e.id,Xi=e.overflow,Yi=t),t=Ua(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,o,n);if(a){a=i.fallback,l=t.mode,r=(o=e.child).sibling;var u={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=u,t.deletions=null):(i=Du(o,u)).subtreeFlags=14680064&o.subtreeFlags,null!==r?a=Du(r,a):(a=Mu(a,l,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,l=null===(l=e.child.memoizedState)?Fa(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=Ma,i}return e=(a=e.child).sibling,i=Du(a,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Ua(e,t){return(t=Fu({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Va(e,t,n,r){return null!==r&&ps(r),$s(t,e.child,null,n),(e=Ua(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function za(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Cs(e.return,t,n)}function Ba(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function qa(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(ba(e,t,r.children,n),0!==(2&(r=ao.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&za(e,n,t);else if(19===e.tag)za(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ki(ao,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===lo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ba(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===lo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ba(t,!0,n,null,s);break;case"together":Ba(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Wa(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ha(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Du(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Du(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ka(e,t){if(!is)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ga(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qa(e,t,n){var r=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ga(t),null;case 1:case 17:return Pi(t.type)&&Oi(),Ga(t),null;case 3:return r=t.stateNode,io(),Ti(Ni),Ti(xi),co(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(hs(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(au(ss),ss=null))),Oa(e,t),Ga(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Da(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Ga(t),null}if(e=no(Zs.current),hs(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[di]=t,r[fi]=o,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":$(r,o),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ur("invalid",r);break;case"textarea":ie(r,o),Ur("invalid",r)}for(var l in ye(n,o),i=null,o)if(o.hasOwnProperty(l)){var u=o[l];"children"===l?"string"===typeof u?r.textContent!==u&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,u,e),i=["children",u]):"number"===typeof u&&r.textContent!==""+u&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,u,e),i=["children",""+u]):a.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&Ur("scroll",r)}switch(n){case"input":K(r),Z(r,o,!0);break;case"textarea":K(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[di]=t,e[fi]=r,Pa(e,t,!1,!1),t.stateNode=e;e:{switch(l=_e(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":$(e,r),i=Y(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(o in ye(n,i),u=i)if(u.hasOwnProperty(o)){var c=u[o];"style"===o?me(e,c):"dangerouslySetInnerHTML"===o?null!=(c=c?c.__html:void 0)&&he(e,c):"children"===o?"string"===typeof c?("textarea"!==n||""!==c)&&de(e,c):"number"===typeof c&&de(e,""+c):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(a.hasOwnProperty(o)?null!=c&&"onScroll"===o&&Ur("scroll",e):null!=c&&_(e,o,c,l))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ga(t),null;case 6:if(e&&null!=t.stateNode)La(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=no(to.current),no(Zs.current),hs(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(o=r.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return Ga(t),null;case 13:if(Ti(ao),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(is&&null!==rs&&0!==(1&t.mode)&&0===(128&t.flags))ds(),fs(),t.flags|=98560,o=!1;else if(o=hs(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(s(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(s(317));o[di]=t}else fs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ga(t),o=!1}else null!==ss&&(au(ss),ss=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ao.current)?0===Ll&&(Ll=3):mu())),null!==t.updateQueue&&(t.flags|=4),Ga(t),null);case 4:return io(),Oa(e,t),null===e&&Br(t.stateNode.containerInfo),Ga(t),null;case 10:return Es(t.type._context),Ga(t),null;case 19:if(Ti(ao),null===(o=t.memoizedState))return Ga(t),null;if(r=0!==(128&t.flags),null===(l=o.rendering))if(r)Ka(o,!1);else{if(0!==Ll||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=lo(e))){for(t.flags|=128,Ka(o,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ki(ao,1&ao.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>ql&&(t.flags|=128,r=!0,Ka(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=lo(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ka(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!is)return Ga(t),null}else 2*Xe()-o.renderingStartTime>ql&&1073741824!==n&&(t.flags|=128,r=!0,Ka(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=o.last)?n.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=ao.current,ki(ao,r?1&n|2:1&n),t):(Ga(t),null);case 22:case 23:return du(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ol)&&(Ga(t),6&t.subtreeFlags&&(t.flags|=8192)):Ga(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Ya(e,t){switch(ts(t),t.tag){case 1:return Pi(t.type)&&Oi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ti(Ni),Ti(xi),co(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ti(ao),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));fs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ti(ao),null;case 4:return io(),null;case 10:return Es(t.type._context),null;case 22:case 23:return du(),null;default:return null}}Pa=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Oa=function(){},Da=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Zs.current);var s,o=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(c in ye(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var l=i[c];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(a.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var u=r[c];if(l=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(null!=u||null!=l))if("style"===c)if(l){for(s in l)!l.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in u)u.hasOwnProperty(s)&&l[s]!==u[s]&&(n||(n={}),n[s]=u[s])}else n||(o||(o=[]),o.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(o=o||[]).push(c,u)):"children"===c?"string"!==typeof u&&"number"!==typeof u||(o=o||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(a.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&Ur("scroll",e),o||l===u||(o=[])):(o=o||[]).push(c,u))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}},La=function(e,t,n,r){n!==r&&(t.flags|=4)};var $a=!1,Xa=!1,Ja="function"===typeof WeakSet?WeakSet:Set,Za=null;function el(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Tu(e,t,r)}else n.current=null}function tl(e,t,n){try{n()}catch(r){Tu(e,t,r)}}var nl=!1;function rl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&tl(t,n,s)}i=i.next}while(i!==r)}}function il(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function sl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ol(e){var t=e.alternate;null!==t&&(e.alternate=null,ol(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[fi],delete t[gi],delete t[mi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function al(e){return 5===e.tag||3===e.tag||4===e.tag}function ll(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||al(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var hl=null,dl=!1;function fl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(it,n)}catch(a){}switch(n.tag){case 5:Xa||el(n,t);case 6:var r=hl,i=dl;hl=null,fl(e,t,n),dl=i,null!==(hl=r)&&(dl?(e=hl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):hl.removeChild(n.stateNode));break;case 18:null!==hl&&(dl?(e=hl,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Bt(e)):li(hl,n.stateNode));break;case 4:r=hl,i=dl,hl=n.stateNode.containerInfo,dl=!0,fl(e,t,n),hl=r,dl=i;break;case 0:case 11:case 14:case 15:if(!Xa&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,void 0!==o&&(0!==(2&s)||0!==(4&s))&&tl(n,t,o),i=i.next}while(i!==r)}fl(e,t,n);break;case 1:if(!Xa&&(el(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Tu(n,t,a)}fl(e,t,n);break;case 21:fl(e,t,n);break;case 22:1&n.mode?(Xa=(r=Xa)||null!==n.memoizedState,fl(e,t,n),Xa=r):fl(e,t,n);break;default:fl(e,t,n)}}function gl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ja),t.forEach((function(t){var r=Nu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:hl=l.stateNode,dl=!1;break e;case 3:case 4:hl=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===hl)throw Error(s(160));pl(o,a,i),hl=null,dl=!1;var u=i.alternate;null!==u&&(u.return=null),i.return=null}catch(c){Tu(i,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vl(t,e),t=t.sibling}function vl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),yl(e),4&r){try{rl(3,e,e.return),il(3,e)}catch(m){Tu(e,e.return,m)}try{rl(5,e,e.return)}catch(m){Tu(e,e.return,m)}}break;case 1:ml(t,e),yl(e),512&r&&null!==n&&el(n,n.return);break;case 5:if(ml(t,e),yl(e),512&r&&null!==n&&el(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(m){Tu(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,a=null!==n?n.memoizedProps:o,l=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===l&&"radio"===o.type&&null!=o.name&&X(i,o),_e(l,a);var c=_e(l,o);for(a=0;a<u.length;a+=2){var h=u[a],d=u[a+1];"style"===h?me(i,d):"dangerouslySetInnerHTML"===h?he(i,d):"children"===h?de(i,d):_(i,h,d,c)}switch(l){case"input":J(i,o);break;case"textarea":se(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):f!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[fi]=o}catch(m){Tu(e,e.return,m)}}break;case 6:if(ml(t,e),yl(e),4&r){if(null===e.stateNode)throw Error(s(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Tu(e,e.return,m)}}break;case 3:if(ml(t,e),yl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(m){Tu(e,e.return,m)}break;case 4:default:ml(t,e),yl(e);break;case 13:ml(t,e),yl(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Bl=Xe())),4&r&&gl(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(Xa=(c=Xa)||h,ml(t,e),Xa=c):ml(t,e),yl(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!h&&0!==(1&e.mode))for(Za=e,h=e.child;null!==h;){for(d=Za=h;null!==Za;){switch(p=(f=Za).child,f.tag){case 0:case 11:case 14:case 15:rl(4,f,f.return);break;case 1:el(f,f.return);var g=f.stateNode;if("function"===typeof g.componentWillUnmount){r=f,n=f.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){Tu(r,n,m)}}break;case 5:el(f,f.return);break;case 22:if(null!==f.memoizedState){El(d);continue}}null!==p?(p.return=f,Za=p):El(d)}h=h.sibling}e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{i=d.stateNode,c?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=d.stateNode,a=void 0!==(u=d.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,l.style.display=ge("display",a))}catch(m){Tu(e,e.return,m)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(m){Tu(e,e.return,m)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ml(t,e),yl(e),4&r&&gl(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(al(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),cl(e,ll(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;ul(e,ll(e),o);break;default:throw Error(s(161))}}catch(a){Tu(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function _l(e,t,n){Za=e,wl(e,t,n)}function wl(e,t,n){for(var r=0!==(1&e.mode);null!==Za;){var i=Za,s=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||$a;if(!o){var a=i.alternate,l=null!==a&&null!==a.memoizedState||Xa;a=$a;var u=Xa;if($a=o,(Xa=l)&&!u)for(Za=i;null!==Za;)l=(o=Za).child,22===o.tag&&null!==o.memoizedState?Cl(i):null!==l?(l.return=o,Za=l):Cl(i);for(;null!==s;)Za=s,wl(s,t,n),s=s.sibling;Za=i,$a=a,Xa=u}bl(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,Za=s):bl(e)}}function bl(e){for(;null!==Za;){var t=Za;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xa||il(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xa)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ms(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&js(t,o,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}js(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var h=c.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&Bt(d)}}}break;default:throw Error(s(163))}Xa||512&t.flags&&sl(t)}catch(f){Tu(t,t.return,f)}}if(t===e){Za=null;break}if(null!==(n=t.sibling)){n.return=t.return,Za=n;break}Za=t.return}}function El(e){for(;null!==Za;){var t=Za;if(t===e){Za=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Za=n;break}Za=t.return}}function Cl(e){for(;null!==Za;){var t=Za;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{il(4,t)}catch(l){Tu(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Tu(t,i,l)}}var s=t.return;try{sl(t)}catch(l){Tu(t,s,l)}break;case 5:var o=t.return;try{sl(t)}catch(l){Tu(t,o,l)}}}catch(l){Tu(t,t.return,l)}if(t===e){Za=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Za=a;break}Za=t.return}}var Sl,Tl=Math.ceil,kl=w.ReactCurrentDispatcher,Il=w.ReactCurrentOwner,xl=w.ReactCurrentBatchConfig,Nl=0,Rl=null,Al=null,Pl=0,Ol=0,Dl=Si(0),Ll=0,Ml=null,Fl=0,jl=0,Ul=0,Vl=null,zl=null,Bl=0,ql=1/0,Wl=null,Hl=!1,Kl=null,Gl=null,Ql=!1,Yl=null,$l=0,Xl=0,Jl=null,Zl=-1,eu=0;function tu(){return 0!==(6&Nl)?Xe():-1!==Zl?Zl:Zl=Xe()}function nu(e){return 0===(1&e.mode)?1:0!==(2&Nl)&&0!==Pl?Pl&-Pl:null!==gs.transition?(0===eu&&(eu=gt()),eu):0!==(e=_t)?e:e=void 0===(e=window.event)?16:$t(e.type)}function ru(e,t,n,r){if(50<Xl)throw Xl=0,Jl=null,Error(s(185));vt(e,n,r),0!==(2&Nl)&&e===Rl||(e===Rl&&(0===(2&Nl)&&(jl|=n),4===Ll&&lu(e,Pl)),iu(e,r),1===n&&0===Nl&&0===(1&t.mode)&&(ql=Xe()+500,Ui&&Bi()))}function iu(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-ot(s),a=1<<o,l=i[o];-1===l?0!==(a&n)&&0===(a&r)||(i[o]=ft(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}(e,t);var r=dt(e,e===Rl?Pl:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Ui=!0,zi(e)}(uu.bind(null,e)):zi(uu.bind(null,e)),oi((function(){0===(6&Nl)&&Bi()})),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ru(n,su.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function su(e,t){if(Zl=-1,eu=0,0!==(6&Nl))throw Error(s(327));var n=e.callbackNode;if(Cu()&&e.callbackNode!==n)return null;var r=dt(e,e===Rl?Pl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=vu(e,r);else{t=r;var i=Nl;Nl|=2;var o=gu();for(Rl===e&&Pl===t||(Wl=null,ql=Xe()+500,fu(e,t));;)try{_u();break}catch(l){pu(e,l)}bs(),kl.current=o,Nl=i,null!==Al?t=0:(Rl=null,Pl=0,t=Ll)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ou(e,i))),1===t)throw n=Ml,fu(e,0),lu(e,r),iu(e,Xe()),n;if(6===t)lu(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ar(s(),i))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=vu(e,r))&&(0!==(o=pt(e))&&(r=o,t=ou(e,o))),1===t))throw n=Ml,fu(e,0),lu(e,r),iu(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:Eu(e,zl,Wl);break;case 3:if(lu(e,r),(130023424&r)===r&&10<(t=Bl+500-Xe())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(Eu.bind(null,e,zl,Wl),t);break}Eu(e,zl,Wl);break;case 4:if(lu(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-ot(r);o=1<<a,(a=t[a])>i&&(i=a),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Tl(r/1960))-r)){e.timeoutHandle=ri(Eu.bind(null,e,zl,Wl),r);break}Eu(e,zl,Wl);break;default:throw Error(s(329))}}}return iu(e,Xe()),e.callbackNode===n?su.bind(null,e):null}function ou(e,t){var n=Vl;return e.current.memoizedState.isDehydrated&&(fu(e,t).flags|=256),2!==(e=vu(e,t))&&(t=zl,zl=n,null!==t&&au(t)),e}function au(e){null===zl?zl=e:zl.push.apply(zl,e)}function lu(e,t){for(t&=~Ul,t&=~jl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function uu(e){if(0!==(6&Nl))throw Error(s(327));Cu();var t=dt(e,0);if(0===(1&t))return iu(e,Xe()),null;var n=vu(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ou(e,r))}if(1===n)throw n=Ml,fu(e,0),lu(e,t),iu(e,Xe()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Eu(e,zl,Wl),iu(e,Xe()),null}function cu(e,t){var n=Nl;Nl|=1;try{return e(t)}finally{0===(Nl=n)&&(ql=Xe()+500,Ui&&Bi())}}function hu(e){null!==Yl&&0===Yl.tag&&0===(6&Nl)&&Cu();var t=Nl;Nl|=1;var n=xl.transition,r=_t;try{if(xl.transition=null,_t=1,e)return e()}finally{_t=r,xl.transition=n,0===(6&(Nl=t))&&Bi()}}function du(){Ol=Dl.current,Ti(Dl)}function fu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Al)for(n=Al.return;null!==n;){var r=n;switch(ts(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Oi();break;case 3:io(),Ti(Ni),Ti(xi),co();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ti(ao);break;case 10:Es(r.type._context);break;case 22:case 23:du()}n=n.return}if(Rl=e,Al=e=Du(e.current,null),Pl=Ol=t,Ll=0,Ml=null,Ul=jl=Fl=0,zl=Vl=null,null!==ks){for(t=0;t<ks.length;t++)if(null!==(r=(n=ks[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var o=s.next;s.next=i,r.next=o}n.pending=r}ks=null}return e}function pu(e,t){for(;;){var n=Al;try{if(bs(),ho.current=oa,yo){for(var r=go.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}yo=!1}if(po=0,vo=mo=go=null,_o=!1,wo=0,Il.current=null,null===n||null===n.return){Ll=1,Ml=t,Al=null;break}e:{var o=e,a=n.return,l=n,u=t;if(t=Pl,l.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u,h=l,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=va(a);if(null!==p){p.flags&=-257,ya(p,a,l,0,t),1&p.mode&&ma(o,c,t),u=c;var g=(t=p).updateQueue;if(null===g){var m=new Set;m.add(u),t.updateQueue=m}else g.add(u);break e}if(0===(1&t)){ma(o,c,t),mu();break e}u=Error(s(426))}else if(is&&1&l.mode){var v=va(a);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),ya(v,a,l,0,t),ps(ca(u,l));break e}}o=u=ca(u,l),4!==Ll&&(Ll=2),null===Vl?Vl=[o]:Vl.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ms(o,pa(0,u,t));break e;case 1:l=u;var y=o.type,_=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==_&&"function"===typeof _.componentDidCatch&&(null===Gl||!Gl.has(_)))){o.flags|=65536,t&=-t,o.lanes|=t,Ms(o,ga(o,l,t));break e}}o=o.return}while(null!==o)}bu(n)}catch(w){t=w,Al===n&&null!==n&&(Al=n=n.return);continue}break}}function gu(){var e=kl.current;return kl.current=oa,null===e?oa:e}function mu(){0!==Ll&&3!==Ll&&2!==Ll||(Ll=4),null===Rl||0===(268435455&Fl)&&0===(268435455&jl)||lu(Rl,Pl)}function vu(e,t){var n=Nl;Nl|=2;var r=gu();for(Rl===e&&Pl===t||(Wl=null,fu(e,t));;)try{yu();break}catch(i){pu(e,i)}if(bs(),Nl=n,kl.current=r,null!==Al)throw Error(s(261));return Rl=null,Pl=0,Ll}function yu(){for(;null!==Al;)wu(Al)}function _u(){for(;null!==Al&&!Ye();)wu(Al)}function wu(e){var t=Sl(e.alternate,e,Ol);e.memoizedProps=e.pendingProps,null===t?bu(e):Al=t,Il.current=null}function bu(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qa(n,t,Ol)))return void(Al=n)}else{if(null!==(n=Ya(n,t)))return n.flags&=32767,void(Al=n);if(null===e)return Ll=6,void(Al=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Al=t);Al=t=e}while(null!==t);0===Ll&&(Ll=5)}function Eu(e,t,n){var r=_t,i=xl.transition;try{xl.transition=null,_t=1,function(e,t,n,r){do{Cu()}while(null!==Yl);if(0!==(6&Nl))throw Error(s(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,o),e===Rl&&(Al=Rl=null,Pl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ql||(Ql=!0,Ru(tt,(function(){return Cu(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=xl.transition,xl.transition=null;var a=_t;_t=1;var l=Nl;Nl|=4,Il.current=null,function(e,t){if(ei=Wt,fr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(b){n=null;break e}var a=0,l=-1,u=-1,c=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(l=a+i),d!==o||0!==r&&3!==d.nodeType||(u=a+r),3===d.nodeType&&(a+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++c===i&&(l=a),f===o&&++h===r&&(u=a),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,Za=t;null!==Za;)if(e=(t=Za).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Za=e;else for(;null!==Za;){t=Za;try{var g=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var m=g.memoizedProps,v=g.memoizedState,y=t.stateNode,_=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:ms(t.type,m),v);y.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(s(163))}}catch(b){Tu(t,t.return,b)}if(null!==(e=t.sibling)){e.return=t.return,Za=e;break}Za=t.return}g=nl,nl=!1}(e,n),vl(n,e),pr(ti),Wt=!!ei,ti=ei=null,e.current=n,_l(n,e,i),$e(),Nl=l,_t=a,xl.transition=o}else e.current=n;if(Ql&&(Ql=!1,Yl=e,$l=i),o=e.pendingLanes,0===o&&(Gl=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),iu(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Hl)throw Hl=!1,e=Kl,Kl=null,e;0!==(1&$l)&&0!==e.tag&&Cu(),o=e.pendingLanes,0!==(1&o)?e===Jl?Xl++:(Xl=0,Jl=e):Xl=0,Bi()}(e,t,n,r)}finally{xl.transition=i,_t=r}return null}function Cu(){if(null!==Yl){var e=wt($l),t=xl.transition,n=_t;try{if(xl.transition=null,_t=16>e?16:e,null===Yl)var r=!1;else{if(e=Yl,Yl=null,$l=0,0!==(6&Nl))throw Error(s(331));var i=Nl;for(Nl|=4,Za=e.current;null!==Za;){var o=Za,a=o.child;if(0!==(16&Za.flags)){var l=o.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(Za=c;null!==Za;){var h=Za;switch(h.tag){case 0:case 11:case 15:rl(8,h,o)}var d=h.child;if(null!==d)d.return=h,Za=d;else for(;null!==Za;){var f=(h=Za).sibling,p=h.return;if(ol(h),h===c){Za=null;break}if(null!==f){f.return=p,Za=f;break}Za=p}}}var g=o.alternate;if(null!==g){var m=g.child;if(null!==m){g.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(null!==m)}}Za=o}}if(0!==(2064&o.subtreeFlags)&&null!==a)a.return=o,Za=a;else e:for(;null!==Za;){if(0!==(2048&(o=Za).flags))switch(o.tag){case 0:case 11:case 15:rl(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,Za=y;break e}Za=o.return}}var _=e.current;for(Za=_;null!==Za;){var w=(a=Za).child;if(0!==(2064&a.subtreeFlags)&&null!==w)w.return=a,Za=w;else e:for(a=_;null!==Za;){if(0!==(2048&(l=Za).flags))try{switch(l.tag){case 0:case 11:case 15:il(9,l)}}catch(E){Tu(l,l.return,E)}if(l===a){Za=null;break e}var b=l.sibling;if(null!==b){b.return=l.return,Za=b;break e}Za=l.return}}if(Nl=i,Bi(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(it,e)}catch(E){}r=!0}return r}finally{_t=n,xl.transition=t}}return!1}function Su(e,t,n){e=Ds(e,t=pa(0,t=ca(n,t),1),1),t=tu(),null!==e&&(vt(e,1,t),iu(e,t))}function Tu(e,t,n){if(3===e.tag)Su(e,e,n);else for(;null!==t;){if(3===t.tag){Su(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gl||!Gl.has(r))){t=Ds(t,e=ga(t,e=ca(n,e),1),1),e=tu(),null!==t&&(vt(t,1,e),iu(t,e));break}}t=t.return}}function ku(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tu(),e.pingedLanes|=e.suspendedLanes&n,Rl===e&&(Pl&n)===n&&(4===Ll||3===Ll&&(130023424&Pl)===Pl&&500>Xe()-Bl?fu(e,0):Ul|=n),iu(e,t)}function Iu(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=tu();null!==(e=Ns(e,t))&&(vt(e,t,n),iu(e,n))}function xu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Iu(e,n)}function Nu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),Iu(e,n)}function Ru(e,t){return Ge(e,t)}function Au(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pu(e,t,n,r){return new Au(e,t,n,r)}function Ou(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Du(e,t){var n=e.alternate;return null===n?((n=Pu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lu(e,t,n,r,i,o){var a=2;if(r=e,"function"===typeof e)Ou(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case C:return Mu(n.children,i,o,t);case S:a=8,i|=8;break;case T:return(e=Pu(12,n,t,2|i)).elementType=T,e.lanes=o,e;case N:return(e=Pu(13,n,t,i)).elementType=N,e.lanes=o,e;case R:return(e=Pu(19,n,t,i)).elementType=R,e.lanes=o,e;case O:return Fu(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case k:a=10;break e;case I:a=9;break e;case x:a=11;break e;case A:a=14;break e;case P:a=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Pu(a,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Mu(e,t,n,r){return(e=Pu(7,e,r,t)).lanes=n,e}function Fu(e,t,n,r){return(e=Pu(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function ju(e,t,n){return(e=Pu(6,e,null,t)).lanes=n,e}function Uu(e,t,n){return(t=Pu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vu(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zu(e,t,n,r,i,s,o,a,l){return e=new Vu(e,t,n,a,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Pu(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},As(s),e}function Bu(e){if(!e)return Ii;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Pi(n))return Li(e,n,t)}return t}function qu(e,t,n,r,i,s,o,a,l){return(e=zu(n,r,!0,e,0,s,0,a,l)).context=Bu(null),n=e.current,(s=Os(r=tu(),i=nu(n))).callback=void 0!==t&&null!==t?t:null,Ds(n,s,i),e.current.lanes=i,vt(e,i,r),iu(e,r),e}function Wu(e,t,n,r){var i=t.current,s=tu(),o=nu(i);return n=Bu(n),null===t.context?t.context=n:t.pendingContext=n,(t=Os(s,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ds(i,t,o))&&(ru(e,i,o,s),Ls(e,i,o)),o}function Hu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Ku(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gu(e,t){Ku(e,t),(e=e.alternate)&&Ku(e,t)}Sl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)wa=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return wa=!1,function(e,t,n){switch(t.tag){case 3:Ra(t),fs();break;case 5:so(t);break;case 1:Pi(t.type)&&Mi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;ki(vs,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(ki(ao,1&ao.current),t.flags|=128,null):0!==(n&t.child.childLanes)?ja(e,t,n):(ki(ao,1&ao.current),null!==(e=Ha(e,t,n))?e.sibling:null);ki(ao,1&ao.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qa(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),ki(ao,ao.current),r)break;return null;case 22:case 23:return t.lanes=0,Ta(e,t,n)}return Ha(e,t,n)}(e,t,n);wa=0!==(131072&e.flags)}else wa=!1,is&&0!==(1048576&t.flags)&&Zi(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Wa(e,t),e=t.pendingProps;var i=Ai(t,xi.current);Ss(t,n),i=So(null,t,r,e,i,n);var o=To();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pi(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,As(t),i.updater=zs,t.stateNode=i,i._reactInternals=t,Hs(t,r,e,n),t=Na(null,t,r,!0,o,n)):(t.tag=0,is&&o&&es(t),ba(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Wa(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Ou(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===x)return 11;if(e===A)return 14}return 2}(r),e=ms(r,e),i){case 0:t=Ia(null,t,r,e,n);break e;case 1:t=xa(null,t,r,e,n);break e;case 11:t=Ea(null,t,r,e,n);break e;case 14:t=Ca(null,t,r,ms(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ia(e,t,r,i=t.elementType===r?i:ms(r,i),n);case 1:return r=t.type,i=t.pendingProps,xa(e,t,r,i=t.elementType===r?i:ms(r,i),n);case 3:e:{if(Ra(t),null===e)throw Error(s(387));r=t.pendingProps,i=(o=t.memoizedState).element,Ps(e,t),Fs(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Aa(e,t,r,n,i=ca(Error(s(423)),t));break e}if(r!==i){t=Aa(e,t,r,n,i=ca(Error(s(424)),t));break e}for(rs=ui(t.stateNode.containerInfo.firstChild),ns=t,is=!0,ss=null,n=Xs(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fs(),r===i){t=Ha(e,t,n);break e}ba(e,t,r,n)}t=t.child}return t;case 5:return so(t),null===e&&us(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,a=i.children,ni(r,i)?a=null:null!==o&&ni(r,o)&&(t.flags|=32),ka(e,t),ba(e,t,a,n),t.child;case 6:return null===e&&us(t),null;case 13:return ja(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=$s(t,null,r,n):ba(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ea(e,t,r,i=t.elementType===r?i:ms(r,i),n);case 7:return ba(e,t,t.pendingProps,n),t.child;case 8:case 12:return ba(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,ki(vs,r._currentValue),r._currentValue=a,null!==o)if(ar(o.value,a)){if(o.children===i.children&&!Ni.current){t=Ha(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){a=o.child;for(var u=l.firstContext;null!==u;){if(u.context===r){if(1===o.tag){(u=Os(-1,n&-n)).tag=2;var c=o.updateQueue;if(null!==c){var h=(c=c.shared).pending;null===h?u.next=u:(u.next=h.next,h.next=u),c.pending=u}}o.lanes|=n,null!==(u=o.alternate)&&(u.lanes|=n),Cs(o.return,n,t),l.lanes|=n;break}u=u.next}}else if(10===o.tag)a=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(a=o.return))throw Error(s(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Cs(a,n,t),a=o.sibling}else a=o.child;if(null!==a)a.return=o;else for(a=o;null!==a;){if(a===t){a=null;break}if(null!==(o=a.sibling)){o.return=a.return,a=o;break}a=a.return}o=a}ba(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ss(t,n),r=r(i=Ts(i)),t.flags|=1,ba(e,t,r,n),t.child;case 14:return i=ms(r=t.type,t.pendingProps),Ca(e,t,r,i=ms(r.type,i),n);case 15:return Sa(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ms(r,i),Wa(e,t),t.tag=1,Pi(r)?(e=!0,Mi(t)):e=!1,Ss(t,n),qs(t,r,i),Hs(t,r,i,n),Na(null,t,r,!0,e,n);case 19:return qa(e,t,n);case 22:return Ta(e,t,n)}throw Error(s(156,t.tag))};var Qu="function"===typeof reportError?reportError:function(e){console.error(e)};function Yu(e){this._internalRoot=e}function $u(e){this._internalRoot=e}function Xu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Ju(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zu(){}function ec(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if("function"===typeof i){var a=i;i=function(){var e=Hu(o);a.call(e)}}Wu(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var s=r;r=function(){var e=Hu(o);s.call(e)}}var o=qu(t,r,e,0,null,!1,0,"",Zu);return e._reactRootContainer=o,e[pi]=o.current,Br(8===e.nodeType?e.parentNode:e),hu(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var a=r;r=function(){var e=Hu(l);a.call(e)}}var l=zu(e,0,!1,null,0,!1,0,"",Zu);return e._reactRootContainer=l,e[pi]=l.current,Br(8===e.nodeType?e.parentNode:e),hu((function(){Wu(t,l,n,r)})),l}(n,t,e,i,r);return Hu(o)}$u.prototype.render=Yu.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Wu(e,t,null,null)},$u.prototype.unmount=Yu.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;hu((function(){Wu(null,e,null,null)})),t[pi]=null}},$u.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&Ft(e)}},bt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(yt(t,1|n),iu(t,Xe()),0===(6&Nl)&&(ql=Xe()+500,Bi()))}break;case 13:hu((function(){var t=Ns(e,1);if(null!==t){var n=tu();ru(t,e,1,n)}})),Gu(e,1)}},Et=function(e){if(13===e.tag){var t=Ns(e,134217728);if(null!==t)ru(t,e,134217728,tu());Gu(e,134217728)}},Ct=function(e){if(13===e.tag){var t=nu(e),n=Ns(e,t);if(null!==n)ru(n,e,t,tu());Gu(e,t)}},St=function(){return _t},Tt=function(e,t){var n=_t;try{return _t=e,t()}finally{_t=n}},Ee=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=bi(r);if(!i)throw Error(s(90));G(r),J(r,i)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},xe=cu,Ne=hu;var tc={usingClientEntryPoint:!1,Events:[_i,wi,bi,ke,Ie,cu]},nc={findFiberByHostInstance:yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rc={bundleType:nc.bundleType,version:nc.version,rendererPackageName:nc.rendererPackageName,rendererConfig:nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:nc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ic.isDisabled&&ic.supportsFiber)try{it=ic.inject(rc),st=ic}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xu(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xu(e))throw Error(s(299));var n=!1,r="",i=Qu;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=zu(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new Yu(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return hu(e)},t.hydrate=function(e,t,n){if(!Ju(t))throw Error(s(200));return ec(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xu(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",a=Qu;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=qu(t,null,e,1,null!=n?n:null,i,0,o,a),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new $u(t)},t.render=function(e,t,n){if(!Ju(t))throw Error(s(200));return ec(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Ju(e))throw Error(s(40));return!!e._reactRootContainer&&(hu((function(){ec(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cu,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ju(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return ec(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},1250:(e,t,n)=>{"use strict";var r=n(4164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4164:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},3688:(e,t,n)=>{"use strict";function r(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function i(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function s(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}function o(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!==typeof e.getDerivedStateFromProps&&"function"!==typeof t.getSnapshotBeforeUpdate)return e;var n=null,o=null,a=null;if("function"===typeof t.componentWillMount?n="componentWillMount":"function"===typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"===typeof t.componentWillReceiveProps?o="componentWillReceiveProps":"function"===typeof t.UNSAFE_componentWillReceiveProps&&(o="UNSAFE_componentWillReceiveProps"),"function"===typeof t.componentWillUpdate?a="componentWillUpdate":"function"===typeof t.UNSAFE_componentWillUpdate&&(a="UNSAFE_componentWillUpdate"),null!==n||null!==o||null!==a){var l=e.displayName||e.name,u="function"===typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+l+" uses "+u+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==o?"\n  "+o:"")+(null!==a?"\n  "+a:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"===typeof e.getDerivedStateFromProps&&(t.componentWillMount=r,t.componentWillReceiveProps=i),"function"===typeof t.getSnapshotBeforeUpdate){if("function"!==typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=s;var c=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;c.call(this,e,t,r)}}return e}n.r(t),n.d(t,{polyfill:()=>o}),r.__suppressDeprecationWarning=!0,i.__suppressDeprecationWarning=!0,s.__suppressDeprecationWarning=!0},2240:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bodyOpenClassName=t.portalClassName=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(2791),o=p(s),a=p(n(4164)),l=p(n(2007)),u=p(n(4334)),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(5858)),h=n(3663),d=p(h),f=n(3688);function p(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var m=t.portalClassName="ReactModalPortal",v=t.bodyOpenClassName="ReactModal__Body--open",y=h.canUseDOM&&void 0!==a.default.createPortal,_=function(e){return document.createElement(e)},w=function(){return y?a.default.createPortal:a.default.unstable_renderSubtreeIntoContainer};function b(e){return e()}var E=function(e){function t(){var e,n,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=i=g(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),i.removePortal=function(){!y&&a.default.unmountComponentAtNode(i.node);var e=b(i.props.parentSelector);e&&e.contains(i.node)?e.removeChild(i.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},i.portalRef=function(e){i.portal=e},i.renderPortal=function(e){var n=w()(i,o.default.createElement(u.default,r({defaultStyles:t.defaultStyles},e)),i.node);i.portalRef(n)},g(i,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentDidMount",value:function(){h.canUseDOM&&(y||(this.node=_("div")),this.node.className=this.props.portalClassName,b(this.props.parentSelector).appendChild(this.node),!y&&this.renderPortal(this.props))}},{key:"getSnapshotBeforeUpdate",value:function(e){return{prevParent:b(e.parentSelector),nextParent:b(this.props.parentSelector)}}},{key:"componentDidUpdate",value:function(e,t,n){if(h.canUseDOM){var r=this.props,i=r.isOpen,s=r.portalClassName;e.portalClassName!==s&&(this.node.className=s);var o=n.prevParent,a=n.nextParent;a!==o&&(o.removeChild(this.node),a.appendChild(this.node)),(e.isOpen||i)&&!y&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(h.canUseDOM&&this.node&&this.portal){var e=this.portal.state,t=Date.now(),n=e.isOpen&&this.props.closeTimeoutMS&&(e.closesAt||t+this.props.closeTimeoutMS);n?(e.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,n-t)):this.removePortal()}}},{key:"render",value:function(){return h.canUseDOM&&y?(!this.node&&y&&(this.node=_("div")),w()(o.default.createElement(u.default,r({ref:this.portalRef,defaultStyles:t.defaultStyles},this.props)),this.node)):null}}],[{key:"setAppElement",value:function(e){c.setElement(e)}}]),t}(s.Component);E.propTypes={isOpen:l.default.bool.isRequired,style:l.default.shape({content:l.default.object,overlay:l.default.object}),portalClassName:l.default.string,bodyOpenClassName:l.default.string,htmlOpenClassName:l.default.string,className:l.default.oneOfType([l.default.string,l.default.shape({base:l.default.string.isRequired,afterOpen:l.default.string.isRequired,beforeClose:l.default.string.isRequired})]),overlayClassName:l.default.oneOfType([l.default.string,l.default.shape({base:l.default.string.isRequired,afterOpen:l.default.string.isRequired,beforeClose:l.default.string.isRequired})]),appElement:l.default.oneOfType([l.default.instanceOf(d.default),l.default.instanceOf(h.SafeHTMLCollection),l.default.instanceOf(h.SafeNodeList),l.default.arrayOf(l.default.instanceOf(d.default))]),onAfterOpen:l.default.func,onRequestClose:l.default.func,closeTimeoutMS:l.default.number,ariaHideApp:l.default.bool,shouldFocusAfterRender:l.default.bool,shouldCloseOnOverlayClick:l.default.bool,shouldReturnFocusAfterClose:l.default.bool,preventScroll:l.default.bool,parentSelector:l.default.func,aria:l.default.object,data:l.default.object,role:l.default.string,contentLabel:l.default.string,shouldCloseOnEsc:l.default.bool,overlayRef:l.default.func,contentRef:l.default.func,id:l.default.string,overlayElement:l.default.func,contentElement:l.default.func},E.defaultProps={isOpen:!1,portalClassName:m,bodyOpenClassName:v,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,preventScroll:!1,parentSelector:function(){return document.body},overlayElement:function(e,t){return o.default.createElement("div",e,t)},contentElement:function(e,t){return o.default.createElement("div",e,t)}},E.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}},(0,f.polyfill)(E),t.default=E},4334:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(2791),a=m(n(2007)),l=g(n(8844)),u=m(n(870)),c=g(n(5858)),h=g(n(4942)),d=n(3663),f=m(d),p=m(n(8484));function g(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function m(e){return e&&e.__esModule?e:{default:e}}n(5670);var v={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},y=0,_=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.setOverlayRef=function(e){n.overlay=e,n.props.overlayRef&&n.props.overlayRef(e)},n.setContentRef=function(e){n.content=e,n.props.contentRef&&n.props.contentRef(e)},n.afterClose=function(){var e=n.props,t=e.appElement,r=e.ariaHideApp,i=e.htmlOpenClassName,s=e.bodyOpenClassName,o=e.parentSelector,a=o&&o().ownerDocument||document;s&&h.remove(a.body,s),i&&h.remove(a.getElementsByTagName("html")[0],i),r&&y>0&&0===(y-=1)&&c.show(t),n.props.shouldFocusAfterRender&&(n.props.shouldReturnFocusAfterClose?(l.returnFocus(n.props.preventScroll),l.teardownScopedFocus()):l.popWithoutFocus()),n.props.onAfterClose&&n.props.onAfterClose(),p.default.deregister(n)},n.open=function(){n.beforeOpen(),n.state.afterOpen&&n.state.beforeClose?(clearTimeout(n.closeTimer),n.setState({beforeClose:!1})):(n.props.shouldFocusAfterRender&&(l.setupScopedFocus(n.node),l.markForFocusLater()),n.setState({isOpen:!0},(function(){n.openAnimationFrame=requestAnimationFrame((function(){n.setState({afterOpen:!0}),n.props.isOpen&&n.props.onAfterOpen&&n.props.onAfterOpen({overlayEl:n.overlay,contentEl:n.content})}))})))},n.close=function(){n.props.closeTimeoutMS>0?n.closeWithTimeout():n.closeWithoutTimeout()},n.focusContent=function(){return n.content&&!n.contentHasFocus()&&n.content.focus({preventScroll:!0})},n.closeWithTimeout=function(){var e=Date.now()+n.props.closeTimeoutMS;n.setState({beforeClose:!0,closesAt:e},(function(){n.closeTimer=setTimeout(n.closeWithoutTimeout,n.state.closesAt-Date.now())}))},n.closeWithoutTimeout=function(){n.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},n.afterClose)},n.handleKeyDown=function(e){(function(e){return"Tab"===e.code||9===e.keyCode})(e)&&(0,u.default)(n.content,e),n.props.shouldCloseOnEsc&&function(e){return"Escape"===e.code||27===e.keyCode}(e)&&(e.stopPropagation(),n.requestClose(e))},n.handleOverlayOnClick=function(e){null===n.shouldClose&&(n.shouldClose=!0),n.shouldClose&&n.props.shouldCloseOnOverlayClick&&(n.ownerHandlesClose()?n.requestClose(e):n.focusContent()),n.shouldClose=null},n.handleContentOnMouseUp=function(){n.shouldClose=!1},n.handleOverlayOnMouseDown=function(e){n.props.shouldCloseOnOverlayClick||e.target!=n.overlay||e.preventDefault()},n.handleContentOnClick=function(){n.shouldClose=!1},n.handleContentOnMouseDown=function(){n.shouldClose=!1},n.requestClose=function(e){return n.ownerHandlesClose()&&n.props.onRequestClose(e)},n.ownerHandlesClose=function(){return n.props.onRequestClose},n.shouldBeClosed=function(){return!n.state.isOpen&&!n.state.beforeClose},n.contentHasFocus=function(){return document.activeElement===n.content||n.content.contains(document.activeElement)},n.buildClassName=function(e,t){var r="object"===("undefined"===typeof t?"undefined":i(t))?t:{base:v[e],afterOpen:v[e]+"--after-open",beforeClose:v[e]+"--before-close"},s=r.base;return n.state.afterOpen&&(s=s+" "+r.afterOpen),n.state.beforeClose&&(s=s+" "+r.beforeClose),"string"===typeof t&&t?s+" "+t:s},n.attributesFromObject=function(e,t){return Object.keys(t).reduce((function(n,r){return n[e+"-"+r]=t[r],n}),{})},n.state={afterOpen:!1,beforeClose:!1},n.shouldClose=null,n.moveFromContentToOverlay=null,n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),s(t,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(e,t){this.props.isOpen&&!e.isOpen?this.open():!this.props.isOpen&&e.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!t.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer),cancelAnimationFrame(this.openAnimationFrame)}},{key:"beforeOpen",value:function(){var e=this.props,t=e.appElement,n=e.ariaHideApp,r=e.htmlOpenClassName,i=e.bodyOpenClassName,s=e.parentSelector,o=s&&s().ownerDocument||document;i&&h.add(o.body,i),r&&h.add(o.getElementsByTagName("html")[0],r),n&&(y+=1,c.hide(t)),p.default.register(this)}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.className,i=e.overlayClassName,s=e.defaultStyles,o=e.children,a=n?{}:s.content,l=i?{}:s.overlay;if(this.shouldBeClosed())return null;var u={ref:this.setOverlayRef,className:this.buildClassName("overlay",i),style:r({},l,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},c=r({id:t,ref:this.setContentRef,style:r({},a,this.props.style.content),className:this.buildClassName("content",n),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",r({modal:!0},this.props.aria)),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),h=this.props.contentElement(c,o);return this.props.overlayElement(u,h)}}]),t}(o.Component);_.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},_.propTypes={isOpen:a.default.bool.isRequired,defaultStyles:a.default.shape({content:a.default.object,overlay:a.default.object}),style:a.default.shape({content:a.default.object,overlay:a.default.object}),className:a.default.oneOfType([a.default.string,a.default.object]),overlayClassName:a.default.oneOfType([a.default.string,a.default.object]),parentSelector:a.default.func,bodyOpenClassName:a.default.string,htmlOpenClassName:a.default.string,ariaHideApp:a.default.bool,appElement:a.default.oneOfType([a.default.instanceOf(f.default),a.default.instanceOf(d.SafeHTMLCollection),a.default.instanceOf(d.SafeNodeList),a.default.arrayOf(a.default.instanceOf(f.default))]),onAfterOpen:a.default.func,onAfterClose:a.default.func,onRequestClose:a.default.func,closeTimeoutMS:a.default.number,shouldFocusAfterRender:a.default.bool,shouldCloseOnOverlayClick:a.default.bool,shouldReturnFocusAfterClose:a.default.bool,preventScroll:a.default.bool,role:a.default.string,contentLabel:a.default.string,aria:a.default.object,data:a.default.object,children:a.default.node,shouldCloseOnEsc:a.default.bool,overlayRef:a.default.func,contentRef:a.default.func,id:a.default.string,overlayElement:a.default.func,contentElement:a.default.func,testId:a.default.string},t.default=_,e.exports=t.default},5858:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resetState=function(){a&&(a.removeAttribute?a.removeAttribute("aria-hidden"):null!=a.length?a.forEach((function(e){return e.removeAttribute("aria-hidden")})):document.querySelectorAll(a).forEach((function(e){return e.removeAttribute("aria-hidden")})));a=null},t.log=function(){0},t.assertNodeList=l,t.setElement=function(e){var t=e;if("string"===typeof t&&o.canUseDOM){var n=document.querySelectorAll(t);l(n,t),t=n}return a=t||a},t.validateElement=u,t.hide=function(e){var t=!0,n=!1,r=void 0;try{for(var i,s=u(e)[Symbol.iterator]();!(t=(i=s.next()).done);t=!0){i.value.setAttribute("aria-hidden","true")}}catch(o){n=!0,r=o}finally{try{!t&&s.return&&s.return()}finally{if(n)throw r}}},t.show=function(e){var t=!0,n=!1,r=void 0;try{for(var i,s=u(e)[Symbol.iterator]();!(t=(i=s.next()).done);t=!0){i.value.removeAttribute("aria-hidden")}}catch(o){n=!0,r=o}finally{try{!t&&s.return&&s.return()}finally{if(n)throw r}}},t.documentNotReadyOrSSRTesting=function(){a=null};var r,i=n(2391),s=(r=i)&&r.__esModule?r:{default:r},o=n(3663);var a=null;function l(e,t){if(!e||!e.length)throw new Error("react-modal: No elements were found for selector "+t+".")}function u(e){var t=e||a;return t?Array.isArray(t)||t instanceof HTMLCollection||t instanceof NodeList?t:[t]:((0,s.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),[])}},5670:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resetState=function(){for(var e=[o,a],t=0;t<e.length;t++){var n=e[t];n&&(n.parentNode&&n.parentNode.removeChild(n))}o=a=null,l=[]},t.log=function(){console.log("bodyTrap ----------"),console.log(l.length);for(var e=[o,a],t=0;t<e.length;t++){var n=e[t]||{};console.log(n.nodeName,n.className,n.id)}console.log("edn bodyTrap ----------")};var r,i=n(8484),s=(r=i)&&r.__esModule?r:{default:r};var o=void 0,a=void 0,l=[];function u(){0!==l.length&&l[l.length-1].focusContent()}s.default.subscribe((function(e,t){o||a||((o=document.createElement("div")).setAttribute("data-react-modal-body-trap",""),o.style.position="absolute",o.style.opacity="0",o.setAttribute("tabindex","0"),o.addEventListener("focus",u),(a=o.cloneNode()).addEventListener("focus",u)),(l=t).length>0?(document.body.firstChild!==o&&document.body.insertBefore(o,document.body.firstChild),document.body.lastChild!==a&&document.body.appendChild(a)):(o.parentElement&&o.parentElement.removeChild(o),a.parentElement&&a.parentElement.removeChild(a))}))},4942:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resetState=function(){var e=document.getElementsByTagName("html")[0];for(var t in n)i(e,n[t]);var s=document.body;for(var o in r)i(s,r[o]);n={},r={}},t.log=function(){0};var n={},r={};function i(e,t){e.classList.remove(t)}t.add=function(e,t){return i=e.classList,s="html"==e.nodeName.toLowerCase()?n:r,void t.split(" ").forEach((function(e){!function(e,t){e[t]||(e[t]=0),e[t]+=1}(s,e),i.add(e)}));var i,s},t.remove=function(e,t){return i=e.classList,s="html"==e.nodeName.toLowerCase()?n:r,void t.split(" ").forEach((function(e){!function(e,t){e[t]&&(e[t]-=1)}(s,e),0===s[e]&&i.remove(e)}));var i,s}},8844:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resetState=function(){o=[]},t.log=function(){0},t.handleBlur=u,t.handleFocus=c,t.markForFocusLater=function(){o.push(document.activeElement)},t.returnFocus=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=null;try{return void(0!==o.length&&(t=o.pop()).focus({preventScroll:e}))}catch(n){console.warn(["You tried to return focus to",t,"but it is not in the DOM anymore"].join(" "))}},t.popWithoutFocus=function(){o.length>0&&o.pop()},t.setupScopedFocus=function(e){a=e,window.addEventListener?(window.addEventListener("blur",u,!1),document.addEventListener("focus",c,!0)):(window.attachEvent("onBlur",u),document.attachEvent("onFocus",c))},t.teardownScopedFocus=function(){a=null,window.addEventListener?(window.removeEventListener("blur",u),document.removeEventListener("focus",c)):(window.detachEvent("onBlur",u),document.detachEvent("onFocus",c))};var r,i=n(9750),s=(r=i)&&r.__esModule?r:{default:r};var o=[],a=null,l=!1;function u(){l=!0}function c(){if(l){if(l=!1,!a)return;setTimeout((function(){a.contains(document.activeElement)||((0,s.default)(a)[0]||a).focus()}),0)}}},8484:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.log=function(){console.log("portalOpenInstances ----------"),console.log(r.openInstances.length),r.openInstances.forEach((function(e){return console.log(e)})),console.log("end portalOpenInstances ----------")},t.resetState=function(){r=new n};var n=function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.register=function(e){-1===t.openInstances.indexOf(e)&&(t.openInstances.push(e),t.emit("register"))},this.deregister=function(e){var n=t.openInstances.indexOf(e);-1!==n&&(t.openInstances.splice(n,1),t.emit("deregister"))},this.subscribe=function(e){t.subscribers.push(e)},this.emit=function(e){t.subscribers.forEach((function(n){return n(e,t.openInstances.slice())}))},this.openInstances=[],this.subscribers=[]},r=new n;t.default=r},3663:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canUseDOM=t.SafeNodeList=t.SafeHTMLCollection=void 0;var r,i=n(2618);var s=((r=i)&&r.__esModule?r:{default:r}).default,o=s.canUseDOM?window.HTMLElement:{};t.SafeHTMLCollection=s.canUseDOM?window.HTMLCollection:{},t.SafeNodeList=s.canUseDOM?window.NodeList:{},t.canUseDOM=s.canUseDOM;t.default=o},870:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=(0,s.default)(e);if(!n.length)return void t.preventDefault();var r=void 0,i=t.shiftKey,a=n[0],l=n[n.length-1],u=o();if(e===u){if(!i)return;r=l}l!==u||i||(r=a);a===u&&i&&(r=l);if(r)return t.preventDefault(),void r.focus();var c=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent);if(null==c||"Chrome"==c[1]||null!=/\biPod\b|\biPad\b/g.exec(navigator.userAgent))return;var h=n.indexOf(u);h>-1&&(h+=i?-1:1);if("undefined"===typeof(r=n[h]))return t.preventDefault(),void(r=i?l:a).focus();t.preventDefault(),r.focus()};var r,i=n(9750),s=(r=i)&&r.__esModule?r:{default:r};function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;return e.activeElement.shadowRoot?o(e.activeElement.shadowRoot):e.activeElement}e.exports=t.default},9750:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t){var n=[].slice.call(t.querySelectorAll("*"),0).reduce((function(t,n){return t.concat(n.shadowRoot?e(n.shadowRoot):[n])}),[]);return n.filter(a)};var n="none",r="contents",i=/input|select|textarea|button|object|iframe/;function s(e){var t=e.offsetWidth<=0&&e.offsetHeight<=0;if(t&&!e.innerHTML)return!0;try{var i=window.getComputedStyle(e),s=i.getPropertyValue("display");return t?s!==r&&function(e,t){return"visible"!==t.getPropertyValue("overflow")||e.scrollWidth<=0&&e.scrollHeight<=0}(e,i):s===n}catch(o){return console.warn("Failed to inspect element style"),!1}}function o(e,t){var n=e.nodeName.toLowerCase();return(i.test(n)&&!e.disabled||"a"===n&&e.href||t)&&function(e){for(var t=e,n=e.getRootNode&&e.getRootNode();t&&t!==document.body;){if(n&&t===n&&(t=n.host.parentNode),s(t))return!1;t=t.parentNode}return!0}(e)}function a(e){var t=e.getAttribute("tabindex");null===t&&(t=void 0);var n=isNaN(t);return(n||t>=0)&&o(e,!n)}e.exports=t.default},7948:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(2240),s=(r=i)&&r.__esModule?r:{default:r};t.default=s.default,e.exports=t.default},6374:(e,t,n)=>{"use strict";var r=n(2791),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,s={},u=null,c=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)o.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:u,ref:c,props:s,_owner:a.current}}t.Fragment=s,t.jsx=u,t.jsxs=u},9117:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function v(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function y(){}function _(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var w=_.prototype=new y;w.constructor=_,g(w,v.prototype),w.isPureReactComponent=!0;var b=Array.isArray,E=Object.prototype.hasOwnProperty,C={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,r){var i,s={},o=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)E.call(t,i)&&!S.hasOwnProperty(i)&&(s[i]=t[i]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];s.children=u}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===s[i]&&(s[i]=l[i]);return{$$typeof:n,type:e,key:o,ref:a,props:s,_owner:C.current}}function k(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var I=/\/+/g;function x(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,s,o){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return o=o(l=e),e=""===s?"."+x(l,0):s,b(o)?(i="",null!=e&&(i=e.replace(I,"$&/")+"/"),N(o,t,i,"",(function(e){return e}))):null!=o&&(k(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(I,"$&/")+"/")+e)),t.push(o)),1;if(l=0,s=""===s?".":s+":",b(e))for(var u=0;u<e.length;u++){var c=s+x(a=e[u],u);l+=N(a,t,i,c,o)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),u=0;!(a=e.next()).done;)l+=N(a=a.value,t,i,c=s+x(a,u++),o);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function R(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},O={transition:null},D={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:O,ReactCurrentOwner:C};t.Children={map:R,forEach:function(e,t,n){R(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return R(e,(function(){t++})),t},toArray:function(e){return R(e,(function(e){return e}))||[]},only:function(e){if(!k(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=o,t.PureComponent=_,t.StrictMode=s,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=g({},e.props),s=e.key,o=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,a=C.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)E.call(t,u)&&!S.hasOwnProperty(u)&&(i[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)i.children=r;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}return{$$typeof:n,type:e.type,key:s,ref:o,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=T,t.createFactory=function(e){var t=T.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.2.0"},2791:(e,t,n)=>{"use strict";e.exports=n(9117)},184:(e,t,n)=>{"use strict";e.exports=n(6374)},6813:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var a=2*(r+1)-1,l=e[a],u=a+1,c=e[u];if(0>s(l,n))u<i&&0>s(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[a]=n,r=a);else{if(!(u<i&&0>s(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var u=[],c=[],h=1,d=null,f=3,p=!1,g=!1,m=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,_="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function b(e){if(m=!1,w(e),!g)if(null!==r(u))g=!0,O(E);else{var t=r(c);null!==t&&D(b,t.startTime-e)}}function E(e,n){g=!1,m&&(m=!1,y(k),k=-1),p=!0;var s=f;try{for(w(n),d=r(u);null!==d&&(!(d.expirationTime>n)||e&&!N());){var o=d.callback;if("function"===typeof o){d.callback=null,f=d.priorityLevel;var a=o(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?d.callback=a:d===r(u)&&i(u),w(n)}else i(u);d=r(u)}if(null!==d)var l=!0;else{var h=r(c);null!==h&&D(b,h.startTime-n),l=!1}return l}finally{d=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var C,S=!1,T=null,k=-1,I=5,x=-1;function N(){return!(t.unstable_now()-x<I)}function R(){if(null!==T){var e=t.unstable_now();x=e;var n=!0;try{n=T(!0,e)}finally{n?C():(S=!1,T=null)}}else S=!1}if("function"===typeof _)C=function(){_(R)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,P=A.port2;A.port1.onmessage=R,C=function(){P.postMessage(null)}}else C=function(){v(R,0)};function O(e){T=e,S||(S=!0,C())}function D(e,n){k=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,O(E))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var o=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?o+s:o:s=o,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:s,expirationTime:a=s+a,sortIndex:-1},s>o?(e.sortIndex=s,n(c,e),null===r(u)&&e===r(c)&&(m?(y(k),k=-1):m=!0,D(b,s-o))):(e.sortIndex=a,n(u,e),g||p||(g=!0,O(E))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},5296:(e,t,n)=>{"use strict";e.exports=n(6813)},2391:e=>{"use strict";var t=function(){};e.exports=t}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(s.exports,s,s.exports,n),s.loaded=!0,s.exports}n.m=e,n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+".d47d2925.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="hive:";n.l=(r,i,s,o)=>{if(e[r])e[r].push(i);else{var a,l;if(void 0!==s)for(var u=document.getElementsByTagName("script"),c=0;c<u.length;c++){var h=u[c];if(h.getAttribute("src")==r||h.getAttribute("data-webpack")==t+s){a=h;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",t+s),a.src=r),e[r]=[i];var d=(t,n)=>{a.onerror=a.onload=null,clearTimeout(f);var i=e[r];if(delete e[r],a.parentNode&&a.parentNode.removeChild(a),i&&i.forEach((e=>e(n))),t)return t(n)},f=setTimeout(d.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=d.bind(null,a.onerror),a.onload=d.bind(null,a.onload),l&&document.head.appendChild(a)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n.p="/Hive/",(()=>{var e={179:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var s=new Promise(((n,r)=>i=e[t]=[n,r]));r.push(i[2]=s);var o=n.p+n.u(t),a=new Error;n.l(o,(r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var s=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;a.message="Loading chunk "+t+" failed.\n("+s+": "+o+")",a.name="ChunkLoadError",a.type=s,a.request=o,i[1](a)}}),"chunk-"+t,t)}};var t=(t,r)=>{var i,s,o=r[0],a=r[1],l=r[2],u=0;if(o.some((t=>0!==e[t]))){for(i in a)n.o(a,i)&&(n.m[i]=a[i]);if(l)l(n)}for(t&&t(r);u<o.length;u++)s=o[u],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0},r=self.webpackChunkhive=self.webpackChunkhive||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e=n(2791),t=n(1250),r=n(184);function i(e){let{user_image:t,user_name:n,postText:i,post_image:s,uploadTime:o}=e;return(0,r.jsx)("div",{className:"bg-gray-800 text-white mx-5 rounded-lg  mt-6",children:(0,r.jsxs)("div",{className:"p-4",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsx)("img",{src:t,alt:"User Avatar",className:"w-8 h-8 rounded-full"}),(0,r.jsxs)("div",{className:"",children:[(0,r.jsx)("div",{className:"font-semibold",children:n}),(0,r.jsx)("div",{className:"text-gray-400 text-sm",children:o})]})]}),(0,r.jsx)("div",{className:"mt-4",children:i}),(0,r.jsx)("div",{className:"my-4",children:(a=s,""!==a?(0,r.jsx)("img",{src:s,alt:"",className:"w-full"}):(0,r.jsx)("span",{}))}),(0,r.jsxs)("div",{className:"mt-2 flex flex-row space-x-2",children:[(0,r.jsx)("div",{className:"w-5 h-5 rounded-full",children:(0,r.jsx)("img",{src:"https://cdn-icons-png.flaticon.com/128/739/739231.png",alt:"Like"})}),(0,r.jsx)("div",{className:"",children:"like koyta"})]}),(0,r.jsx)("div",{className:"border-t-2 my-2"}),(0,r.jsx)("div",{className:"flex items-center justify-center",children:(0,r.jsxs)("button",{className:"flex items-center space-x-1",children:[(0,r.jsx)("div",{className:"",children:(0,r.jsx)("img",{src:"https://cdn-icons-png.flaticon.com/128/1062/1062675.png",alt:"Like",className:"w-6 h-6"})}),(0,r.jsx)("span",{className:" font-semibold",children:"Like"})]})})]})});var a}const s=!1,o=!1,a="${JSCORE_VERSION}",l=function(e,t){if(!e)throw u(t)},u=function(e){return new Error("Firebase Database ("+a+") INTERNAL ASSERT FAILED: "+e)},c=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},h={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,o=s?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,u=t>>2,c=(3&t)<<4|o>>4;let h=(15&o)<<2|l>>6,d=63&l;a||(d=64,s||(h=64)),r.push(n[u],n[c],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(c(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const o=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==o||null==a)throw new d;const l=t<<2|s>>4;if(r.push(l),64!==o){const e=s<<4&240|o>>2;if(r.push(e),64!==a){const e=o<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class d extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const f=function(e){const t=c(e);return h.encodeByteArray(t,!0)},p=function(e){return f(e).replace(/\./g,"")},g=function(e){try{return h.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function m(e){return v(void 0,e)}function v(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=v(e[n],t[n]));return e}const y=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,_=()=>{try{return y()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/Hive",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&g(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},w=e=>{var t,n;return null===(n=null===(t=_())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},b=e=>{const t=w(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},E=()=>{var e;return null===(e=_())||void 0===e?void 0:e.config},C=e=>{var t;return null===(t=_())||void 0===t?void 0:t["_".concat(e)]};class S{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function T(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[p(JSON.stringify({alg:"none",type:"JWT"})),p(JSON.stringify(s)),""].join(".")}function k(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function I(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(k())}function x(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function N(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function R(){return!0===s||!0===o}function A(){return!function(){var e;const t=null===(e=_())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function P(){try{return"object"===typeof indexedDB}catch(e){return!1}}function O(){return new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(Dw){t(Dw)}}))}class D extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,D.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,L.prototype.create)}}class L{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(M,((e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",s="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new D(n,s,t)}}const M=/\{\$([^}]+)}/g;function F(e){return JSON.parse(e)}function j(e){return JSON.stringify(e)}const U=function(e){let t={},n={},r={},i="";try{const s=e.split(".");t=F(g(s[0])||""),n=F(g(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch(s){}return{header:t,claims:n,data:r,signature:i}};function V(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function z(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function B(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function q(e,t,n){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function W(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(H(n)&&H(s)){if(!W(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function H(e){return null!==e&&"object"===typeof e}function K(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function G(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function Q(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class Y{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const n=this.W_;if("string"===typeof e)for(let c=0;c<16;c++)n[c]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let c=0;c<16;c++)n[c]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let c=16;c<80;c++){const e=n[c-3]^n[c-8]^n[c-14]^n[c-16];n[c]=4294967295&(e<<1|e>>>31)}let r,i,s=this.chain_[0],o=this.chain_[1],a=this.chain_[2],l=this.chain_[3],u=this.chain_[4];for(let c=0;c<80;c++){c<40?c<20?(r=l^o&(a^l),i=1518500249):(r=o^a^l,i=1859775393):c<60?(r=o&a|l&(o|a),i=2400959708):(r=o^a^l,i=3395469782);const e=(s<<5|s>>>27)+r+u+i+n[c]&4294967295;u=l,l=a,a=4294967295&(o<<30|o>>>2),o=s,s=e}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+u&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const n=t-this.blockSize;let r=0;const i=this.buf_;let s=this.inbuf_;for(;r<t;){if(0===s)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[s]=e.charCodeAt(r),++s,++r,s===this.blockSize){this.compress_(i),s=0;break}}else for(;r<t;)if(i[s]=e[r],++s,++r,s===this.blockSize){this.compress_(i),s=0;break}}this.inbuf_=s,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=255&t,t/=256;this.compress_(this.buf_);let n=0;for(let r=0;r<5;r++)for(let t=24;t>=0;t-=8)e[n]=this.chain_[r]>>t&255,++n;return e}}class ${constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=X),void 0===r.error&&(r.error=X),void 0===r.complete&&(r.complete=X);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function X(){}function J(e,t){return"".concat(e," failed: ").concat(t," argument ")}const Z=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t},ee=1e3,te=2,ne=144e5,re=.5;function ie(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:te;const n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:ee)*Math.pow(t,e),r=Math.round(re*n*(Math.random()-.5)*2);return Math.min(ne,n+r)}function se(e){return e&&e._delegate?e._delegate:e}class oe{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ae="[DEFAULT]";class le{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new S;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ae})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===ae?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(s){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae;return this.component?this.component.multipleInstances?e:ae:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ue{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new le(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const ce=[];var he;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(he||(he={}));const de={debug:he.DEBUG,verbose:he.VERBOSE,info:he.INFO,warn:he.WARN,error:he.ERROR,silent:he.SILENT},fe=he.INFO,pe={[he.DEBUG]:"log",[he.VERBOSE]:"log",[he.INFO]:"info",[he.WARN]:"warn",[he.ERROR]:"error"},ge=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=pe[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,s=new Array(i>2?i-2:0),o=2;o<i;o++)s[o-2]=arguments[o];console[r]("[".concat(n,"]  ").concat(e.name,":"),...s)};class me{constructor(e){this.name=e,this._logLevel=fe,this._logHandler=ge,this._userLogHandler=null,ce.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in he))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?de[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,he.DEBUG,...t),this._logHandler(this,he.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,he.VERBOSE,...t),this._logHandler(this,he.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,he.INFO,...t),this._logHandler(this,he.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,he.WARN,...t),this._logHandler(this,he.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,he.ERROR,...t),this._logHandler(this,he.ERROR,...t)}}const ve=(e,t)=>t.some((t=>e instanceof t));let ye,_e;const we=new WeakMap,be=new WeakMap,Ee=new WeakMap,Ce=new WeakMap,Se=new WeakMap;let Te={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return be.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Ee.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return xe(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function ke(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(_e||(_e=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Ne(this),n),xe(we.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return xe(e.apply(Ne(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(Ne(this),t,...r);return Ee.set(s,t.sort?t.sort():[t]),xe(s)}}function Ie(e){return"function"===typeof e?ke(e):(e instanceof IDBTransaction&&function(e){if(be.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)}));be.set(e,t)}(e),ve(e,ye||(ye=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Te):e)}function xe(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(xe(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)}));return t.then((t=>{t instanceof IDBCursor&&we.set(t,e)})).catch((()=>{})),Se.set(t,e),t}(e);if(Ce.has(e))return Ce.get(e);const t=Ie(e);return t!==e&&(Ce.set(e,t),Se.set(t,e)),t}const Ne=e=>Se.get(e);const Re=["get","getKey","getAll","getAllKeys","count"],Ae=["put","add","delete","clear"],Pe=new Map;function Oe(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Pe.get(t))return Pe.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Ae.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Re.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var o=arguments.length,a=new Array(o>1?o-1:0),l=1;l<o;l++)a[l-1]=arguments[l];return r&&(s=s.index(a.shift())),(await Promise.all([s[n](...a),i&&t.done]))[0]};return Pe.set(t,s),s}Te=(e=>({...e,get:(t,n,r)=>Oe(t,n)||e.get(t,n,r),has:(t,n)=>!!Oe(t,n)||e.has(t,n)}))(Te);class De{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const Le="@firebase/app",Me="0.9.26",Fe=new me("@firebase/app"),je="[DEFAULT]",Ue={[Le]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ve=new Map,ze=new Map;function Be(e,t){try{e.container.addComponent(t)}catch(n){Fe.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function qe(e){const t=e.name;if(ze.has(t))return Fe.debug("There were multiple attempts to register component ".concat(t,".")),!1;ze.set(t,e);for(const n of Ve.values())Be(n,e);return!0}function We(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}const He=new L("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Ke{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new oe("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw He.create("app-deleted",{appName:this._name})}}const Ge="10.7.2";function Qe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:je,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw He.create("bad-app-name",{appName:String(i)});if(n||(n=E()),!n)throw He.create("no-options");const s=Ve.get(i);if(s){if(W(n,s.options)&&W(r,s.config))return s;throw He.create("duplicate-app",{appName:i})}const o=new ue(i);for(const l of ze.values())o.addComponent(l);const a=new Ke(n,r,o);return Ve.set(i,a),a}function Ye(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je;const t=Ve.get(e);if(!t&&e===je&&E())return Qe();if(!t)throw He.create("no-app",{appName:e});return t}function $e(e,t,n){var r;let i=null!==(r=Ue[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return s&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),s&&o&&e.push("and"),o&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Fe.warn(e.join(" "))}qe(new oe("".concat(i,"-version"),(()=>({library:i,version:t})),"VERSION"))}const Xe="firebase-heartbeat-database",Je=1,Ze="firebase-heartbeat-store";let et=null;function tt(){return et||(et=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=indexedDB.open(e,t),a=xe(o);return r&&o.addEventListener("upgradeneeded",(e=>{r(xe(o.result),e.oldVersion,e.newVersion,xe(o.transaction),e)})),n&&o.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{s&&e.addEventListener("close",(()=>s())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}(Xe,Je,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Ze)}catch(n){console.warn(n)}}}).catch((e=>{throw He.create("idb-open",{originalErrorMessage:e.message})}))),et}async function nt(e,t){try{const n=(await tt()).transaction(Ze,"readwrite"),r=n.objectStore(Ze);await r.put(t,rt(e)),await n.done}catch(n){if(n instanceof D)Fe.warn(n.message);else{const e=He.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});Fe.warn(e.message)}}}function rt(e){return"".concat(e.name,"!").concat(e.options.appId)}class it{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new ot(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=st();if((null!=(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||(this._heartbeatsCache=await this._heartbeatsCachePromise,null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))&&this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=st(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),at(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),at(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=p(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function st(){return(new Date).toISOString().substring(0,10)}class ot{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!P()&&O().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=await tt();return await t.transaction(Ze).objectStore(Ze).get(rt(e))}catch(t){if(t instanceof D)Fe.warn(t.message);else{const e=He.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});Fe.warn(e.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return nt(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return nt(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function at(e){return p(JSON.stringify({version:2,heartbeats:e})).length}var lt;lt="",qe(new oe("platform-logger",(e=>new De(e)),"PRIVATE")),qe(new oe("heartbeat",(e=>new it(e)),"PRIVATE")),$e(Le,Me,lt),$e(Le,Me,"esm2017"),$e("fire-js","");function ut(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function ct(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ht=ct,dt=new L("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ft=new me("@firebase/auth");function pt(e){if(ft.logLevel<=he.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];ft.error("Auth (".concat(Ge,"): ").concat(e),...n)}}function gt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw _t(e,...n)}function mt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return _t(e,...n)}function vt(e,t,n){const r=Object.assign(Object.assign({},ht()),{[t]:n});return new L("auth","Firebase",r).create(t,{appName:e.name})}function yt(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&gt(e,"argument-error"),vt(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function _t(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return dt.create(e,...n)}function wt(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw _t(t,...r)}}function bt(e){const t="INTERNAL ASSERTION FAILED: "+e;throw pt(t),new Error(t)}function Et(e,t){e||bt(t)}function Ct(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function St(){return"http:"===Tt()||"https:"===Tt()}function Tt(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class kt{constructor(e,t){this.shortDelay=e,this.longDelay=t,Et(t>e,"Short delay should be less than long delay!"),this.isMobile=I()||N()}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(St()||x()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function It(e,t){Et(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class xt{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void bt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void bt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void bt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Nt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Rt=new kt(3e4,6e4);function At(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Pt(e,t,n,r){return Ot(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const o=K(Object.assign({key:e.config.apiKey},s)).slice(1),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode),xt.fetch()(Lt(e,e.config.apiHost,n,o),Object.assign({method:t,headers:a,referrerPolicy:"no-referrer"},i))}))}async function Ot(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Nt),t);try{const t=new Ft(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw jt(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw jt(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw jt(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw jt(e,"user-disabled",s);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw vt(e,a,o);gt(e,a)}}catch(i){if(i instanceof D)throw i;gt(e,"network-request-failed",{message:String(i)})}}async function Dt(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await Pt(e,t,n,r,i);return"mfaPendingCredential"in s&&gt(e,"multi-factor-auth-required",{_serverResponse:s}),s}function Lt(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?It(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}function Mt(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Ft{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(mt(this.auth,"network-request-failed"))),Rt.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function jt(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=mt(e,t,r);return i.customData._tokenResponse=n,i}function Ut(e){return void 0!==e&&void 0!==e.enterprise}class Vt{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Mt(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function zt(e,t){return Pt(e,"GET","/v2/recaptchaConfig",At(e,t))}function Bt(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function qt(e){return 1e3*Number(e)}function Wt(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return pt("JWT malformed, contained fewer than 3 sections"),null;try{const e=g(n);return e?JSON.parse(e):(pt("Failed to decode base64 JWT payload"),null)}catch(i){return pt("Caught error parsing JWT payload as JSON",null===i||void 0===i?void 0:i.toString()),null}}async function Ht(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(n){throw n instanceof D&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}class Kt{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void((null===e||void 0===e?void 0:e.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class Gt{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bt(this.lastLoginAt),this.creationTime=Bt(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Qt(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Ht(e,async function(e,t){return Pt(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));wt(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const o=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?s.providerUserInfo.map((e=>{var{providerId:t}=e,n=ut(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[];const a=(l=e.providerData,u=o,[...l.filter((e=>!u.some((t=>t.providerId===e.providerId)))),...u]);var l,u;const c=e.isAnonymous,h=!(e.email&&s.passwordHash)&&!(null===a||void 0===a?void 0:a.length),d=!!c&&h,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Gt(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(e,f)}class Yt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){wt(e.idToken,"internal-error"),wt("undefined"!==typeof e.idToken,"internal-error"),wt("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){const t=Wt(e);return wt(t,"internal-error"),wt("undefined"!==typeof t.exp,"internal-error"),wt("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return wt(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await Ot(e,{},(async()=>{const n=K({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=Lt(e,r,"/v1/token","key=".concat(i)),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",xt.fetch()(s,{method:"POST",headers:o,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new Yt;return n&&(wt("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(wt("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(wt("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Yt,this.toJSON())}_performRefresh(){return bt("not implemented")}}function $t(e,t){wt("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class Xt{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=ut(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Kt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Gt(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Ht(this,this.stsTokenManager.getToken(this.auth,e));return wt(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=se(e),r=await n.getIdToken(t),i=Wt(r);wt(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"===typeof i.firebase?i.firebase:void 0,o=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Bt(qt(i.auth_time)),issuedAtTime:Bt(qt(i.iat)),expirationTime:Bt(qt(i.exp)),signInProvider:o||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=se(e);await Qt(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(wt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Xt(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){wt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Qt(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Ht(this,async function(e,t){return Pt(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,o,a,l,u;const c=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(o=t.tenantId)&&void 0!==o?o:void 0,g=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,m=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:y,emailVerified:_,isAnonymous:w,providerData:b,stsTokenManager:E}=t;wt(y&&E,e,"internal-error");const C=Yt.fromJSON(this.name,E);wt("string"===typeof y,e,"internal-error"),$t(c,e.name),$t(h,e.name),wt("boolean"===typeof _,e,"internal-error"),wt("boolean"===typeof w,e,"internal-error"),$t(d,e.name),$t(f,e.name),$t(p,e.name),$t(g,e.name),$t(m,e.name),$t(v,e.name);const S=new Xt({uid:y,auth:e,email:h,emailVerified:_,displayName:c,isAnonymous:w,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:C,createdAt:m,lastLoginAt:v});return b&&Array.isArray(b)&&(S.providerData=b.map((e=>Object.assign({},e)))),g&&(S._redirectEventId=g),S}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new Yt;r.updateFromServerResponse(t);const i=new Xt({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Qt(i),i}}const Jt=new Map;function Zt(e){Et(e instanceof Function,"Expected a class definition");let t=Jt.get(e);return t?(Et(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Jt.set(e,t),t)}class en{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}en.type="NONE";const tn=en;function nn(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class rn{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=nn(this.userKey,r.apiKey,i),this.fullPersistenceKey=nn("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Xt._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new rn(Zt(tn),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||Zt(tn);const s=nn(n,e.config.apiKey,e.name);let o=null;for(const u of t)try{const t=await u._get(s);if(t){const n=Xt._fromJSON(e,t);u!==i&&(o=n),i=u;break}}catch(l){}const a=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],o&&await i._set(s,o.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(s)}catch(l){}}))),new rn(i,e,n)):new rn(i,e,n)}}function sn(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(un(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(on(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(hn(t))return"Blackberry";if(dn(t))return"Webos";if(an(t))return"Safari";if((t.includes("chrome/")||ln(t))&&!t.includes("edge/"))return"Chrome";if(cn(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function on(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k();return/firefox\//i.test(e)}function an(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:k()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ln(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k();return/crios\//i.test(e)}function un(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k();return/iemobile/i.test(e)}function cn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k();return/android/i.test(e)}function hn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k();return/blackberry/i.test(e)}function dn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k();return/webos/i.test(e)}function fn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function pn(){return function(){const e=k();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function gn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k();return fn(e)||cn(e)||dn(e)||hn(e)||/windows phone/i.test(e)||un(e)}function mn(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=sn(k());break;case"Worker":t="".concat(sn(k()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Ge,"/").concat(r)}class vn{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(i){r(i)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}class yn{constructor(e){var t,n,r,i;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,s,o;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(r=a.containsLowercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(i=a.containsUppercaseLetter)||void 0===i||i),a.isValid&&(a.isValid=null===(s=a.containsNumericCharacter)||void 0===s||s),a.isValid&&(a.isValid=null===(o=a.containsNonAlphanumericCharacter)||void 0===o||o),a}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class _n{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new bn(this),this.idTokenSubscription=new bn(this),this.beforeStateQueue=new vn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=dt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Zt(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await rn.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(i){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null===r||void 0===r?void 0:r._redirectEventId,o=await this.tryRedirectSignIn(e);n&&n!==s||!(null===o||void 0===o?void 0:o.user)||(r=o.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(s)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return wt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Qt(e)}catch(t){if((null===t||void 0===t?void 0:t.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?se(e):null;return t&&wt(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&wt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue((async()=>{await this.assertedPersistence.setPersistence(Zt(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return Pt(e,"GET","/v2/passwordPolicy",At(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new yn(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new L("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return Pt(e,"POST","/v2/accounts:revokeToken",At(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Zt(e)||this._popupRedirectResolver;wt(t,this,"argument-error"),this.redirectPersistenceManager=await rn.create(this,[Zt(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(wt(o,this,"internal-error"),o.then((()=>{s||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{s=!0,i()}}{const n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return wt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=mn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(ft.logLevel<=he.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];ft.warn("Auth (".concat(Ge,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function wn(e){return se(e)}class bn{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new $(e,t);return n.subscribe.bind(n)}((e=>this.observer=e))}get next(){return wt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function En(e){return new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=mt("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Cn(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class Sn{constructor(e){this.type="recaptcha-enterprise",this.auth=wn(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;Ut(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{zt(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new Vt(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&Ut(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));En("https://www.google.com/recaptcha/enterprise.js?render="+i).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function Tn(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new Sn(e);let s;try{s=await i.verify(n)}catch(Dw){s=await i.verify(n,!0)}const o=Object.assign({},t);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function kn(e,t,n,r){var i;if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Tn(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await Tn(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}function In(e,t,n){const r=wn(e);wt(r._canInitEmulator,r,"emulator-config-failed"),wt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),s=xn(t),{host:o,port:a}=function(e){const t=xn(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Nn(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Nn(t)}}}(t),l=null===a?"":":".concat(a);r.config.emulator={url:"".concat(s,"//").concat(o).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function xn(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Nn(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Rn{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return bt("not implemented")}_getIdTokenResponse(e){return bt("not implemented")}_linkToIdToken(e,t){return bt("not implemented")}_getReauthenticationResolver(e){return bt("not implemented")}}async function An(e,t){return Pt(e,"POST","/v1/accounts:signUp",t)}async function Pn(e,t){return Dt(e,"POST","/v1/accounts:signInWithPassword",At(e,t))}class On extends Rn{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new On(e,t,"password")}static _fromEmailAndCode(e,t){return new On(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return kn(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Pn);case"emailLink":return async function(e,t){return Dt(e,"POST","/v1/accounts:signInWithEmailLink",At(e,t))}(e,{email:this._email,oobCode:this._password});default:gt(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return kn(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",An);case"emailLink":return async function(e,t){return Dt(e,"POST","/v1/accounts:signInWithEmailLink",At(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:gt(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Dn(e,t){return Dt(e,"POST","/v1/accounts:signInWithIdp",At(e,t))}class Ln extends Rn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ln(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):gt("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=ut(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new Ln(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return Dn(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Dn(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Dn(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=K(t)}return e}}const Mn={USER_NOT_FOUND:"user-not-found"};class Fn extends Rn{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Fn({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Fn({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Dt(e,"POST","/v1/accounts:signInWithPhoneNumber",At(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Dt(e,"POST","/v1/accounts:signInWithPhoneNumber",At(e,t));if(n.temporaryProof)throw jt(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Dt(e,"POST","/v1/accounts:signInWithPhoneNumber",At(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Mn)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Fn({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class jn{constructor(e){var t,n,r,i,s,o;const a=G(Q(e)),l=null!==(t=a.apiKey)&&void 0!==t?t:null,u=null!==(n=a.oobCode)&&void 0!==n?n:null,c=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);wt(l&&u&&c,"argument-error"),this.apiKey=l,this.operation=c,this.code=u,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=a.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(o=a.tenantId)&&void 0!==o?o:null}static parseLink(e){const t=function(e){const t=G(Q(e)).link,n=t?G(Q(t)).deep_link_id:null,r=G(Q(e)).deep_link_id;return(r?G(Q(r)).link:null)||r||n||t||e}(e);try{return new jn(t)}catch(n){return null}}}class Un{constructor(){this.providerId=Un.PROVIDER_ID}static credential(e,t){return On._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=jn.parseLink(t);return wt(n,"argument-error"),On._fromEmailAndCode(e,n.code,n.tenantId)}}Un.PROVIDER_ID="password",Un.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Un.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Vn{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class zn extends Vn{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Bn extends zn{constructor(){super("facebook.com")}static credential(e){return Ln._fromParams({providerId:Bn.PROVIDER_ID,signInMethod:Bn.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Bn.credentialFromTaggedObject(e)}static credentialFromError(e){return Bn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Bn.credential(t.oauthAccessToken)}catch(n){return null}}}Bn.FACEBOOK_SIGN_IN_METHOD="facebook.com",Bn.PROVIDER_ID="facebook.com";class qn extends zn{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ln._fromParams({providerId:qn.PROVIDER_ID,signInMethod:qn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return qn.credentialFromTaggedObject(e)}static credentialFromError(e){return qn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return qn.credential(n,r)}catch(i){return null}}}qn.GOOGLE_SIGN_IN_METHOD="google.com",qn.PROVIDER_ID="google.com";class Wn extends zn{constructor(){super("github.com")}static credential(e){return Ln._fromParams({providerId:Wn.PROVIDER_ID,signInMethod:Wn.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Wn.credentialFromTaggedObject(e)}static credentialFromError(e){return Wn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Wn.credential(t.oauthAccessToken)}catch(n){return null}}}Wn.GITHUB_SIGN_IN_METHOD="github.com",Wn.PROVIDER_ID="github.com";class Hn extends zn{constructor(){super("twitter.com")}static credential(e,t){return Ln._fromParams({providerId:Hn.PROVIDER_ID,signInMethod:Hn.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Hn.credentialFromTaggedObject(e)}static credentialFromError(e){return Hn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Hn.credential(n,r)}catch(i){return null}}}async function Kn(e,t){return Dt(e,"POST","/v1/accounts:signUp",At(e,t))}Hn.TWITTER_SIGN_IN_METHOD="twitter.com",Hn.PROVIDER_ID="twitter.com";class Gn{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await Xt._fromIdTokenResponse(e,n,r),s=Qn(n);return new Gn({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Qn(n);return new Gn({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Qn(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Yn extends D{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Yn.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Yn(e,t,n,r)}}function $n(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw Yn._fromErrorAndOperation(e,n,t,r);throw n}))}async function Xn(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await Ht(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Gn._forOperation(e,"link",r)}async function Jn(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e,i="reauthenticate";try{const s=await Ht(e,$n(r,i,t,e),n);wt(s.idToken,r,"internal-error");const o=Wt(s.idToken);wt(o,r,"internal-error");const{sub:a}=o;return wt(e.uid===a,r,"user-mismatch"),Gn._forOperation(e,i,s)}catch(s){throw(null===s||void 0===s?void 0:s.code)==="auth/".concat("user-not-found")&&gt(r,"user-mismatch"),s}}async function Zn(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r="signIn",i=await $n(e,r,t),s=await Gn._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function er(e){const t=wn(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function tr(e){return se(e).signOut()}new WeakMap;const nr="__sak";class rr{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(nr,"1"),this.storage.removeItem(nr),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class ir extends rr{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=k();return an(e)||fn(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=gn(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);pn()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}ir.type="LOCAL";const sr=ir;class or extends rr{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}or.type="SESSION";const ar=or;class lr{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new lr(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const o=Array.from(s).map((async e=>e(t.origin,i))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(o);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function ur(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}lr.receivers=[];class cr{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise(((o,a)=>{const l=ur("",20);r.port1.start();const u=setTimeout((()=>{a(new Error("unsupported_event"))}),n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(u),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),o(t.data.response);break;default:clearTimeout(u),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}function hr(){return window}function dr(){return"undefined"!==typeof hr().WorkerGlobalScope&&"function"===typeof hr().importScripts}const fr="firebaseLocalStorageDb",pr="firebaseLocalStorage",gr="fbase_key";class mr{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function vr(e,t){return e.transaction([pr],t?"readwrite":"readonly").objectStore(pr)}function yr(){const e=indexedDB.open(fr,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(pr,{keyPath:gr})}catch(r){n(r)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(pr)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(fr);return new mr(e).toPromise()}(),t(await yr()))}))}))}async function _r(e,t,n){const r=vr(e,!0).put({[gr]:t,value:n});return new mr(r).toPromise()}function wr(e,t){const n=vr(e,!0).delete(t);return new mr(n).toPromise()}class br{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await yr()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return dr()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=lr._getInstance(dr()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new cr(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await yr();return await _r(e,nr,"1"),await wr(e,nr),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>_r(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=vr(e,!1).get(t),r=await new mr(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>wr(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=vr(e,!1).getAll();return new mr(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}br.type="LOCAL";const Er=br;Cn("rcb"),new kt(3e4,6e4);const Cr="recaptcha";async function Sr(e,t,n){var r;const i=await n.verify();try{let s;if(wt("string"===typeof i,e,"argument-error"),wt(n.type===Cr,e,"argument-error"),s="string"===typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){wt("enroll"===t.type,e,"internal-error");const n=await function(e,t){return Pt(e,"POST","/v2/accounts/mfaEnrollment:start",At(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{wt("signin"===t.type,e,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;wt(n,e,"missing-multi-factor-info");const o=await function(e,t){return Pt(e,"POST","/v2/accounts/mfaSignIn:start",At(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return o.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return Pt(e,"POST","/v1/accounts:sendVerificationCode",At(e,t))}(e,{phoneNumber:s.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class Tr{constructor(e){this.providerId=Tr.PROVIDER_ID,this.auth=wn(e)}verifyPhoneNumber(e,t){return Sr(this.auth,e,se(t))}static credential(e,t){return Fn._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Tr.credentialFromTaggedObject(t)}static credentialFromError(e){return Tr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?Fn._fromTokenResponse(n,r):null}}function kr(e,t){return t?Zt(t):(wt(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Tr.PROVIDER_ID="phone",Tr.PHONE_SIGN_IN_METHOD="phone";class Ir extends Rn{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Dn(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Dn(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Dn(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function xr(e){return Zn(e.auth,new Ir(e),e.bypassAuthState)}function Nr(e){const{auth:t,user:n}=e;return wt(n,t,"internal-error"),Jn(n,new Ir(e),e.bypassAuthState)}async function Rr(e){const{auth:t,user:n}=e;return wt(n,t,"internal-error"),Xn(n,new Ir(e),e.bypassAuthState)}class Ar{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:o}=e;if(s)return void this.reject(s);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(a))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return xr;case"linkViaPopup":case"linkViaRedirect":return Rr;case"reauthViaPopup":case"reauthViaRedirect":return Nr;default:gt(this.auth,"internal-error")}}resolve(e){Et(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Et(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Pr=new kt(2e3,1e4);class Or extends Ar{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Or.currentPopupAction&&Or.currentPopupAction.cancel(),Or.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return wt(e,this.auth,"internal-error"),e}async onExecution(){Et(1===this.filter.length,"Popup operations only handle one event");const e=ur();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(mt(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(mt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Or.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(mt(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,Pr.get())};e()}}Or.currentPopupAction=null;const Dr="pendingRedirect",Lr=new Map;class Mr extends Ar{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Lr.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Ur(t),r=jr(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}Lr.set(this.auth._key(),e)}return this.bypassAuthState||Lr.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function Fr(e,t){Lr.set(e._key(),t)}function jr(e){return Zt(e._redirectPersistence)}function Ur(e){return nn(Dr,e.config.apiKey,e.name)}async function Vr(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=wn(e),i=kr(r,t),s=new Mr(r,i,n),o=await s.execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}class zr{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return qr(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!qr(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(mt(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Br(e))}saveEventToCache(e){this.cachedEventUids.add(Br(e)),this.lastProcessedEventTime=Date.now()}}function Br(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function qr(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const Wr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Hr=/^https?/;async function Kr(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return Pt(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(Gr(r))return}catch(n){}gt(e,"unauthorized-domain")}function Gr(e){const t=Ct(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Hr.test(n))return!1;if(Wr.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Qr=new kt(3e4,6e4);function Yr(){const e=hr().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}let $r=null;function Xr(e){return $r=$r||function(e){return new Promise(((t,n)=>{var r,i,s;function o(){Yr(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Yr(),n(mt(e,"network-request-failed"))},timeout:Qr.get()})}if(null===(i=null===(r=hr().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=hr().gapi)||void 0===s?void 0:s.load)){const t=Cn("iframefcb");return hr()[t]=()=>{gapi.load?o():n(mt(e,"network-request-failed"))},En("https://apis.google.com/js/api.js?onload=".concat(t)).catch((e=>n(e)))}o()}})).catch((e=>{throw $r=null,e}))}(e),$r}const Jr=new kt(5e3,15e3),Zr="__/auth/iframe",ei="emulator/auth/iframe",ti={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ni=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ri(e){const t=e.config;wt(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?It(t,ei):"https://".concat(e.config.authDomain,"/").concat(Zr),r={apiKey:t.apiKey,appName:e.name,v:Ge},i=ni.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),"".concat(n,"?").concat(K(r).slice(1))}const ii={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class si{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function oi(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},ii),{width:r.toString(),height:i.toString(),top:s,left:o}),u=k().toLowerCase();n&&(a=ln(u)?"_blank":n),on(u)&&(t=t||"http://localhost",l.scrollbars="yes");const c=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")}),"");if(function(){var e;return fn(arguments.length>0&&void 0!==arguments[0]?arguments[0]:k())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(u)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new si(null);const h=window.open(t||"",a,c);wt(h,e,"popup-blocked");try{h.focus()}catch(d){}return new si(h)}const ai="__/auth/handler",li="emulator/auth/handler",ui=encodeURIComponent("fac");async function ci(e,t,n,r,i,s){wt(e.config.authDomain,e,"auth-domain-config-required"),wt(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Ge,eventId:i};if(t instanceof Vn){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",B(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))o[e]=t}if(t instanceof zn){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(o.scopes=e.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const c of Object.keys(a))void 0===a[c]&&delete a[c];const l=await e._getAppCheckToken(),u=l?"#".concat(ui,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(ai);return It(t,li)}(e),"?").concat(K(a).slice(1)).concat(u)}const hi="webStorageSupport";const di=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ar,this._completeRedirectFn=Vr,this._overrideRedirectResult=Fr}async _openPopup(e,t,n,r){var i;Et(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return oi(e,await ci(e,t,n,Ct(),r),ur())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){hr().location.href=e}(await ci(e,t,n,Ct(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Et(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await async function(e){const t=await Xr(e),n=hr().gapi;return wt(n,e,"internal-error"),t.open({where:document.body,url:ri(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ti,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=mt(e,"network-request-failed"),s=hr().setTimeout((()=>{r(i)}),Jr.get());function o(){hr().clearTimeout(s),n(t)}t.ping(o).then(o,(()=>{r(i)}))}))))}(e),n=new zr(e);return t.register("authEvent",(t=>{wt(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(hi,{type:hi},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[hi];void 0!==i&&t(!!i),gt(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Kr(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return gn()||an()||fn()}};var fi="@firebase/auth",pi="1.5.1";class gi{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){wt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const mi=C("authIdTokenMaxAge")||300;let vi=null;var yi;yi="Browser",qe(new oe("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;wt(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:yi,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:mn(yi)},u=new _n(r,i,s,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Zt);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(u,n),u}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),qe(new oe("auth-internal",(e=>(e=>new gi(e))(wn(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),$e(fi,pi,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(yi)),$e(fi,pi,"esm2017");const _i="firebasestorage.googleapis.com",wi="storageBucket";class bi extends D{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(Si(e),"Firebase Storage: ".concat(t," (").concat(Si(e),")")),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,bi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Si(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}var Ei,Ci;function Si(e){return"storage/"+e}function Ti(){return new bi(Ei.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function ki(){return new bi(Ei.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Ii(){return new bi(Ei.CANCELED,"User canceled the upload/download.")}function xi(){return new bi(Ei.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Ni(e){return new bi(Ei.INVALID_ARGUMENT,e)}function Ri(){return new bi(Ei.APP_DELETED,"The Firebase app was deleted.")}function Ai(e,t){return new bi(Ei.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function Pi(e){throw new bi(Ei.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(Ei||(Ei={}));class Oi{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=Oi.makeFromUrl(e,t)}catch(i){return new Oi(e,"")}if(""===n.path)return n;throw r=e,new bi(Ei.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const i=new RegExp("^gs://"+r+"(/(.*))?$","i");function s(e){e.path_=decodeURIComponent(e.path)}const o=t.replace(/[.]/g,"\\."),a=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(o,"/").concat("v[A-Za-z0-9_]+","/b/").concat(r,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:s},{regex:new RegExp("^https?://".concat(t===_i?"(?:storage.googleapis.com|storage.cloud.google.com)":t,"/").concat(r,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:s}];for(let l=0;l<a.length;l++){const t=a[l],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let i=r[t.indices.path];i||(i=""),n=new Oi(e,i),t.postModify(n);break}}if(null==n)throw function(e){return new bi(Ei.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class Di{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function Li(e){return"string"===typeof e||e instanceof String}function Mi(e){return Fi()&&e instanceof Blob}function Fi(){return"undefined"!==typeof Blob}function ji(e,t,n,r){if(r<t)throw Ni("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw Ni("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function Ui(e,t,n){let r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function Vi(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function zi(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(Ci||(Ci={}));class Bi{constructor(e,t,n,r,i,s,o,a,l,u,c){let h=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=s,this.callback_=o,this.errorCallback_=a,this.timeout_=l,this.progressCallback_=u,this.connectionFactory_=c,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()}))}start_(){const e=(e,t)=>{if(t)return void e(!1,new qi(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===Ci.NO_ERROR,i=n.getStatus();if(!t||zi(i,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===Ci.ABORT;return void e(!1,new qi(!1,null,t))}const s=-1!==this.successCodes_.indexOf(i);e(!0,new qi(s,n))}))},t=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());!function(e){return void 0!==e}(e)?n():n(e)}catch(s){r(s)}else if(null!==i){const e=Ti();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else if(t.canceled){r(this.appDelete_?Ri():Ii())}else{r(ki())}};this.canceled_?t(0,new qi(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return 2===a}let u=!1;function c(){if(!u){u=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function h(t){i=setTimeout((()=>{i=null,e(f,l())}),t)}function d(){s&&clearTimeout(s)}function f(e){if(u)return void d();for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return d(),void c.call(null,e,...n);if(l()||o)return d(),void c.call(null,e,...n);let s;r<64&&(r*=2),1===a?(a=2,s=0):s=1e3*(r+Math.random()),h(s)}let p=!1;function g(e){p||(p=!0,d(),u||(null!==i?(e||(a=2),clearTimeout(i),h(0)):e||(a=1)))}return h(0),s=setTimeout((()=>{o=!0,g(!0)}),n),g}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class qi{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function Wi(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function Hi(){const e=Wi();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){const t=new e;for(let e=0;e<n.length;e++)t.append(n[e]);return t.getBlob()}if(Fi())return new Blob(n);throw new bi(Ei.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function Ki(e){if("undefined"===typeof atob)throw t="base-64",new bi(Ei.UNSUPPORTED_ENVIRONMENT,"".concat(t," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));var t;return atob(e)}const Gi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Qi{constructor(e,t){this.data=e,this.contentType=t||null}}function Yi(e,t){switch(e){case Gi.RAW:return new Qi($i(t));case Gi.BASE64:case Gi.BASE64URL:return new Qi(Xi(e,t));case Gi.DATA_URL:return new Qi(function(e){const t=new Ji(e);return t.base64?Xi(Gi.BASE64,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(n){throw Ai(Gi.DATA_URL,"Malformed data URL.")}return $i(t)}(t.rest)}(t),new Ji(t).contentType)}throw Ti()}function $i(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r)){if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1))){r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else t.push(239,191,189)}else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function Xi(e,t){switch(e){case Gi.BASE64:{const n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r){throw Ai(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?")}break}case Gi.BASE64URL:{const n=-1!==t.indexOf("+"),r=-1!==t.indexOf("/");if(n||r){throw Ai(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Ki(t)}catch(i){if(i.message.includes("polyfill"))throw i;throw Ai(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class Ji{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw Ai(Gi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;null!=n&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}class Zi{constructor(e,t){let n=0,r="";Mi(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(Mi(this.data_)){const n=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,e,t);return null===n?null:new Zi(n)}{const n=new Uint8Array(this.data_.buffer,e,t-e);return new Zi(n,!0)}}static getBlob(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(Fi()){const e=t.map((e=>e instanceof Zi?e.data_:e));return new Zi(Hi.apply(null,e))}{const e=t.map((e=>Li(e)?Yi(Gi.RAW,e).data:e.data_));let n=0;e.forEach((e=>{n+=e.byteLength}));const r=new Uint8Array(n);let i=0;return e.forEach((e=>{for(let t=0;t<e.length;t++)r[i++]=e[t]})),new Zi(r,!0)}}uploadData(){return this.data_}}function es(e){let t;try{t=JSON.parse(e)}catch(n){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function ts(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function ns(e,t){return t}class rs{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||ns}}let is=null;function ss(){if(is)return is;const e=[];e.push(new rs("bucket")),e.push(new rs("generation")),e.push(new rs("metageneration")),e.push(new rs("name","fullPath",!0));const t=new rs("name");t.xform=function(e,t){return function(e){return!Li(e)||e.length<2?e:ts(e)}(t)},e.push(t);const n=new rs("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new rs("timeCreated")),e.push(new rs("updated")),e.push(new rs("md5Hash",null,!0)),e.push(new rs("cacheControl",null,!0)),e.push(new rs("contentDisposition",null,!0)),e.push(new rs("contentEncoding",null,!0)),e.push(new rs("contentLanguage",null,!0)),e.push(new rs("contentType",null,!0)),e.push(new rs("metadata","customMetadata",!0)),is=e,is}function os(e,t,n){const r={type:"file"},i=n.length;for(let s=0;s<i;s++){const e=n[s];r[e.local]=e.xform(r,t[e.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=e.bucket,r=e.fullPath,i=new Oi(n,r);return t._makeStorageReference(i)}})}(r,e),r}function as(e,t,n){const r=es(t);if(null===r)return null;return os(e,r,n)}function ls(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const r=t[i];r.writable&&(n[r.server]=e[r.local])}return JSON.stringify(n)}class us{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function cs(e){if(!e)throw Ti()}function hs(e,t){return function(n,r){const i=as(e,r,t);return cs(null!==i),i}}function ds(e,t){return function(n,r){const i=as(e,r,t);return cs(null!==i),function(e,t,n,r){const i=es(t);if(null===i)return null;if(!Li(i.downloadTokens))return null;const s=i.downloadTokens;if(0===s.length)return null;const o=encodeURIComponent;return s.split(",").map((t=>{const i=e.bucket,s=e.fullPath;return Ui("/b/"+o(i)+"/o/"+o(s),n,r)+Vi({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function fs(e){return function(t,n){let r;var i,s;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new bi(Ei.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new bi(Ei.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(s=e.bucket,r=new bi(Ei.QUOTA_EXCEEDED,"Quota for bucket '"+s+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new bi(Ei.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function ps(e){const t=fs(e);return function(n,r){let i=t(n,r);var s;return 404===n.getStatus()&&(s=e.path,i=new bi(Ei.OBJECT_NOT_FOUND,"Object '"+s+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function gs(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function ms(e,t,n,r,i){const s=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};const a=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+a;const l=gs(t,r,i),u="--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+ls(l,n)+"\r\n--"+a+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",c="\r\n--"+a+"--",h=Zi.getBlob(u,r,c);if(null===h)throw xi();const d={name:l.fullPath},f=Ui(s,e.host,e._protocol),p=e.maxUploadRetryTime,g=new us(f,"POST",hs(e,n),p);return g.urlParams=d,g.headers=o,g.body=h.uploadData(),g.errorHandler=fs(t),g}let vs=null;class ys{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ci.NO_ERROR,this.sendPromise_=new Promise((e=>{this.xhr_.addEventListener("abort",(()=>{this.errorCode_=Ci.ABORT,e()})),this.xhr_.addEventListener("error",(()=>{this.errorCode_=Ci.NETWORK_ERROR,e()})),this.xhr_.addEventListener("load",(()=>{e()}))}))}send(e,t,n,r){if(this.sent_)throw Pi("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Pi("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Pi("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}getResponse(){if(!this.sent_)throw Pi("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Pi("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class _s extends ys{initXhr(){this.xhr_.responseType="text"}}function ws(){return vs?vs():new _s}class bs{constructor(e,t){this._service=e,this._location=t instanceof Oi?t:Oi.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new bs(e,t)}get root(){const e=new Oi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return ts(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new Oi(this._location.bucket,e);return new bs(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new bi(Ei.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function Es(e,t,n){e._throwIfRoot("uploadBytes");const r=ms(e.storage,e._location,ss(),new Zi(t,!0),n);return e.storage.makeRequestWithTokens(r,ws).then((t=>({metadata:t,ref:e})))}function Cs(e){e._throwIfRoot("getDownloadURL");const t=function(e,t,n){const r=Ui(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,s=new us(r,"GET",ds(e,n),i);return s.errorHandler=ps(t),s}(e.storage,e._location,ss());return e.storage.makeRequestWithTokens(t,ws).then((e=>{if(null===e)throw new bi(Ei.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function Ss(e,t){const n=function(e,t){const n=t.split("/").filter((e=>e.length>0)).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new Oi(e._location.bucket,n);return new bs(e.storage,r)}function Ts(e,t){if(e instanceof xs){const n=e;if(null==n._bucket)throw new bi(Ei.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+wi+"' property when initializing the app?");const r=new bs(n,n._bucket);return null!=t?Ts(r,t):r}return void 0!==t?Ss(e,t):e}function ks(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof xs)return new bs(e,t);throw Ni("To use ref(service, url), the first argument must be a Storage instance.")}return Ts(e,t)}function Is(e,t){const n=null===t||void 0===t?void 0:t[wi];return null==n?null:Oi.makeFromBucketSpec(n,e)}class xs{constructor(e,t,n,r,i){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=_i,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?Oi.makeFromBucketSpec(r,this._host):Is(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=Oi.makeFromBucketSpec(this._url,e):this._bucket=Is(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){ji("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){ji("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((e=>e.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new bs(this,e)}_makeRequest(e,t,n,r){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new Di(Ri());{const s=function(e,t,n,r,i,s){let o=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];const a=Vi(e.urlParams),l=e.url+a,u=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(u,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(u,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(u,s),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(u,r),new Bi(l,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o)}(e,this._appId,n,r,t,this._firebaseVersion,i);return this._requests.add(s),s.getPromise().then((()=>this._requests.delete(s)),(()=>this._requests.delete(s))),s}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const Ns="@firebase/storage",Rs="0.12.0",As="storage";function Ps(e,t,n){return Es(e=se(e),t,n)}function Os(e){return Cs(e=se(e))}function Ds(e,t){return ks(e=se(e),t)}function Ls(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return new xs(r,i,s,n,Ge)}qe(new oe(As,Ls,"PUBLIC").setMultipleInstances(!0)),$e(Ns,Rs,""),$e(Ns,Rs,"esm2017");var Ms,Fs="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},js={},Us=Us||{},Vs=Fs||self;function zs(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Bs(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var qs="closure_uid_"+(1e9*Math.random()>>>0),Ws=0;function Hs(e,t,n){return e.call.apply(e.bind,arguments)}function Ks(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Gs(e,t,n){return(Gs=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Hs:Ks).apply(null,arguments)}function Qs(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Ys(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function $s(){this.s=this.s,this.o=this.o}$s.prototype.s=!1,$s.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,qs)&&e[qs]||(e[qs]=++Ws))},$s.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Xs=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Js(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function Zs(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(zs(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function eo(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}eo.prototype.h=function(){this.defaultPrevented=!0};var to=function(){if(!Vs.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};Vs.addEventListener("test",e,t),Vs.removeEventListener("test",e,t)}catch(n){}return e}();function no(e){return/^[\s\xa0]*$/.test(e)}function ro(){var e=Vs.navigator;return e&&(e=e.userAgent)?e:""}function io(e){return-1!=ro().indexOf(e)}function so(e){return so[" "](e),e}so[" "]=function(){};var oo,ao,lo=io("Opera"),uo=io("Trident")||io("MSIE"),co=io("Edge"),ho=co||uo,fo=io("Gecko")&&!(-1!=ro().toLowerCase().indexOf("webkit")&&!io("Edge"))&&!(io("Trident")||io("MSIE"))&&!io("Edge"),po=-1!=ro().toLowerCase().indexOf("webkit")&&!io("Edge");function go(){var e=Vs.document;return e?e.documentMode:void 0}e:{var mo="",vo=function(){var e=ro();return fo?/rv:([^\);]+)(\)|;)/.exec(e):co?/Edge\/([\d\.]+)/.exec(e):uo?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):po?/WebKit\/(\S+)/.exec(e):lo?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(vo&&(mo=vo?vo[1]:""),uo){var yo=go();if(null!=yo&&yo>parseFloat(mo)){oo=String(yo);break e}}oo=mo}if(Vs.document&&uo){var _o=go();ao=_o||(parseInt(oo,10)||void 0)}else ao=void 0;var wo=ao;function bo(e,t){if(eo.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(fo){e:{try{so(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Eo[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&bo.$.h.call(this)}}Ys(bo,eo);var Eo={2:"touch",3:"pen",4:"mouse"};bo.prototype.h=function(){bo.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Co="closure_listenable_"+(1e6*Math.random()|0),So=0;function To(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++So,this.fa=this.ia=!1}function ko(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Io(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function xo(e){const t={};for(const n in e)t[n]=e[n];return t}const No="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ro(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<No.length;t++)n=No[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Ao(e){this.src=e,this.g={},this.h=0}function Po(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=Xs(i,t);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(ko(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Oo(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.fa&&s.listener==t&&s.capture==!!n&&s.la==r)return i}return-1}Ao.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var o=Oo(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):((t=new To(t,this.src,s,!!r,i)).ia=n,e.push(t)),t};var Do="closure_lm_"+(1e6*Math.random()|0),Lo={};function Mo(e,t,n,r,i){if(r&&r.once)return jo(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)Mo(e,t[s],n,r,i);return null}return n=Ho(n),e&&e[Co]?e.O(t,n,Bs(r)?!!r.capture:!!r,i):Fo(e,t,n,!1,r,i)}function Fo(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=Bs(i)?!!i.capture:!!i,a=qo(e);if(a||(e[Do]=a=new Ao(e)),(n=a.add(t,n,r,o,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=Bo;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)to||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(zo(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function jo(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)jo(e,t[s],n,r,i);return null}return n=Ho(n),e&&e[Co]?e.P(t,n,Bs(r)?!!r.capture:!!r,i):Fo(e,t,n,!0,r,i)}function Uo(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)Uo(e,t[s],n,r,i);else r=Bs(r)?!!r.capture:!!r,n=Ho(n),e&&e[Co]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Oo(s=e.g[t],n,r,i))&&(ko(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=qo(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Oo(t,n,r,i)),(n=-1<e?t[e]:null)&&Vo(n))}function Vo(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[Co])Po(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(zo(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=qo(t))?(Po(n,e),0==n.h&&(n.src=null,t[Do]=null)):ko(e)}}}function zo(e){return e in Lo?Lo[e]:Lo[e]="on"+e}function Bo(e,t){if(e.fa)e=!0;else{t=new bo(t,this);var n=e.listener,r=e.la||e.src;e.ia&&Vo(e),e=n.call(r,t)}return e}function qo(e){return(e=e[Do])instanceof Ao?e:null}var Wo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ho(e){return"function"===typeof e?e:(e[Wo]||(e[Wo]=function(t){return e.handleEvent(t)}),e[Wo])}function Ko(){$s.call(this),this.i=new Ao(this),this.S=this,this.J=null}function Go(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new eo(t,e);else if(t instanceof eo)t.target=t.target||e;else{var i=t;Ro(t=new eo(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=Qo(o,r,!0,t)&&i}if(i=Qo(o=t.g=e,r,!0,t)&&i,i=Qo(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=Qo(o=t.g=n[s],r,!1,t)&&i}function Qo(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&Po(e.i,o),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}Ys(Ko,$s),Ko.prototype[Co]=!0,Ko.prototype.removeEventListener=function(e,t,n,r){Uo(this,e,t,n,r)},Ko.prototype.N=function(){if(Ko.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)ko(n[r]);delete t.g[e],t.h--}}this.J=null},Ko.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Ko.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Yo=Vs.JSON.stringify;function $o(){var e=ra;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Xo=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new Jo),(e=>e.reset()));class Jo{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Zo(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function ea(e){Vs.setTimeout((()=>{throw e}),0)}let ta,na=!1,ra=new class{constructor(){this.h=this.g=null}add(e,t){const n=Xo.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},ia=()=>{const e=Vs.Promise.resolve(void 0);ta=()=>{e.then(sa)}};var sa=()=>{for(var e;e=$o();){try{e.h.call(e.g)}catch(n){ea(n)}var t=Xo;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}na=!1};function oa(e,t){Ko.call(this),this.h=e||1,this.g=t||Vs,this.j=Gs(this.qb,this),this.l=Date.now()}function aa(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function la(e,t,n){if("function"===typeof e)n&&(e=Gs(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Gs(e.handleEvent,e)}return 2147483647<Number(t)?-1:Vs.setTimeout(e,t||0)}function ua(e){e.g=la((()=>{e.g=null,e.i&&(e.i=!1,ua(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}Ys(oa,Ko),(Ms=oa.prototype).ga=!1,Ms.T=null,Ms.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Go(this,"tick"),this.ga&&(aa(this),this.start()))}},Ms.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ms.N=function(){oa.$.N.call(this),aa(this),delete this.g};class ca extends $s{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:ua(this)}N(){super.N(),this.g&&(Vs.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ha(e){$s.call(this),this.h=e,this.g={}}Ys(ha,$s);var da=[];function fa(e,t,n,r){Array.isArray(n)||(n&&(da[0]=n.toString()),n=da);for(var i=0;i<n.length;i++){var s=Mo(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function pa(e){Io(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Vo(e)}),e),e.g={}}function ga(){this.g=!0}function ma(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return Yo(n)}catch(a){return t}}(e,n)+(r?" "+r:"")}))}ha.prototype.N=function(){ha.$.N.call(this),pa(this)},ha.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ga.prototype.Ea=function(){this.g=!1},ga.prototype.info=function(){};var va={},ya=null;function _a(){return ya=ya||new Ko}function wa(e){eo.call(this,va.Ta,e)}function ba(e){const t=_a();Go(t,new wa(t))}function Ea(e,t){eo.call(this,va.STAT_EVENT,e),this.stat=t}function Ca(e){const t=_a();Go(t,new Ea(t,e))}function Sa(e,t){eo.call(this,va.Ua,e),this.size=t}function Ta(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Vs.setTimeout((function(){e()}),t)}va.Ta="serverreachability",Ys(wa,eo),va.STAT_EVENT="statevent",Ys(Ea,eo),va.Ua="timingevent",Ys(Sa,eo);var ka={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Ia={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function xa(){}function Na(e){return e.h||(e.h=e.i())}function Ra(){}xa.prototype.h=null;var Aa,Pa={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Oa(){eo.call(this,"d")}function Da(){eo.call(this,"c")}function La(){}function Ma(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new ha(this),this.P=ja,e=ho?125:void 0,this.V=new oa(e),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Fa}function Fa(){this.i=null,this.g="",this.h=!1}Ys(Oa,eo),Ys(Da,eo),Ys(La,xa),La.prototype.g=function(){return new XMLHttpRequest},La.prototype.i=function(){return{}},Aa=new La;var ja=45e3,Ua={},Va={};function za(e,t,n){e.L=1,e.A=ol(tl(t)),e.u=n,e.S=!0,Ba(e,null)}function Ba(e,t){e.G=Date.now(),Ka(e),e.B=tl(e.A);var n=e.B,r=e.W;Array.isArray(r)||(r=[String(r)]),_l(n.i,"t",r),e.o=0,n=e.l.J,e.h=new Fa,e.g=wu(e.l,n?t:null,!e.u),0<e.O&&(e.M=new ca(Gs(e.Pa,e,e.g),e.O)),fa(e.U,e.g,"readystatechange",e.nb),t=e.I?xo(e.I):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.B,e.v,e.u,t)):(e.v="GET",e.g.ha(e.B,e.v,null,t)),ba(),function(e,t,n,r,i,s){e.info((function(){if(e.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");o=2<=h.length&&"type"==h[1]?o+(c+"=")+u+"&":o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.v,e.B,e.m,e.W,e.u)}function qa(e){return!!e.g&&("GET"==e.v&&2!=e.L&&e.l.Ha)}function Wa(e,t,n){let r,i=!0;for(;!e.J&&e.o<n.length;){if(r=Ha(e,n),r==Va){4==t&&(e.s=4,Ca(14),i=!1),ma(e.j,e.m,null,"[Incomplete Response]");break}if(r==Ua){e.s=4,Ca(15),ma(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}ma(e.j,e.m,r,null),Xa(e,r)}qa(e)&&0!=e.o&&(e.h.g=e.h.g.slice(e.o),e.o=0),4!=t||0!=n.length||e.h.h||(e.s=1,Ca(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),du(t),t.M=!0,Ca(11))):(ma(e.j,e.m,n,"[Invalid Chunked Response]"),$a(e),Ya(e))}function Ha(e,t){var n=e.o,r=t.indexOf("\n",n);return-1==r?Va:(n=Number(t.substring(n,r)),isNaN(n)?Ua:(r+=1)+n>t.length?Va:(t=t.slice(r,r+n),e.o=r+n,t))}function Ka(e){e.Y=Date.now()+e.P,Ga(e,e.P)}function Ga(e,t){if(null!=e.C)throw Error("WatchDog timer not null");e.C=Ta(Gs(e.lb,e),t)}function Qa(e){e.C&&(Vs.clearTimeout(e.C),e.C=null)}function Ya(e){0==e.l.H||e.J||gu(e.l,e)}function $a(e){Qa(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,aa(e.V),pa(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function Xa(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||kl(n.i,e)))if(!e.K&&kl(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;pu(n),iu(n)}hu(n),Ca(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Ta(Gs(n.ib,n),6e3));if(1>=Tl(n.i)&&n.oa){try{n.oa()}catch(u){}n.oa=void 0}}else vu(n,11)}else if((e.K||n.g==e)&&pu(n),!no(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let u=i[t];if(n.V=u[0],u=u[1],2==n.H)if("c"==u[0]){n.K=u[1],n.pa=u[2];const t=u[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const i=u[4];null!=i&&(n.Ga=i,n.l.info("SVER="+n.Ga));const c=u[5];null!=c&&"number"===typeof c&&0<c&&(r=1.5*c,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.i;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(Il(s,s.h),s.h=null))}if(r.F){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.Da=e,sl(r.I,r.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=e;if((r=n).wa=_u(r,r.J?r.pa:null,r.Y),o.K){xl(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.C&&(Qa(a),Ka(a)),r.g=o}else cu(r);0<n.j.length&&ou(n)}else"stop"!=u[0]&&"close"!=u[0]||vu(n,7);else 3==n.H&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?vu(n,7):ru(n):"noop"!=u[0]&&n.h&&n.h.Aa(u),n.A=0)}ba()}catch(u){}}function Ja(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(zs(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(zs(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(zs(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}(Ms=Ma.prototype).setTimeout=function(e){this.P=e},Ms.nb=function(e){e=e.target;const t=this.M;t&&3==Xl(e)?t.l():this.Pa(e)},Ms.Pa=function(e){try{if(e==this.g)e:{const c=Xl(this.g);var t=this.g.Ia();this.g.da();if(!(3>c)&&(3!=c||ho||this.g&&(this.h.h||this.g.ja()||Jl(this.g)))){this.J||4!=c||7==t||ba(),Qa(this);var n=this.g.da();this.ca=n;t:if(qa(this)){var r=Jl(this.g);e="";var i=r.length,s=4==Xl(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){$a(this),Ya(this);var o="";break t}this.h.i=new Vs.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.length=0,this.h.g+=e,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function(e,t,n,r,i,s,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+o}))}(this.j,this.v,this.B,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!no(a)){var u=a;break t}}u=null}if(!(n=u)){this.i=!1,this.s=3,Ca(12),$a(this),Ya(this);break e}ma(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Xa(this,n)}this.S?(Wa(this,c,o),ho&&this.i&&3==c&&(fa(this.U,this.V,"tick",this.mb),this.V.start())):(ma(this.j,this.m,o,null),Xa(this,o)),4==c&&$a(this),this.i&&!this.J&&(4==c?gu(this.l,this):(this.i=!1,Ka(this)))}else(function(e){const t={};e=(e.g&&2<=Xl(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(no(e[r]))continue;var n=Zo(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.s=3,Ca(12)):(this.s=0,Ca(13)),$a(this),Ya(this)}}}catch(c){}},Ms.mb=function(){if(this.g){var e=Xl(this.g),t=this.g.ja();this.o<t.length&&(Qa(this),Wa(this,e,t),this.i&&4!=e&&Ka(this))}},Ms.cancel=function(){this.J=!0,$a(this)},Ms.lb=function(){this.C=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.B),2!=this.L&&(ba(),Ca(17)),$a(this),this.s=2,Ya(this)):Ga(this,this.Y-e)};var Za=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function el(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof el){this.h=e.h,nl(this,e.j),this.s=e.s,this.g=e.g,rl(this,e.m),this.l=e.l;var t=e.i,n=new gl;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),il(this,n),this.o=e.o}else e&&(t=String(e).match(Za))?(this.h=!1,nl(this,t[1]||"",!0),this.s=al(t[2]||""),this.g=al(t[3]||"",!0),rl(this,t[4]),this.l=al(t[5]||"",!0),il(this,t[6]||"",!0),this.o=al(t[7]||"")):(this.h=!1,this.i=new gl(null,this.h))}function tl(e){return new el(e)}function nl(e,t,n){e.j=n?al(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function rl(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function il(e,t,n){t instanceof gl?(e.i=t,function(e,t){t&&!e.j&&(ml(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(vl(this,t),_l(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=ll(t,fl)),e.i=new gl(t,e.h))}function sl(e,t,n){e.i.set(t,n)}function ol(e){return sl(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function al(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ll(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,ul),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function ul(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}el.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ll(t,cl,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(ll(t,cl,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ll(n,"/"==n.charAt(0)?dl:hl,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",ll(n,pl)),e.join("")};var cl=/[#\/\?@]/g,hl=/[#\?:]/g,dl=/[#\?]/g,fl=/[#\?@]/g,pl=/#/g;function gl(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function ml(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function vl(e,t){ml(e),t=wl(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function yl(e,t){return ml(e),t=wl(e,t),e.g.has(t)}function _l(e,t,n){vl(e,t),0<n.length&&(e.i=null,e.g.set(wl(e,t),Js(n)),e.h+=n.length)}function wl(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Ms=gl.prototype).add=function(e,t){ml(this),this.i=null,e=wl(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Ms.forEach=function(e,t){ml(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},Ms.ta=function(){ml(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},Ms.Z=function(e){ml(this);let t=[];if("string"===typeof e)yl(this,e)&&(t=t.concat(this.g.get(wl(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},Ms.set=function(e,t){return ml(this),this.i=null,yl(this,e=wl(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Ms.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},Ms.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")};var bl=class{constructor(e,t){this.g=e,this.map=t}};function El(e){this.l=e||Cl,Vs.PerformanceNavigationTiming?e=0<(e=Vs.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Vs.g&&Vs.g.Ka&&Vs.g.Ka()&&Vs.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Cl=10;function Sl(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Tl(e){return e.h?1:e.g?e.g.size:0}function kl(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Il(e,t){e.g?e.g.add(t):e.h=t}function xl(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Nl(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return Js(e.i)}El.prototype.cancel=function(){if(this.i=Nl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var Rl,Al=class{stringify(e){return Vs.JSON.stringify(e,void 0)}parse(e){return Vs.JSON.parse(e,void 0)}};function Pl(){this.g=new Al}function Ol(e,t,n){const r=n||"";try{Ja(e,(function(e,n){let i=e;Bs(e)&&(i=Yo(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Dl(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(s){}}function Ll(e){this.l=e.ec||null,this.j=e.ob||!1}function Ml(e,t){Ko.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Fl,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ys(Ll,xa),Ll.prototype.g=function(){return new Ml(this.l,this.j)},Ll.prototype.i=(Rl={},function(){return Rl}),Ys(Ml,Ko);var Fl=0;function jl(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function Ul(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Vl(e)}function Vl(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Ms=Ml.prototype).open=function(e,t){if(this.readyState!=Fl)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Vl(this)},Ms.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||Vs).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},Ms.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ul(this)),this.readyState=Fl},Ms.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Vl(this)),this.g&&(this.readyState=3,Vl(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof Vs.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;jl(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},Ms.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ul(this):Vl(this),3==this.readyState&&jl(this)}},Ms.Za=function(e){this.g&&(this.response=this.responseText=e,Ul(this))},Ms.Ya=function(e){this.g&&(this.response=e,Ul(this))},Ms.ka=function(){this.g&&Ul(this)},Ms.setRequestHeader=function(e,t){this.v.append(e,t)},Ms.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Ms.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Ml.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var zl=Vs.JSON.parse;function Bl(e){Ko.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=ql,this.L=this.M=!1}Ys(Bl,Ko);var ql="",Wl=/^https?$/i,Hl=["POST","PUT"];function Kl(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Gl(e),Yl(e)}function Gl(e){e.F||(e.F=!0,Go(e,"complete"),Go(e,"error"))}function Ql(e){if(e.h&&"undefined"!=typeof Us&&(!e.C[1]||4!=Xl(e)||2!=e.da()))if(e.v&&4==Xl(e))la(e.La,0,e);else if(Go(e,"readystatechange"),4==Xl(e)){e.h=!1;try{const a=e.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===a){var i=String(e.I).match(Za)[1]||null;!i&&Vs.self&&Vs.self.location&&(i=Vs.self.location.protocol.slice(0,-1)),r=!Wl.test(i?i.toLowerCase():"")}n=r}if(n)Go(e,"complete"),Go(e,"success");else{e.m=6;try{var s=2<Xl(e)?e.g.statusText:""}catch(o){s=""}e.j=s+" ["+e.da()+"]",Gl(e)}}finally{Yl(e)}}}function Yl(e,t){if(e.g){$l(e);const r=e.g,i=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||Go(e,"ready");try{r.onreadystatechange=i}catch(n){}}}function $l(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(Vs.clearTimeout(e.A),e.A=null)}function Xl(e){return e.g?e.g.readyState:0}function Jl(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case ql:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(sc){return null}}function Zl(e){let t="";return Io(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function eu(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Zl(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):sl(e,t,n))}function tu(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function nu(e){this.Ga=0,this.j=[],this.l=new ga,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=tu("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=tu("baseRetryDelayMs",5e3,e),this.hb=tu("retryDelaySeedMs",1e4,e),this.eb=tu("forwardChannelMaxRetries",2,e),this.xa=tu("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new El(e&&e.concurrentRequestLimit),this.Ja=new Pl,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function ru(e){if(su(e),3==e.H){var t=e.W++,n=tl(e.I);if(sl(n,"SID",e.K),sl(n,"RID",t),sl(n,"TYPE","terminate"),lu(e,n),(t=new Ma(e,e.l,t)).L=2,t.A=ol(tl(n)),n=!1,Vs.navigator&&Vs.navigator.sendBeacon)try{n=Vs.navigator.sendBeacon(t.A.toString(),"")}catch(r){}!n&&Vs.Image&&((new Image).src=t.A,n=!0),n||(t.g=wu(t.l,null),t.g.ha(t.A)),t.G=Date.now(),Ka(t)}yu(e)}function iu(e){e.g&&(du(e),e.g.cancel(),e.g=null)}function su(e){iu(e),e.u&&(Vs.clearTimeout(e.u),e.u=null),pu(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Vs.clearTimeout(e.m),e.m=null)}function ou(e){if(!Sl(e.i)&&!e.m){e.m=!0;var t=e.Na;ta||ia(),na||(ta(),na=!0),ra.add(t,e),e.C=0}}function au(e,t){var n;n=t?t.m:e.W++;const r=tl(e.I);sl(r,"SID",e.K),sl(r,"RID",n),sl(r,"AID",e.V),lu(e,r),e.o&&e.s&&eu(r,e.o,e.s),n=new Ma(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=uu(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Il(e.i,n),za(n,r,t)}function lu(e,t){e.na&&Io(e.na,(function(e,n){sl(t,n,e)})),e.h&&Ja({},(function(e,n){sl(t,n,e)}))}function uu(e,t,n){n=Math.min(e.j.length,n);var r=e.h?Gs(e.h.Va,e.h,e):null;e:{var i=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let o=!0;for(let a=0;a<n;a++){let n=i[a].g;const l=i[a].map;if(n-=t,0>n)t=Math.max(0,i[a].g-100),o=!1;else try{Ol(l,e,"req"+n+"_")}catch(s){r&&r(l)}}if(o){r=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function cu(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;ta||ia(),na||(ta(),na=!0),ra.add(t,e),e.A=0}}function hu(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=Ta(Gs(e.Ma,e),mu(e,e.A)),e.A++,!0)}function du(e){null!=e.B&&(Vs.clearTimeout(e.B),e.B=null)}function fu(e){e.g=new Ma(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=tl(e.wa);sl(t,"RID","rpc"),sl(t,"SID",e.K),sl(t,"AID",e.V),sl(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&sl(t,"TO",e.qa),sl(t,"TYPE","xmlhttp"),lu(e,t),e.o&&e.s&&eu(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.A=ol(tl(t)),n.u=null,n.S=!0,Ba(n,e)}function pu(e){null!=e.v&&(Vs.clearTimeout(e.v),e.v=null)}function gu(e,t){var n=null;if(e.g==t){pu(e),du(e),e.g=null;var r=2}else{if(!kl(e.i,t))return;n=t.F,xl(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.u?t.u.length:0,t=Date.now()-t.G;var i=e.C;Go(r=_a(),new Sa(r,n)),ou(e)}else cu(e);else if(3==(i=t.s)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(Tl(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=Ta(Gs(e.Na,e,t),mu(e,e.C)),e.C++,!0))}(e,t)||2==r&&hu(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:vu(e,5);break;case 4:vu(e,10);break;case 3:vu(e,6);break;default:vu(e,2)}}function mu(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function vu(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=Gs(e.pb,e);n||(n=new el("//www.google.com/images/cleardot.gif"),Vs.location&&"http"==Vs.location.protocol||nl(n,"https"),ol(n)),function(e,t){const n=new ga;if(Vs.Image){const r=new Image;r.onload=Qs(Dl,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Qs(Dl,n,r,"TestLoadImage: error",!1,t),r.onabort=Qs(Dl,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Qs(Dl,n,r,"TestLoadImage: timeout",!1,t),Vs.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Ca(2);e.H=0,e.h&&e.h.za(t),yu(e),su(e)}function yu(e){if(e.H=0,e.ma=[],e.h){const t=Nl(e.i);0==t.length&&0==e.j.length||(Zs(e.ma,t),Zs(e.ma,e.j),e.i.i.length=0,Js(e.j),e.j.length=0),e.h.ya()}}function _u(e,t,n){var r=n instanceof el?tl(n):new el(n);if(""!=r.g)t&&(r.g=t+"."+r.g),rl(r,r.m);else{var i=Vs.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new el(null);r&&nl(s,r),t&&(s.g=t),i&&rl(s,i),n&&(s.l=n),r=s}return n=e.F,t=e.Da,n&&t&&sl(r,n,t),sl(r,"VER",e.ra),lu(e,r),r}function wu(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ha&&!e.va?new Bl(new Ll({ob:n})):new Bl(e.va)).Oa(e.J),t}function bu(){}function Eu(){if(uo&&!(10<=Number(wo)))throw Error("Environmental error: no available transport.")}function Cu(e,t){Ko.call(this),this.g=new nu(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!no(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!no(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new ku(this)}function Su(e){Oa.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Tu(){Da.call(this),this.status=1}function ku(e){this.g=e}function Iu(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function xu(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],o=t+(s^n&(i^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(o<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(t=n+((o=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function Nu(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}(Ms=Bl.prototype).Oa=function(e){this.M=e},Ms.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Aa.g(),this.C=this.u?Na(this.u):Na(Aa),this.g.onreadystatechange=Gs(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){return void Kl(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),i=Vs.FormData&&e instanceof Vs.FormData,!(0<=Xs(Hl,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,a]of n)this.g.setRequestHeader(o,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{$l(this),0<this.B&&((this.L=function(e){return uo&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Gs(this.ua,this)):this.A=la(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){Kl(this,s)}},Ms.ua=function(){"undefined"!=typeof Us&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Go(this,"timeout"),this.abort(8))},Ms.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Go(this,"complete"),Go(this,"abort"),Yl(this))},Ms.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Yl(this,!0)),Bl.$.N.call(this)},Ms.La=function(){this.s||(this.G||this.v||this.l?Ql(this):this.kb())},Ms.kb=function(){Ql(this)},Ms.isActive=function(){return!!this.g},Ms.da=function(){try{return 2<Xl(this)?this.g.status:-1}catch(Rl){return-1}},Ms.ja=function(){try{return this.g?this.g.responseText:""}catch(Rl){return""}},Ms.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),zl(t)}},Ms.Ia=function(){return this.m},Ms.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(Ms=nu.prototype).ra=8,Ms.H=1,Ms.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new Ma(this,this.l,e);let s=this.s;if(this.U&&(s?(s=xo(s),Ro(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=uu(this,i,t),sl(n=tl(this.I),"RID",e),sl(n,"CVER",22),this.F&&sl(n,"X-HTTP-Session-Id",this.F),lu(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(Zl(s)))+"&"+t:this.o&&eu(n,this.o,s)),Il(this.i,i),this.bb&&sl(n,"TYPE","init"),this.P?(sl(n,"$req",t),sl(n,"SID","null"),i.aa=!0,za(i,n,null)):za(i,n,t),this.H=2}}else 3==this.H&&(e?au(this,e):0==this.j.length||Sl(this.i)||au(this))},Ms.Ma=function(){if(this.u=null,fu(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=Ta(Gs(this.jb,this),e)}},Ms.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Ca(10),iu(this),fu(this))},Ms.ib=function(){null!=this.v&&(this.v=null,iu(this),hu(this),Ca(19))},Ms.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Ca(2)):(this.l.info("Failed to ping google.com"),Ca(1))},Ms.isActive=function(){return!!this.h&&this.h.isActive(this)},(Ms=bu.prototype).Ba=function(){},Ms.Aa=function(){},Ms.za=function(){},Ms.ya=function(){},Ms.isActive=function(){return!0},Ms.Va=function(){},Eu.prototype.g=function(e,t){return new Cu(e,t)},Ys(Cu,Ko),Cu.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Ca(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=_u(e,null,e.Y),ou(e)},Cu.prototype.close=function(){ru(this.g)},Cu.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Yo(e),e=n);t.j.push(new bl(t.fb++,e)),3==t.H&&ou(t)},Cu.prototype.N=function(){this.g.h=null,delete this.j,ru(this.g),delete this.g,Cu.$.N.call(this)},Ys(Su,Oa),Ys(Tu,Da),Ys(ku,bu),ku.prototype.Ba=function(){Go(this.g,"a")},ku.prototype.Aa=function(e){Go(this.g,new Su(e))},ku.prototype.za=function(e){Go(this.g,new Tu)},ku.prototype.ya=function(){Go(this.g,"b")},Ys(Iu,(function(){this.blockSize=-1})),Iu.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Iu.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,s=0;s<t;){if(0==i)for(;s<=n;)xu(this,e,s),s+=this.blockSize;if("string"===typeof e){for(;s<t;)if(r[i++]=e.charCodeAt(s++),i==this.blockSize){xu(this,r),i=0;break}}else for(;s<t;)if(r[i++]=e[s++],i==this.blockSize){xu(this,r),i=0;break}}this.h=i,this.i+=t},Iu.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var Ru={};function Au(e){return-128<=e&&128>e?function(e,t){var n=Ru;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new Nu([0|e],0>e?-1:0)})):new Nu([0|e],0>e?-1:0)}function Pu(e){if(isNaN(e)||!isFinite(e))return Du;if(0>e)return Uu(Pu(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=Ou;return new Nu(t,0)}var Ou=4294967296,Du=Au(0),Lu=Au(1),Mu=Au(16777216);function Fu(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function ju(e){return-1==e.h}function Uu(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new Nu(n,~e.h).add(Lu)}function Vu(e,t){return e.add(Uu(t))}function zu(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Bu(e,t){this.g=e,this.h=t}function qu(e,t){if(Fu(t))throw Error("division by zero");if(Fu(e))return new Bu(Du,Du);if(ju(e))return t=qu(Uu(e),t),new Bu(Uu(t.g),Uu(t.h));if(ju(t))return t=qu(e,Uu(t)),new Bu(Uu(t.g),t.h);if(30<e.g.length){if(ju(e)||ju(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Lu,r=t;0>=r.X(e);)n=Wu(n),r=Wu(r);var i=Hu(n,1),s=Hu(r,1);for(r=Hu(r,2),n=Hu(n,2);!Fu(r);){var o=s.add(r);0>=o.X(e)&&(i=i.add(n),s=o),r=Hu(r,1),n=Hu(n,1)}return t=Vu(e,i.R(t)),new Bu(i,t)}for(i=Du;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=Pu(n)).R(t);ju(o)||0<o.X(e);)o=(s=Pu(n-=r)).R(t);Fu(s)&&(s=Lu),i=i.add(s),e=Vu(e,o)}return new Bu(i,e)}function Wu(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new Nu(n,e.h)}function Hu(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],s=0;s<r;s++)i[s]=0<t?e.D(s+n)>>>t|e.D(s+n+1)<<32-t:e.D(s+n);return new Nu(i,e.h)}(Ms=Nu.prototype).ea=function(){if(ju(this))return-Uu(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:Ou+r)*t,t*=Ou}return e},Ms.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(Fu(this))return"0";if(ju(this))return"-"+Uu(this).toString(e);for(var t=Pu(Math.pow(e,6)),n=this,r="";;){var i=qu(n,t).g,s=((0<(n=Vu(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(Fu(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},Ms.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},Ms.X=function(e){return ju(e=Vu(this,e))?-1:Fu(e)?0:1},Ms.abs=function(){return ju(this)?Uu(this):this},Ms.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var s=r+(65535&this.D(i))+(65535&e.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new Nu(n,-2147483648&n[n.length-1]?-1:0)},Ms.R=function(e){if(Fu(this)||Fu(e))return Du;if(ju(this))return ju(e)?Uu(this).R(Uu(e)):Uu(Uu(this).R(e));if(ju(e))return Uu(this.R(Uu(e)));if(0>this.X(Mu)&&0>e.X(Mu))return Pu(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=e.D(i)>>>16,l=65535&e.D(i);n[2*r+2*i]+=o*l,zu(n,2*r+2*i),n[2*r+2*i+1]+=s*l,zu(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,zu(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,zu(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new Nu(n,0)},Ms.gb=function(e){return qu(this,e).h},Ms.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new Nu(n,this.h&e.h)},Ms.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new Nu(n,this.h|e.h)},Ms.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new Nu(n,this.h^e.h)},Eu.prototype.createWebChannel=Eu.prototype.g,Cu.prototype.send=Cu.prototype.u,Cu.prototype.open=Cu.prototype.m,Cu.prototype.close=Cu.prototype.close,ka.NO_ERROR=0,ka.TIMEOUT=8,ka.HTTP_ERROR=6,Ia.COMPLETE="complete",Ra.EventType=Pa,Pa.OPEN="a",Pa.CLOSE="b",Pa.ERROR="c",Pa.MESSAGE="d",Ko.prototype.listen=Ko.prototype.O,Bl.prototype.listenOnce=Bl.prototype.P,Bl.prototype.getLastError=Bl.prototype.Sa,Bl.prototype.getLastErrorCode=Bl.prototype.Ia,Bl.prototype.getStatus=Bl.prototype.da,Bl.prototype.getResponseJson=Bl.prototype.Wa,Bl.prototype.getResponseText=Bl.prototype.ja,Bl.prototype.send=Bl.prototype.ha,Bl.prototype.setWithCredentials=Bl.prototype.Oa,Iu.prototype.digest=Iu.prototype.l,Iu.prototype.reset=Iu.prototype.reset,Iu.prototype.update=Iu.prototype.j,Nu.prototype.add=Nu.prototype.add,Nu.prototype.multiply=Nu.prototype.R,Nu.prototype.modulo=Nu.prototype.gb,Nu.prototype.compare=Nu.prototype.X,Nu.prototype.toNumber=Nu.prototype.ea,Nu.prototype.toString=Nu.prototype.toString,Nu.prototype.getBits=Nu.prototype.D,Nu.fromNumber=Pu,Nu.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return Uu(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=Pu(Math.pow(n,8)),i=Du,s=0;s<t.length;s+=8){var o=Math.min(8,t.length-s),a=parseInt(t.substring(s,s+o),n);8>o?(o=Pu(Math.pow(n,o)),i=i.R(o).add(Pu(a))):i=(i=i.R(r)).add(Pu(a))}return i};var Ku=js.createWebChannelTransport=function(){return new Eu},Gu=js.getStatEventTarget=function(){return _a()},Qu=js.ErrorCode=ka,Yu=js.EventType=Ia,$u=js.Event=va,Xu=js.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Ju=(js.FetchXmlHttpFactory=Ll,js.WebChannel=Ra),Zu=js.XhrIo=Bl,ec=js.Md5=Iu,tc=js.Integer=Nu;const nc="@firebase/firestore";class rc{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}rc.UNAUTHENTICATED=new rc(null),rc.GOOGLE_CREDENTIALS=new rc("google-credentials-uid"),rc.FIRST_PARTY=new rc("first-party-uid"),rc.MOCK_USER=new rc("mock-user");let ic="10.7.2";const sc=new me("@firebase/firestore");function oc(){return sc.logLevel}function ac(e){if(sc.logLevel<=he.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(cc);sc.debug("Firestore (".concat(ic,"): ").concat(e),...i)}}function lc(e){if(sc.logLevel<=he.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(cc);sc.error("Firestore (".concat(ic,"): ").concat(e),...i)}}function uc(e){if(sc.logLevel<=he.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(cc);sc.warn("Firestore (".concat(ic,"): ").concat(e),...i)}}function cc(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function hc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(ic,") INTERNAL ASSERTION FAILED: ")+e;throw lc(t),new Error(t)}function dc(e,t){e||hc()}function fc(e,t){return e}const pc={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class gc extends D{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class mc{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class vc{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class yc{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(rc.UNAUTHENTICATED)))}shutdown(){}}class _c{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class wc{constructor(e){this.t=e,this.currentUser=rc.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new mc;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new mc,e.enqueueRetryable((()=>r(this.currentUser)))};const s=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},o=e=>{ac("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit((e=>o(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(ac("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new mc)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(ac("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(dc("string"==typeof t.accessToken),new vc(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return dc(null===e||"string"==typeof e),new rc(e)}}class bc{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=rc.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Ec{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new bc(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(rc.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Cc{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Sc{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const n=e=>{null!=e.error&&ac("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.R;return this.R=e.token,ac("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{ac("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):ac("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(dc("string"==typeof e.token),this.R=e.token,new Cc(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Tc(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class kc{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=Tc(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function Ic(e,t){return e<t?-1:e>t?1:0}function xc(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}class Nc{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new gc(pc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new gc(pc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new gc(pc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new gc(pc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Nc.fromMillis(Date.now())}static fromDate(e){return Nc.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Nc(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ic(this.nanoseconds,e.nanoseconds):Ic(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Rc{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Rc(e)}static min(){return new Rc(new Nc(0,0))}static max(){return new Rc(new Nc(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Ac{constructor(e,t,n){void 0===t?t=0:t>e.length&&hc(),void 0===n?n=e.length-t:n>e.length-t&&hc(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Ac.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ac?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Pc extends Ac{construct(e,t,n){return new Pc(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new gc(pc.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter((e=>e.length>0)))}return new Pc(e)}static emptyPath(){return new Pc([])}}const Oc=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Dc extends Ac{construct(e,t,n){return new Dc(e,t,n)}static isValidIdentifier(e){return Oc.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Dc.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Dc(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new gc(pc.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new gc(pc.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new gc(pc.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new gc(pc.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Dc(t)}static emptyPath(){return new Dc([])}}class Lc{constructor(e){this.path=e}static fromPath(e){return new Lc(Pc.fromString(e))}static fromName(e){return new Lc(Pc.fromString(e).popFirst(5))}static empty(){return new Lc(Pc.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Pc.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Pc.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Lc(new Pc(e.slice()))}}class Mc{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}Mc.UNKNOWN_ID=-1;function Fc(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Rc.fromTimestamp(1e9===r?new Nc(n+1,0):new Nc(n,r));return new Uc(i,Lc.empty(),t)}function jc(e){return new Uc(e.readTime,e.key,-1)}class Uc{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Uc(Rc.min(),Lc.empty(),-1)}static max(){return new Uc(Rc.max(),Lc.empty(),-1)}}function Vc(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Lc.comparator(e.documentKey,t.documentKey),0!==n?n:Ic(e.largestBatchId,t.largestBatchId))}const zc="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Bc{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function qc(e){if(e.code!==pc.FAILED_PRECONDITION||e.message!==zc)throw e;ac("LocalStore","Unexpectedly lost primary lease")}class Wc{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&hc(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Wc(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Wc?t:Wc.resolve(t)}catch(e){return Wc.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Wc.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Wc.reject(t)}static resolve(e){return new Wc(((t,n)=>{t(e)}))}static reject(e){return new Wc(((t,n)=>{n(e)}))}static waitFor(e){return new Wc(((t,n)=>{let r=0,i=0,s=!1;e.forEach((e=>{++r,e.next((()=>{++i,s&&i===r&&t()}),(e=>n(e)))})),s=!0,i===r&&t()}))}static or(e){let t=Wc.resolve(!1);for(const n of e)t=t.next((e=>e?Wc.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new Wc(((n,r)=>{const i=e.length,s=new Array(i);let o=0;for(let a=0;a<i;a++){const l=a;t(e[l]).next((e=>{s[l]=e,++o,o===i&&n(s)}),(e=>r(e)))}}))}static doWhile(e,t){return new Wc(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}class Hc{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new mc,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new Qc(e,t.error)):this.V.resolve()},this.transaction.onerror=t=>{const n=Zc(t.target.error);this.V.reject(new Qc(e,n))}}static open(e,t,n,r){try{return new Hc(t,e.transaction(r,n))}catch(e){throw new Qc(t,e)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(ac("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new $c(t)}}class Kc{constructor(e,t,n){this.name=e,this.version=t,this.p=n,12.2===Kc.S(k())&&lc("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return ac("SimpleDb","Removing database:",e),Xc(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!P())return!1;if(Kc.C())return!0;const e=k(),t=Kc.S(e),n=0<t&&t<10,r=Kc.v(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static C(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.F)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static v(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}async O(e){return this.db||(ac("SimpleDb","Opening database:",this.name),this.db=await new Promise(((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new Qc(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new gc(pc.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new gc(pc.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new Qc(e,r))},r.onupgradeneeded=e=>{ac("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.p.N(t,r.transaction,e.oldVersion,this.version).next((()=>{ac("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.B&&(this.db.onversionchange=e=>this.B(e)),this.db}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const i="readonly"===t;let s=0;for(;;){++s;try{this.db=await this.O(e);const t=Hc.open(this.db,e,i?"readonly":"readwrite",n),s=r(t).next((e=>(t.g(),e))).catch((e=>(t.abort(e),Wc.reject(e)))).toPromise();return s.catch((()=>{})),await t.m,s}catch(e){const t=e,n="FirebaseError"!==t.name&&s<3;if(ac("SimpleDb","Transaction failed with error:",t.message,"Retrying:",n),this.close(),!n)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}class Gc{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Xc(this.k.delete())}}class Qc extends gc{constructor(e,t){super(pc.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(t)),this.name="IndexedDbTransactionError"}}function Yc(e){return"IndexedDbTransactionError"===e.name}class $c{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(ac("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(ac("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Xc(n)}add(e){return ac("SimpleDb","ADD",this.store.name,e,e),Xc(this.store.add(e))}get(e){return Xc(this.store.get(e)).next((t=>(void 0===t&&(t=null),ac("SimpleDb","GET",this.store.name,e,t),t)))}delete(e){return ac("SimpleDb","DELETE",this.store.name,e),Xc(this.store.delete(e))}count(){return ac("SimpleDb","COUNT",this.store.name),Xc(this.store.count())}W(e,t){const n=this.options(e,t),r=n.index?this.store.index(n.index):this.store;if("function"==typeof r.getAll){const e=r.getAll(n.range);return new Wc(((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}}))}{const e=this.cursor(n),t=[];return this.G(e,((e,n)=>{t.push(n)})).next((()=>t))}}j(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new Wc(((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}}))}H(e,t){ac("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.J=!1;const r=this.cursor(n);return this.G(r,((e,t,n)=>n.delete()))}Y(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.G(r,t)}Z(e){const t=this.cursor({});return new Wc(((n,r)=>{t.onerror=e=>{const t=Zc(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next((e=>{e?r.continue():n()})):n()}}))}G(e,t){const n=[];return new Wc(((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const s=new Gc(i),o=t(i.primaryKey,i.value,s);if(o instanceof Wc){const e=o.catch((e=>(s.done(),Wc.reject(e))));n.push(e)}s.isDone?r():null===s.$?i.continue():i.continue(s.$)}})).next((()=>Wc.waitFor(n)))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.J?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Xc(e){return new Wc(((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=Zc(e.target.error);n(t)}}))}let Jc=!1;function Zc(e){const t=Kc.S(k());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new gc("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(t,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Jc||(Jc=!0,setTimeout((()=>{throw e}),0)),e}}return e}class eh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.se(e),this.oe=e=>t.writeSequenceNumber(e))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}function th(e){return null==e}function nh(e){return 0===e&&1/e==-1/0}function rh(e){return"number"==typeof e&&Number.isInteger(e)&&!nh(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}eh._e=-1;const ih=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],sh=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],oh=sh;function ah(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function lh(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function uh(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class ch{constructor(e,t){this.comparator=e,this.root=t||dh.EMPTY}insert(e,t){return new ch(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,dh.BLACK,null,null))}remove(e){return new ch(this.comparator,this.root.remove(e,this.comparator).copy(null,null,dh.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new hh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new hh(this.root,e,this.comparator,!1)}getReverseIterator(){return new hh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new hh(this.root,e,this.comparator,!0)}}class hh{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class dh{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:dh.RED,this.left=null!=r?r:dh.EMPTY,this.right=null!=i?i:dh.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new dh(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return dh.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return dh.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,dh.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,dh.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw hc();if(this.right.isRed())throw hc();const e=this.left.check();if(e!==this.right.check())throw hc();return e+(this.isRed()?0:1)}}dh.EMPTY=null,dh.RED=!0,dh.BLACK=!1,dh.EMPTY=new class{constructor(){this.size=0}get key(){throw hc()}get value(){throw hc()}get color(){throw hc()}get left(){throw hc()}get right(){throw hc()}copy(e,t,n,r,i){return this}insert(e,t,n){return new dh(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class fh{constructor(e){this.comparator=e,this.data=new ch(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ph(this.data.getIterator())}getIteratorFrom(e){return new ph(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof fh))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new fh(this.comparator);return t.data=e,t}}class ph{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class gh{constructor(e){this.fields=e,e.sort(Dc.comparator)}static empty(){return new gh([])}unionWith(e){let t=new fh(Dc.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new gh(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return xc(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class mh extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class vh{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new mh("Invalid base64 string: "+e):e}}(e);return new vh(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new vh(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ic(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}vh.EMPTY_BYTE_STRING=new vh("");const yh=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _h(e){if(dc(!!e),"string"==typeof e){let t=0;const n=yh.exec(e);if(dc(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:wh(e.seconds),nanos:wh(e.nanos)}}function wh(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function bh(e){return"string"==typeof e?vh.fromBase64String(e):vh.fromUint8Array(e)}function Eh(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ch(e){const t=e.mapValue.fields.__previous_value__;return Eh(t)?Ch(t):t}function Sh(e){const t=_h(e.mapValue.fields.__local_write_time__.timestampValue);return new Nc(t.seconds,t.nanos)}class Th{constructor(e,t,n,r,i,s,o,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=a,this.useFetchStreams=l}}class kh{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new kh("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof kh&&e.projectId===this.projectId&&e.database===this.database}}const Ih={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function xh(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Eh(e)?4:Bh(e)?9007199254740991:10:hc()}function Nh(e,t){if(e===t)return!0;const n=xh(e);if(n!==xh(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Sh(e).isEqual(Sh(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=_h(e.timestampValue),r=_h(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return bh(e.bytesValue).isEqual(bh(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return wh(e.geoPointValue.latitude)===wh(t.geoPointValue.latitude)&&wh(e.geoPointValue.longitude)===wh(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return wh(e.integerValue)===wh(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=wh(e.doubleValue),r=wh(t.doubleValue);return n===r?nh(n)===nh(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return xc(e.arrayValue.values||[],t.arrayValue.values||[],Nh);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(ah(n)!==ah(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Nh(n[i],r[i])))return!1;return!0}(e,t);default:return hc()}}function Rh(e,t){return void 0!==(e.values||[]).find((e=>Nh(e,t)))}function Ah(e,t){if(e===t)return 0;const n=xh(e),r=xh(t);if(n!==r)return Ic(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ic(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=wh(e.integerValue||e.doubleValue),r=wh(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Ph(e.timestampValue,t.timestampValue);case 4:return Ph(Sh(e),Sh(t));case 5:return Ic(e.stringValue,t.stringValue);case 6:return function(e,t){const n=bh(e),r=bh(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Ic(n[i],r[i]);if(0!==e)return e}return Ic(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Ic(wh(e.latitude),wh(t.latitude));return 0!==n?n:Ic(wh(e.longitude),wh(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Ah(n[i],r[i]);if(e)return e}return Ic(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Ih.mapValue&&t===Ih.mapValue)return 0;if(e===Ih.mapValue)return 1;if(t===Ih.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let o=0;o<r.length&&o<s.length;++o){const e=Ic(r[o],s[o]);if(0!==e)return e;const t=Ah(n[r[o]],i[s[o]]);if(0!==t)return t}return Ic(r.length,s.length)}(e.mapValue,t.mapValue);default:throw hc()}}function Ph(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Ic(e,t);const n=_h(e),r=_h(t),i=Ic(n.seconds,r.seconds);return 0!==i?i:Ic(n.nanos,r.nanos)}function Oh(e){return Dh(e)}function Dh(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=_h(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return bh(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Lc.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Dh(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(Dh(e.fields[i]));return n+"}"}(e.mapValue):hc()}function Lh(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Mh(e){return!!e&&"integerValue"in e}function Fh(e){return!!e&&"arrayValue"in e}function jh(e){return!!e&&"nullValue"in e}function Uh(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Vh(e){return!!e&&"mapValue"in e}function zh(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return lh(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=zh(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=zh(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Bh(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class qh{constructor(e){this.value=e}static empty(){return new qh({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Vh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=zh(t)}setAll(e){let t=Dc.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=zh(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Vh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Nh(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Vh(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){lh(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new qh(zh(this.value))}}function Wh(e){const t=[];return lh(e.fields,((e,n)=>{const r=new Dc([e]);if(Vh(n)){const e=Wh(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new gh(t)}class Hh{constructor(e,t,n,r,i,s,o){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new Hh(e,0,Rc.min(),Rc.min(),Rc.min(),qh.empty(),0)}static newFoundDocument(e,t,n,r){return new Hh(e,1,t,Rc.min(),n,r,0)}static newNoDocument(e,t){return new Hh(e,2,t,Rc.min(),Rc.min(),qh.empty(),0)}static newUnknownDocument(e,t){return new Hh(e,3,t,Rc.min(),Rc.min(),qh.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Rc.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=qh.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=qh.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Rc.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Hh&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Hh(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class Kh{constructor(e,t){this.position=e,this.inclusive=t}}function Gh(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(r=s.field.isKeyField()?Lc.comparator(Lc.fromName(o.referenceValue),n.key):Ah(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function Qh(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Nh(e.position[n],t.position[n]))return!1;return!0}class Yh{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function $h(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Xh{}class Jh extends Xh{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new od(e,t,n):"array-contains"===t?new cd(e,n):"in"===t?new hd(e,n):"not-in"===t?new dd(e,n):"array-contains-any"===t?new fd(e,n):new Jh(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new ad(e,n):new ld(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Ah(t,this.value)):null!==t&&xh(this.value)===xh(t)&&this.matchesComparison(Ah(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return hc()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Zh extends Xh{constructor(e,t){super(),this.filters=e,this.op=t,this.ue=null}static create(e,t){return new Zh(e,t)}matches(e){return ed(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function ed(e){return"and"===e.op}function td(e){return nd(e)&&ed(e)}function nd(e){for(const t of e.filters)if(t instanceof Zh)return!1;return!0}function rd(e){if(e instanceof Jh)return e.field.canonicalString()+e.op.toString()+Oh(e.value);if(td(e))return e.filters.map((e=>rd(e))).join(",");{const t=e.filters.map((e=>rd(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function id(e,t){return e instanceof Jh?function(e,t){return t instanceof Jh&&e.op===t.op&&e.field.isEqual(t.field)&&Nh(e.value,t.value)}(e,t):e instanceof Zh?function(e,t){return t instanceof Zh&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&id(n,t.filters[r])),!0)}(e,t):void hc()}function sd(e){return e instanceof Jh?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Oh(e.value))}(e):e instanceof Zh?function(e){return e.op.toString()+" {"+e.getFilters().map(sd).join(" ,")+"}"}(e):"Filter"}class od extends Jh{constructor(e,t,n){super(e,t,n),this.key=Lc.fromName(n.referenceValue)}matches(e){const t=Lc.comparator(e.key,this.key);return this.matchesComparison(t)}}class ad extends Jh{constructor(e,t){super(e,"in",t),this.keys=ud("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class ld extends Jh{constructor(e,t){super(e,"not-in",t),this.keys=ud("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function ud(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>Lc.fromName(e.referenceValue)))}class cd extends Jh{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Fh(t)&&Rh(t.arrayValue,this.value)}}class hd extends Jh{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Rh(this.value.arrayValue,t)}}class dd extends Jh{constructor(e,t){super(e,"not-in",t)}matches(e){if(Rh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Rh(this.value.arrayValue,t)}}class fd extends Jh{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Fh(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Rh(this.value.arrayValue,e)))}}class pd{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.ce=null}}function gd(e){return new pd(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function md(e){const t=fc(e);if(null===t.ce){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>rd(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),th(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>Oh(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>Oh(e))).join(",")),t.ce=e}return t.ce}function vd(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!$h(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!id(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Qh(e.startAt,t.startAt)&&Qh(e.endAt,t.endAt)}function yd(e){return Lc.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class _d{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function wd(e,t,n,r,i,s,o,a){return new _d(e,t,n,r,i,s,o,a)}function bd(e){return new _d(e)}function Ed(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Cd(e){return null!==e.collectionGroup}function Sd(e){const t=fc(e);if(null===t.le){t.le=[];const e=new Set;for(const i of t.explicitOrderBy)t.le.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new fh(Dc.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.le.push(new Yh(r,n))})),e.has(Dc.keyField().canonicalString())||t.le.push(new Yh(Dc.keyField(),n))}return t.le}function Td(e){const t=fc(e);return t.he||(t.he=kd(t,Sd(e))),t.he}function kd(e,t){if("F"===e.limitType)return gd(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new Yh(e.field,t)}));const n=e.endAt?new Kh(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Kh(e.startAt.position,e.startAt.inclusive):null;return gd(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Id(e,t){const n=e.filters.concat([t]);return new _d(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function xd(e,t,n){return new _d(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Nd(e,t){return vd(Td(e),Td(t))&&e.limitType===t.limitType}function Rd(e){return"".concat(md(Td(e)),"|lt:").concat(e.limitType)}function Ad(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>sd(e))).join(", "),"]")),th(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>Oh(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>Oh(e))).join(",")),"Target(".concat(t,")")}(Td(e)),"; limitType=").concat(e.limitType,")")}function Pd(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Lc.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Sd(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Gh(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Sd(e),t))&&!(e.endAt&&!function(e,t,n){const r=Gh(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Sd(e),t))}(e,t)}function Od(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Dd(e){return(t,n)=>{let r=!1;for(const i of Sd(e)){const e=Ld(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Ld(e,t,n){const r=e.field.isKeyField()?Lc.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Ah(r,i):hc()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return hc()}}class Md{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){lh(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return uh(this.inner)}size(){return this.innerSize}}const Fd=new ch(Lc.comparator);function jd(){return Fd}const Ud=new ch(Lc.comparator);function Vd(){let e=Ud;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function zd(e){let t=Ud;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function Bd(){return Wd()}function qd(){return Wd()}function Wd(){return new Md((e=>e.toString()),((e,t)=>e.isEqual(t)))}const Hd=new ch(Lc.comparator),Kd=new fh(Lc.comparator);function Gd(){let e=Kd;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const Qd=new fh(Ic);function Yd(){return Qd}function $d(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nh(t)?"-0":t}}function Xd(e){return{integerValue:""+e}}function Jd(e,t){return rh(t)?Xd(t):$d(e,t)}class Zd{constructor(){this._=void 0}}function ef(e,t,n){return e instanceof rf?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Eh(t)&&(t=Ch(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof sf?of(e,t):e instanceof af?lf(e,t):function(e,t){const n=nf(e,t),r=cf(n)+cf(e.Ie);return Mh(n)&&Mh(e.Ie)?Xd(r):$d(e.serializer,r)}(e,t)}function tf(e,t,n){return e instanceof sf?of(e,t):e instanceof af?lf(e,t):n}function nf(e,t){return e instanceof uf?function(e){return Mh(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class rf extends Zd{}class sf extends Zd{constructor(e){super(),this.elements=e}}function of(e,t){const n=hf(t);for(const r of e.elements)n.some((e=>Nh(e,r)))||n.push(r);return{arrayValue:{values:n}}}class af extends Zd{constructor(e){super(),this.elements=e}}function lf(e,t){let n=hf(t);for(const r of e.elements)n=n.filter((e=>!Nh(e,r)));return{arrayValue:{values:n}}}class uf extends Zd{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function cf(e){return wh(e.integerValue||e.doubleValue)}function hf(e){return Fh(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class df{constructor(e,t){this.field=e,this.transform=t}}class ff{constructor(e,t){this.version=e,this.transformResults=t}}class pf{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new pf}static exists(e){return new pf(void 0,e)}static updateTime(e){return new pf(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function gf(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class mf{}function vf(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new If(e.key,pf.none()):new Ef(e.key,e.data,pf.none());{const n=e.data,r=qh.empty();let i=new fh(Dc.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Cf(e.key,r,new gh(i.toArray()),pf.none())}}function yf(e,t,n){e instanceof Ef?function(e,t,n){const r=e.value.clone(),i=Tf(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Cf?function(e,t,n){if(!gf(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Tf(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Sf(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function _f(e,t,n,r){return e instanceof Ef?function(e,t,n,r){if(!gf(e.precondition,t))return n;const i=e.value.clone(),s=kf(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Cf?function(e,t,n,r){if(!gf(e.precondition,t))return n;const i=kf(e.fieldTransforms,r,t),s=t.data;return s.setAll(Sf(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return gf(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function wf(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=nf(r.transform,e||null);null!=i&&(null===n&&(n=qh.empty()),n.set(r.field,i))}return n||null}function bf(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&xc(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof sf&&t instanceof sf||e instanceof af&&t instanceof af?xc(e.elements,t.elements,Nh):e instanceof uf&&t instanceof uf?Nh(e.Ie,t.Ie):e instanceof rf&&t instanceof rf}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Ef extends mf{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Cf extends mf{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Sf(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function Tf(e,t,n){const r=new Map;dc(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,tf(o,a,n[i]))}return r}function kf(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,ef(e,s,t))}return r}class If extends mf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class xf extends mf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Nf{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&yf(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=_f(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=_f(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=qd();return this.mutations.forEach((r=>{const i=e.get(r.key),s=i.overlayedDocument;let o=this.applyToLocalView(s,i.mutatedFields);o=t.has(r.key)?null:o;const a=vf(s,o);null!==a&&n.set(r.key,a),s.isValidDocument()||s.convertToNoDocument(Rc.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Gd())}isEqual(e){return this.batchId===e.batchId&&xc(this.mutations,e.mutations,((e,t)=>bf(e,t)))&&xc(this.baseMutations,e.baseMutations,((e,t)=>bf(e,t)))}}class Rf{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){dc(e.mutations.length===n.length);let r=Hd;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new Rf(e,t,n,r)}}class Af{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class Pf{constructor(e,t){this.count=e,this.unchangedNames=t}}var Of,Df;function Lf(e){switch(e){default:return hc();case pc.CANCELLED:case pc.UNKNOWN:case pc.DEADLINE_EXCEEDED:case pc.RESOURCE_EXHAUSTED:case pc.INTERNAL:case pc.UNAVAILABLE:case pc.UNAUTHENTICATED:return!1;case pc.INVALID_ARGUMENT:case pc.NOT_FOUND:case pc.ALREADY_EXISTS:case pc.PERMISSION_DENIED:case pc.FAILED_PRECONDITION:case pc.ABORTED:case pc.OUT_OF_RANGE:case pc.UNIMPLEMENTED:case pc.DATA_LOSS:return!0}}function Mf(e){if(void 0===e)return lc("GRPC error has no .code"),pc.UNKNOWN;switch(e){case Of.OK:return pc.OK;case Of.CANCELLED:return pc.CANCELLED;case Of.UNKNOWN:return pc.UNKNOWN;case Of.DEADLINE_EXCEEDED:return pc.DEADLINE_EXCEEDED;case Of.RESOURCE_EXHAUSTED:return pc.RESOURCE_EXHAUSTED;case Of.INTERNAL:return pc.INTERNAL;case Of.UNAVAILABLE:return pc.UNAVAILABLE;case Of.UNAUTHENTICATED:return pc.UNAUTHENTICATED;case Of.INVALID_ARGUMENT:return pc.INVALID_ARGUMENT;case Of.NOT_FOUND:return pc.NOT_FOUND;case Of.ALREADY_EXISTS:return pc.ALREADY_EXISTS;case Of.PERMISSION_DENIED:return pc.PERMISSION_DENIED;case Of.FAILED_PRECONDITION:return pc.FAILED_PRECONDITION;case Of.ABORTED:return pc.ABORTED;case Of.OUT_OF_RANGE:return pc.OUT_OF_RANGE;case Of.UNIMPLEMENTED:return pc.UNIMPLEMENTED;case Of.DATA_LOSS:return pc.DATA_LOSS;default:return hc()}}(Df=Of||(Of={}))[Df.OK=0]="OK",Df[Df.CANCELLED=1]="CANCELLED",Df[Df.UNKNOWN=2]="UNKNOWN",Df[Df.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Df[Df.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Df[Df.NOT_FOUND=5]="NOT_FOUND",Df[Df.ALREADY_EXISTS=6]="ALREADY_EXISTS",Df[Df.PERMISSION_DENIED=7]="PERMISSION_DENIED",Df[Df.UNAUTHENTICATED=16]="UNAUTHENTICATED",Df[Df.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Df[Df.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Df[Df.ABORTED=10]="ABORTED",Df[Df.OUT_OF_RANGE=11]="OUT_OF_RANGE",Df[Df.UNIMPLEMENTED=12]="UNIMPLEMENTED",Df[Df.INTERNAL=13]="INTERNAL",Df[Df.UNAVAILABLE=14]="UNAVAILABLE",Df[Df.DATA_LOSS=15]="DATA_LOSS";let Ff=null;function jf(){return new TextEncoder}const Uf=new tc([4294967295,4294967295],0);function Vf(e){const t=jf().encode(e),n=new ec;return n.update(t),new Uint8Array(n.digest())}function zf(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new tc([n,r],0),new tc([i,s],0)]}class Bf{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new qf("Invalid padding: ".concat(t));if(n<0)throw new qf("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new qf("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new qf("Invalid padding when bitmap length is 0: ".concat(t));this.Te=8*e.length-t,this.Ee=tc.fromNumber(this.Te)}de(e,t,n){let r=e.add(t.multiply(tc.fromNumber(n)));return 1===r.compare(Uf)&&(r=new tc([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const t=Vf(e),[n,r]=zf(t);for(let i=0;i<this.hashCount;i++){const e=this.de(n,r,i);if(!this.Ae(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new Bf(i,r,t);return n.forEach((e=>s.insert(e))),s}insert(e){if(0===this.Te)return;const t=Vf(e),[n,r]=zf(t);for(let i=0;i<this.hashCount;i++){const e=this.de(n,r,i);this.Re(e)}}Re(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class qf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Wf{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Hf.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Wf(Rc.min(),r,new ch(Ic),jd(),Gd())}}class Hf{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Hf(n,t,Gd(),Gd(),Gd())}}class Kf{constructor(e,t,n,r){this.Ve=e,this.removedTargetIds=t,this.key=n,this.me=r}}class Gf{constructor(e,t){this.targetId=e,this.fe=t}}class Qf{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:vh.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Yf{constructor(){this.ge=0,this.pe=Jf(),this.ye=vh.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=Gd(),t=Gd(),n=Gd();return this.pe.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:hc()}})),new Hf(this.ye,this.we,e,t,n)}Fe(){this.Se=!1,this.pe=Jf()}Me(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,dc(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class $f{constructor(e){this.Le=e,this.ke=new Map,this.qe=jd(),this.Qe=Xf(),this.Ke=new ch(Ic)}$e(e){for(const t of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(t,e.me):this.We(t,e.key,e.me);for(const t of e.removedTargetIds)this.We(t,e.key,e.me)}Ge(e){this.forEachTarget(e,(t=>{const n=this.ze(t);switch(e.state){case 0:this.je(t)&&n.Ce(e.resumeToken);break;case 1:n.Ne(),n.be||n.Fe(),n.Ce(e.resumeToken);break;case 2:n.Ne(),n.be||this.removeTarget(t);break;case 3:this.je(t)&&(n.Be(),n.Ce(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),n.Ce(e.resumeToken));break;default:hc()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach(((e,n)=>{this.je(n)&&t(n)}))}Je(e){const t=e.targetId,n=e.fe.count,r=this.Ye(t);if(r){const i=r.target;if(yd(i))if(0===n){const e=new Lc(i.path);this.We(t,e,Hh.newNoDocument(e,Rc.min()))}else dc(1===n);else{const r=this.Ze(t);if(r!==n){const n=this.Xe(e),i=n?this.et(n,e,r):1;if(0!==i){this.He(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,e)}null==Ff||Ff.tt(function(e,t,n,r,i){var s,o,a,l,u,c;const h={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(h.bloomFilter={applied:0===i,hashCount:null!==(s=null==d?void 0:d.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(l=null===(a=null===(o=null==d?void 0:d.bits)||void 0===o?void 0:o.bitmap)||void 0===a?void 0:a.length)&&void 0!==l?l:0,padding:null!==(c=null===(u=null==d?void 0:d.bits)||void 0===u?void 0:u.padding)&&void 0!==c?c:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),h}(r,e.fe,this.Le.nt(),n,i))}}}}Xe(e){const t=e.fe.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let s,o;try{s=bh(n).toUint8Array()}catch(e){if(e instanceof mh)return uc("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{o=new Bf(s,r,i)}catch(e){return uc(e instanceof qf?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===o.Te?null:o}et(e,t,n){return t.fe.count===n-this.rt(e,t.targetId)?0:2}rt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.Le.nt(),s="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(s)||(this.We(t,n,null),r++)})),r}it(e){const t=new Map;this.ke.forEach(((n,r)=>{const i=this.Ye(r);if(i){if(n.current&&yd(i.target)){const t=new Lc(i.target.path);null!==this.qe.get(t)||this.st(r,t)||this.We(r,t,Hh.newNoDocument(t,e))}n.De&&(t.set(r,n.ve()),n.Fe())}}));let n=Gd();this.Qe.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Ye(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.qe.forEach(((t,n)=>n.setReadTime(e)));const r=new Wf(e,t,this.Ke,this.qe,n);return this.qe=jd(),this.Qe=Xf(),this.Ke=new ch(Ic),r}Ue(e,t){if(!this.je(e))return;const n=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,n),this.qe=this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}We(e,t,n){if(!this.je(e))return;const r=this.ze(e);this.st(e,t)?r.Me(t,1):r.xe(t),this.Qe=this.Qe.insert(t,this.ot(t).delete(e)),n&&(this.qe=this.qe.insert(t,n))}removeTarget(e){this.ke.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let t=this.ke.get(e);return t||(t=new Yf,this.ke.set(e,t)),t}ot(e){let t=this.Qe.get(e);return t||(t=new fh(Ic),this.Qe=this.Qe.insert(e,t)),t}je(e){const t=null!==this.Ye(e);return t||ac("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.ke.get(e);return t&&t.be?null:this.Le._t(e)}He(e){this.ke.set(e,new Yf),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.We(e,t,null)}))}st(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function Xf(){return new ch(Lc.comparator)}function Jf(){return new ch(Lc.comparator)}const Zf={asc:"ASCENDING",desc:"DESCENDING"},ep={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tp={and:"AND",or:"OR"};class np{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function rp(e,t){return e.useProto3Json||th(t)?t:{value:t}}function ip(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function sp(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function op(e,t){return ip(e,t.toTimestamp())}function ap(e){return dc(!!e),Rc.fromTimestamp(function(e){const t=_h(e);return new Nc(t.seconds,t.nanos)}(e))}function lp(e,t){return up(e,t).canonicalString()}function up(e,t){const n=function(e){return new Pc(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function cp(e){const t=Pc.fromString(e);return dc(Rp(t)),t}function hp(e,t){return lp(e.databaseId,t.path)}function dp(e,t){const n=cp(t);if(n.get(1)!==e.databaseId.projectId)throw new gc(pc.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new gc(pc.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Lc(mp(n))}function fp(e,t){return lp(e.databaseId,t)}function pp(e){const t=cp(e);return 4===t.length?Pc.emptyPath():mp(t)}function gp(e){return new Pc(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function mp(e){return dc(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function vp(e,t,n){return{name:hp(e,t),fields:n.value.mapValue.fields}}function yp(e,t){let n;if(t instanceof Ef)n={update:vp(e,t.key,t.value)};else if(t instanceof If)n={delete:hp(e,t.key)};else if(t instanceof Cf)n={update:vp(e,t.key,t.data),updateMask:Np(t.fieldMask)};else{if(!(t instanceof xf))return hc();n={verify:hp(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof rf)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof sf)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof af)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof uf)return{fieldPath:t.field.canonicalString(),increment:n.Ie};throw hc()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:op(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:hc()}(e,t.precondition)),n}function _p(e,t){return{documents:[fp(e,t.path)]}}function wp(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=fp(e,i);const s=function(e){if(0!==e.length)return xp(Zh.create(e,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const o=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:kp(e.field),direction:Cp(e.dir)}}(e)))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const a=rp(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ut:n,parent:i}}function bp(e){let t=pp(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){dc(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=Ep(e);return t instanceof Zh&&td(t)?t.getFilters():[t]}(n.where));let o=[];n.orderBy&&(o=function(e){return e.map((e=>function(e){return new Yh(Ip(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,th(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Kh(n,t)}(n.startAt));let u=null;return n.endAt&&(u=function(e){const t=!e.before,n=e.values||[];return new Kh(n,t)}(n.endAt)),wd(t,i,o,s,a,"F",l,u)}function Ep(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Ip(e.unaryFilter.field);return Jh.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Ip(e.unaryFilter.field);return Jh.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Ip(e.unaryFilter.field);return Jh.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Ip(e.unaryFilter.field);return Jh.create(i,"!=",{nullValue:"NULL_VALUE"});default:return hc()}}(e):void 0!==e.fieldFilter?function(e){return Jh.create(Ip(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return hc()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Zh.create(e.compositeFilter.filters.map((e=>Ep(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return hc()}}(e.compositeFilter.op))}(e):hc()}function Cp(e){return Zf[e]}function Sp(e){return ep[e]}function Tp(e){return tp[e]}function kp(e){return{fieldPath:e.canonicalString()}}function Ip(e){return Dc.fromServerFormat(e.fieldPath)}function xp(e){return e instanceof Jh?function(e){if("=="===e.op){if(Uh(e.value))return{unaryFilter:{field:kp(e.field),op:"IS_NAN"}};if(jh(e.value))return{unaryFilter:{field:kp(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Uh(e.value))return{unaryFilter:{field:kp(e.field),op:"IS_NOT_NAN"}};if(jh(e.value))return{unaryFilter:{field:kp(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:kp(e.field),op:Sp(e.op),value:e.value}}}(e):e instanceof Zh?function(e){const t=e.getFilters().map((e=>xp(e)));return 1===t.length?t[0]:{compositeFilter:{op:Tp(e.op),filters:t}}}(e):hc()}function Np(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Rp(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Ap{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Rc.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Rc.min(),o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:vh.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=a}withSequenceNumber(e){return new Ap(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ap(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ap(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ap(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Pp{constructor(e){this.ct=e}}function Op(e){const t=bp({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?xd(t,t.limit,"L"):t}class Dp{constructor(){}Pt(e,t){this.It(e,t),t.Tt()}It(e,t){if("nullValue"in e)this.Et(t,5);else if("booleanValue"in e)this.Et(t,10),t.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(t,15),t.dt(wh(e.integerValue));else if("doubleValue"in e){const n=wh(e.doubleValue);isNaN(n)?this.Et(t,13):(this.Et(t,15),nh(n)?t.dt(0):t.dt(n))}else if("timestampValue"in e){const n=e.timestampValue;this.Et(t,20),"string"==typeof n?t.At(n):(t.At("".concat(n.seconds||"")),t.dt(n.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,t),this.Vt(t);else if("bytesValue"in e)this.Et(t,30),t.ft(bh(e.bytesValue)),this.Vt(t);else if("referenceValue"in e)this.gt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Et(t,45),t.dt(n.latitude||0),t.dt(n.longitude||0)}else"mapValue"in e?Bh(e)?this.Et(t,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,t),this.Vt(t)):"arrayValue"in e?(this.wt(e.arrayValue,t),this.Vt(t)):hc()}Rt(e,t){this.Et(t,25),this.St(e,t)}St(e,t){t.At(e)}yt(e,t){const n=e.fields||{};this.Et(t,55);for(const r of Object.keys(n))this.Rt(r,t),this.It(n[r],t)}wt(e,t){const n=e.values||[];this.Et(t,50);for(const r of n)this.It(r,t)}gt(e,t){this.Et(t,37),Lc.fromName(e).path.forEach((e=>{this.Et(t,60),this.St(e,t)}))}Et(e,t){e.dt(t)}Vt(e){e.dt(2)}}Dp.bt=new Dp;class Lp{constructor(){this._n=new Mp}addToCollectionParentIndex(e,t){return this._n.add(t),Wc.resolve()}getCollectionParents(e,t){return Wc.resolve(this._n.getEntries(t))}addFieldIndex(e,t){return Wc.resolve()}deleteFieldIndex(e,t){return Wc.resolve()}deleteAllFieldIndexes(e){return Wc.resolve()}createTargetIndexes(e,t){return Wc.resolve()}getDocumentsMatchingTarget(e,t){return Wc.resolve(null)}getIndexType(e,t){return Wc.resolve(0)}getFieldIndexes(e,t){return Wc.resolve([])}getNextCollectionGroupToUpdate(e){return Wc.resolve(null)}getMinOffset(e,t){return Wc.resolve(Uc.min())}getMinOffsetFromCollectionGroup(e,t){return Wc.resolve(Uc.min())}updateCollectionGroup(e,t,n){return Wc.resolve()}updateIndexEntries(e,t){return Wc.resolve()}}class Mp{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new fh(Pc.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new fh(Pc.comparator)).toArray()}}new Uint8Array(0);class Fp{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Fp(e,Fp.DEFAULT_COLLECTION_PERCENTILE,Fp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Fp.DEFAULT_COLLECTION_PERCENTILE=10,Fp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Fp.DEFAULT=new Fp(41943040,Fp.DEFAULT_COLLECTION_PERCENTILE,Fp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Fp.DISABLED=new Fp(-1,0,0);class jp{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new jp(0)}static Bn(){return new jp(-1)}}class Up{constructor(){this.changes=new Md((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Hh.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Wc.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Vp{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class zp{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&_f(n.mutation,e,gh.empty(),Nc.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,Gd()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Gd();const r=Bd();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=Vd();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=Bd();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Gd())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=jd();const s=Wd(),o=Wd();return t.forEach(((e,t)=>{const o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof Cf)?i=i.insert(t.key,t):void 0!==o?(s.set(t.key,o.mutation.getFieldMask()),_f(o.mutation,t,o.mutation.getFieldMask(),Nc.now())):s.set(t.key,gh.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>s.set(e,t))),t.forEach(((e,t)=>{var n;return o.set(e,new Vp(t,null!==(n=s.get(e))&&void 0!==n?n:null))})),o)))}recalculateAndSaveOverlays(e,t){const n=Wd();let r=new ch(((e,t)=>e-t)),i=Gd();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const s=t.get(e);if(null===s)return;let o=n.get(e)||gh.empty();o=i.applyToLocalView(s,o),n.set(e,o);const a=(r.get(i.batchId)||Gd()).add(e);r=r.insert(i.batchId,a)}))})).next((()=>{const s=[],o=r.getReverseIterator();for(;o.hasNext();){const r=o.getNext(),a=r.key,l=r.value,u=qd();l.forEach((e=>{if(!i.has(e)){const r=vf(t.get(e),n.get(e));null!==r&&u.set(e,r),i=i.add(e)}})),s.push(this.documentOverlayCache.saveOverlays(e,a,u))}return Wc.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return Lc.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Cd(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Wc.resolve(Bd());let o=-1,a=i;return s.next((t=>Wc.forEach(t,((t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),i.get(t)?Wc.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,a,t,Gd()))).next((e=>({batchId:o,changes:zd(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Lc(t)).next((e=>{let t=Vd();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let s=Vd();return this.indexManager.getCollectionParents(e,i).next((o=>Wc.forEach(o,(o=>{const a=function(e,t){return new _d(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next((e=>{e.forEach(((e,t)=>{s=s.insert(e,t)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Hh.newInvalidDocument(r)))}));let n=Vd();return e.forEach(((e,r)=>{const s=i.get(e);void 0!==s&&_f(s.mutation,r,gh.empty(),Nc.now()),Pd(t,r)&&(n=n.insert(e,r))})),n}))}}class Bp{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,t){return Wc.resolve(this.cr.get(t))}saveBundleMetadata(e,t){return this.cr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:ap(e.createTime)}}(t)),Wc.resolve()}getNamedQuery(e,t){return Wc.resolve(this.lr.get(t))}saveNamedQuery(e,t){return this.lr.set(t.name,function(e){return{name:e.name,query:Op(e.bundledQuery),readTime:ap(e.readTime)}}(t)),Wc.resolve()}}class qp{constructor(){this.overlays=new ch(Lc.comparator),this.hr=new Map}getOverlay(e,t){return Wc.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Bd();return Wc.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.ht(e,t,r)})),Wc.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.hr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.hr.delete(n)),Wc.resolve()}getOverlaysForCollection(e,t,n){const r=Bd(),i=t.length+1,s=new Lc(t.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const e=o.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Wc.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new ch(((e,t)=>e-t));const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Bd(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const o=Bd(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>o.set(e,t))),!(o.size()>=r)););return Wc.resolve(o)}ht(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.hr.get(r.largestBatchId).delete(n.key);this.hr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Af(t,n));let i=this.hr.get(t);void 0===i&&(i=Gd(),this.hr.set(t,i)),this.hr.set(t,i.add(n.key))}}class Wp{constructor(){this.Pr=new fh(Hp.Ir),this.Tr=new fh(Hp.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,t){const n=new Hp(e,t);this.Pr=this.Pr.add(n),this.Tr=this.Tr.add(n)}dr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Ar(new Hp(e,t))}Rr(e,t){e.forEach((e=>this.removeReference(e,t)))}Vr(e){const t=new Lc(new Pc([])),n=new Hp(t,e),r=new Hp(t,e+1),i=[];return this.Tr.forEachInRange([n,r],(e=>{this.Ar(e),i.push(e.key)})),i}mr(){this.Pr.forEach((e=>this.Ar(e)))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const t=new Lc(new Pc([])),n=new Hp(t,e),r=new Hp(t,e+1);let i=Gd();return this.Tr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new Hp(e,0),n=this.Pr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Hp{constructor(e,t){this.key=e,this.pr=t}static Ir(e,t){return Lc.comparator(e.key,t.key)||Ic(e.pr,t.pr)}static Er(e,t){return Ic(e.pr,t.pr)||Lc.comparator(e.key,t.key)}}class Kp{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.yr=1,this.wr=new fh(Hp.Ir)}checkEmpty(e){return Wc.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Nf(i,t,n,r);this.mutationQueue.push(s);for(const o of r)this.wr=this.wr.add(new Hp(o.key,i)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return Wc.resolve(s)}lookupMutationBatch(e,t){return Wc.resolve(this.Sr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.br(n),i=r<0?0:r;return Wc.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Wc.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return Wc.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Hp(t,0),r=new Hp(t,Number.POSITIVE_INFINITY),i=[];return this.wr.forEachInRange([n,r],(e=>{const t=this.Sr(e.pr);i.push(t)})),Wc.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new fh(Ic);return t.forEach((e=>{const t=new Hp(e,0),r=new Hp(e,Number.POSITIVE_INFINITY);this.wr.forEachInRange([t,r],(e=>{n=n.add(e.pr)}))})),Wc.resolve(this.Dr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Lc.isDocumentKey(i)||(i=i.child(""));const s=new Hp(new Lc(i),0);let o=new fh(Ic);return this.wr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.pr)),!0)}),s),Wc.resolve(this.Dr(o))}Dr(e){const t=[];return e.forEach((e=>{const n=this.Sr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){dc(0===this.Cr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.wr;return Wc.forEach(t.mutations,(r=>{const i=new Hp(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.wr=n}))}Mn(e){}containsKey(e,t){const n=new Hp(t,0),r=this.wr.firstAfterOrEqual(n);return Wc.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Wc.resolve()}Cr(e,t){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){const t=this.br(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Gp{constructor(e){this.vr=e,this.docs=new ch(Lc.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.vr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Wc.resolve(n?n.document.mutableCopy():Hh.newInvalidDocument(t))}getEntries(e,t){let n=jd();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Hh.newInvalidDocument(e))})),Wc.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=jd();const s=t.path,o=new Lc(s.child("")),a=this.docs.getIteratorFrom(o);for(;a.hasNext();){const{key:e,value:{document:o}}=a.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||Vc(jc(o),n)<=0||(r.has(o.key)||Pd(t,o))&&(i=i.insert(o.key,o.mutableCopy()))}return Wc.resolve(i)}getAllFromCollectionGroup(e,t,n,r){hc()}Fr(e,t){return Wc.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new Qp(this)}getSize(e){return Wc.resolve(this.size)}}class Qp extends Up{constructor(e){super(),this.ar=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.ar.addEntry(e,r)):this.ar.removeEntry(n)})),Wc.waitFor(t)}getFromCache(e,t){return this.ar.getEntry(e,t)}getAllFromCache(e,t){return this.ar.getEntries(e,t)}}class Yp{constructor(e){this.persistence=e,this.Mr=new Md((e=>md(e)),vd),this.lastRemoteSnapshotVersion=Rc.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Wp,this.targetCount=0,this.Br=jp.Nn()}forEachTarget(e,t){return this.Mr.forEach(((e,n)=>t(n))),Wc.resolve()}getLastRemoteSnapshotVersion(e){return Wc.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Wc.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),Wc.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Or&&(this.Or=t),Wc.resolve()}qn(e){this.Mr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Br=new jp(t),this.highestTargetId=t),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,t){return this.qn(t),this.targetCount+=1,Wc.resolve()}updateTargetData(e,t){return this.qn(t),Wc.resolve()}removeTargetData(e,t){return this.Mr.delete(t.target),this.Nr.Vr(t.targetId),this.targetCount-=1,Wc.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Mr.forEach(((s,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.Mr.delete(s),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)})),Wc.waitFor(i).next((()=>r))}getTargetCount(e){return Wc.resolve(this.targetCount)}getTargetData(e,t){const n=this.Mr.get(t)||null;return Wc.resolve(n)}addMatchingKeys(e,t,n){return this.Nr.dr(t,n),Wc.resolve()}removeMatchingKeys(e,t,n){this.Nr.Rr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),Wc.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Nr.Vr(t),Wc.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Nr.gr(t);return Wc.resolve(n)}containsKey(e,t){return Wc.resolve(this.Nr.containsKey(t))}}class $p{constructor(e,t){this.Lr={},this.overlays={},this.kr=new eh(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new Yp(this),this.indexManager=new Lp,this.remoteDocumentCache=function(e){return new Gp(e)}((e=>this.referenceDelegate.Kr(e))),this.serializer=new Pp(t),this.$r=new Bp(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new qp,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Lr[e.toKey()];return n||(n=new Kp(t,this.referenceDelegate),this.Lr[e.toKey()]=n),n}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,t,n){ac("MemoryPersistence","Starting transaction:",e);const r=new Xp(this.kr.next());return this.referenceDelegate.Ur(),n(r).next((e=>this.referenceDelegate.Wr(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Gr(e,t){return Wc.or(Object.values(this.Lr).map((n=>()=>n.containsKey(e,t))))}}class Xp extends Bc{constructor(e){super(),this.currentSequenceNumber=e}}class Jp{constructor(e){this.persistence=e,this.zr=new Wp,this.jr=null}static Hr(e){return new Jp(e)}get Jr(){if(this.jr)return this.jr;throw hc()}addReference(e,t,n){return this.zr.addReference(n,t),this.Jr.delete(n.toString()),Wc.resolve()}removeReference(e,t,n){return this.zr.removeReference(n,t),this.Jr.add(n.toString()),Wc.resolve()}markPotentiallyOrphaned(e,t){return this.Jr.add(t.toString()),Wc.resolve()}removeTarget(e,t){this.zr.Vr(t.targetId).forEach((e=>this.Jr.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Jr.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Ur(){this.jr=new Set}Wr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Wc.forEach(this.Jr,(n=>{const r=Lc.fromPath(n);return this.Yr(e,r).next((e=>{e||t.removeEntry(r,Rc.min())}))})).next((()=>(this.jr=null,t.apply(e))))}updateLimboDocument(e,t){return this.Yr(e,t).next((e=>{e?this.Jr.delete(t.toString()):this.Jr.add(t.toString())}))}Kr(e){return 0}Yr(e,t){return Wc.or([()=>Wc.resolve(this.zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gr(e,t)])}}class Zp{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.qi=n,this.Qi=r}static Ki(e,t){let n=Gd(),r=Gd();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Zp(e,t.fromCache,n,r)}}class eg{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class tg{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=A()?8:Kc.v(k())>0?6:4}initialize(e,t){this.zi=e,this.indexManager=t,this.$i=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.ji(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.Hi(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new eg;return this.Ji(e,t,n).next((r=>{if(i.result=r,this.Ui)return this.Yi(e,t,n,r.size)}))})).next((()=>i.result))}Yi(e,t,n,r){return n.documentReadCount<this.Wi?(oc()<=he.DEBUG&&ac("QueryEngine","SDK will not create cache indexes for query:",Ad(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),Wc.resolve()):(oc()<=he.DEBUG&&ac("QueryEngine","Query:",Ad(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Gi*r?(oc()<=he.DEBUG&&ac("QueryEngine","The SDK decides to create cache indexes for query:",Ad(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Td(t))):Wc.resolve())}ji(e,t){if(Ed(t))return Wc.resolve(null);let n=Td(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=xd(t,null,"F"),n=Td(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=Gd(...r);return this.zi.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const s=this.Zi(t,r);return this.Xi(t,s,i,n.readTime)?this.ji(e,xd(t,null,"F")):this.es(e,s,t,n)}))))})))))}Hi(e,t,n,r){return Ed(t)||r.isEqual(Rc.min())?Wc.resolve(null):this.zi.getDocuments(e,n).next((i=>{const s=this.Zi(t,i);return this.Xi(t,s,n,r)?Wc.resolve(null):(oc()<=he.DEBUG&&ac("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Ad(t)),this.es(e,s,t,Fc(r,-1)).next((e=>e)))}))}Zi(e,t){let n=new fh(Dd(e));return t.forEach(((t,r)=>{Pd(e,r)&&(n=n.add(r))})),n}Xi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ji(e,t,n){return oc()<=he.DEBUG&&ac("QueryEngine","Using full collection scan to execute query:",Ad(t)),this.zi.getDocumentsMatchingQuery(e,t,Uc.min(),n)}es(e,t,n,r){return this.zi.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class ng{constructor(e,t,n,r){this.persistence=e,this.ts=t,this.serializer=r,this.ns=new ch(Ic),this.rs=new Md((e=>md(e)),vd),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(n)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new zp(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.ns)))}}function rg(e,t,n,r){return new ng(e,t,n,r)}async function ig(e,t){const n=fc(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n._s(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],s=[];let o=Gd();for(const e of r){i.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next((e=>({us:e,removedBatchIds:i,addedBatchIds:s})))}))}))}function sg(e){const t=fc(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Qr.getLastRemoteSnapshotVersion(e)))}function og(e,t,n){let r=Gd(),i=Gd();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=jd();return n.forEach(((n,s)=>{const o=e.get(n);s.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(Rc.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!o.isValidDocument()||s.version.compareTo(o.version)>0||0===s.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):ac("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",s.version)})),{cs:r,ls:i}}))}function ag(e,t){const n=fc(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function lg(e,t){const n=fc(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Qr.getTargetData(e,t).next((i=>i?(r=i,Wc.resolve(r)):n.Qr.allocateTargetId(e).next((i=>(r=new Ap(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Qr.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.ns.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ns=n.ns.insert(e.targetId,e),n.rs.set(t,e.targetId)),e}))}async function ug(e,t,n){const r=fc(e),i=r.ns.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!Yc(e))throw e;ac("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.ns=r.ns.remove(t),r.rs.delete(i.target)}function cg(e,t,n){const r=fc(e);let i=Rc.min(),s=Gd();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=fc(e),i=r.rs.get(n);return void 0!==i?Wc.resolve(r.ns.get(i)):r.Qr.getTargetData(t,n)}(r,e,Td(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(e,t.targetId).next((e=>{s=e}))})).next((()=>r.ts.getDocumentsMatchingQuery(e,t,n?i:Rc.min(),n?s:Gd()))).next((e=>(hg(r,Od(t),e),{documents:e,hs:s})))))}function hg(e,t,n){let r=e.ss.get(t)||Rc.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.ss.set(t,r)}class dg{constructor(){this.activeTargetIds=Yd()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class fg{constructor(){this.no=new dg,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,t,n){this.ro[e]=t}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new dg,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class pg{io(e){}shutdown(){}}class gg{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){ac("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){ac("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let mg=null;function vg(){return null===mg?mg=268435456+Math.round(2147483648*Math.random()):mg++,"0x"+mg.toString(16)}const yg={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class _g{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}const wg="WebChannelConnection";class bg extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.fo=t+"://"+e.host,this.po="projects/".concat(n,"/databases/").concat(r),this.yo="(default)"===this.databaseId.database?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}get wo(){return!1}So(e,t,n,r,i){const s=vg(),o=this.bo(e,t.toUriEncodedString());ac("RestConnection","Sending RPC '".concat(e,"' ").concat(s,":"),o,n);const a={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(a,r,i),this.Co(e,o,a,n).then((t=>(ac("RestConnection","Received RPC '".concat(e,"' ").concat(s,": "),t),t)),(t=>{throw uc("RestConnection","RPC '".concat(e,"' ").concat(s," failed with error: "),t,"url: ",o,"request:",n),t}))}vo(e,t,n,r,i,s){return this.So(e,t,n,r,i)}Do(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+ic,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}bo(e,t){const n=yg[e];return"".concat(this.fo,"/v1/").concat(t,":").concat(n)}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,t,n,r){const i=vg();return new Promise(((s,o)=>{const a=new Zu;a.setWithCredentials(!0),a.listenOnce(Yu.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case Qu.NO_ERROR:const t=a.getResponseJson();ac(wg,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),s(t);break;case Qu.TIMEOUT:ac(wg,"RPC '".concat(e,"' ").concat(i," timed out")),o(new gc(pc.DEADLINE_EXCEEDED,"Request time out"));break;case Qu.HTTP_ERROR:const n=a.getStatus();if(ac(wg,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(pc).indexOf(t)>=0?t:pc.UNKNOWN}(t.status);o(new gc(e,t.message))}else o(new gc(pc.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new gc(pc.UNAVAILABLE,"Connection failed."));break;default:hc()}}finally{ac(wg,"RPC '".concat(e,"' ").concat(i," completed."))}}));const l=JSON.stringify(r);ac(wg,"RPC '".concat(e,"' ").concat(i," sending request:"),r),a.send(t,"POST",l,n,15)}))}Fo(e,t,n){const r=vg(),i=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Ku(),o=Gu(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.useFetchStreams=!0),this.Do(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const u=i.join("");ac(wg,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(u),a);const c=s.createWebChannel(u,a);let h=!1,d=!1;const f=new _g({lo:t=>{d?ac(wg,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(h||(ac(wg,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),c.open(),h=!0),ac(wg,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),c.send(t))},ho:()=>c.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(c,Ju.EventType.OPEN,(()=>{d||ac(wg,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),p(c,Ju.EventType.CLOSE,(()=>{d||(d=!0,ac(wg,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.Vo())})),p(c,Ju.EventType.ERROR,(t=>{d||(d=!0,uc(wg,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),f.Vo(new gc(pc.UNAVAILABLE,"The operation could not be completed")))})),p(c,Ju.EventType.MESSAGE,(t=>{var n;if(!d){const i=t.data[0];dc(!!i);const s=i,o=s.error||(null===(n=s[0])||void 0===n?void 0:n.error);if(o){ac(wg,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);const t=o.status;let n=function(e){const t=Of[e];if(void 0!==t)return Mf(t)}(t),i=o.message;void 0===n&&(n=pc.INTERNAL,i="Unknown error status: "+t+" with message "+o.message),d=!0,f.Vo(new gc(n,i)),c.close()}else ac(wg,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f.mo(i)}})),p(o,$u.STAT_EVENT,(t=>{t.stat===Xu.PROXY?ac(wg,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===Xu.NOPROXY&&ac(wg,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((()=>{f.Ro()}),0),f}}function Eg(){return"undefined"!=typeof document?document:null}function Cg(e){return new np(e,!0)}class Sg{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.oi=e,this.timerId=t,this.Mo=n,this.xo=r,this.Oo=i,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const t=Math.floor(this.No+this.Qo()),n=Math.max(0,Date.now()-this.Lo),r=Math.max(0,t-n);r>0&&ac("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.No," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.Bo=this.oi.enqueueAfterDelay(this.timerId,r,(()=>(this.Lo=Date.now(),e()))),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){null!==this.Bo&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){null!==this.Bo&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}class Tg{constructor(e,t,n,r,i,s,o,a){this.oi=e,this.$o=n,this.Uo=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new Sg(e,t)}Ho(){return 1===this.state||5===this.state||this.Jo()}Jo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&null===this.Go&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,(()=>this.e_())))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,t){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,4!==e?this.jo.reset():t&&t.code===pc.RESOURCE_EXHAUSTED?(lc(t.toString()),lc("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):t&&t.code===pc.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(t)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),t=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.Wo===t&&this.o_(n,r)}),(t=>{e((()=>{const e=new gc(pc.UNKNOWN,"Fetching auth token failed: "+t.message);return this.__(e)}))}))}o_(e,t){const n=this.s_(this.Wo);this.stream=this.a_(e,t),this.stream.Po((()=>{n((()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,(()=>(this.Jo()&&(this.state=3),Promise.resolve()))),this.listener.Po())))})),this.stream.To((e=>{n((()=>this.__(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}Yo(){this.state=5,this.jo.qo((async()=>{this.state=0,this.start()}))}__(e){return ac("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}s_(e){return t=>{this.oi.enqueueAndForget((()=>this.Wo===e?t():(ac("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class kg extends Tg{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}a_(e,t){return this.connection.Fo("Listen",e,t)}onMessage(e){this.jo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:hc()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(dc(void 0===t||"string"==typeof t),vh.fromBase64String(t||"")):(dc(void 0===t||t instanceof Uint8Array),vh.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(e){const t=void 0===e.code?pc.UNKNOWN:Mf(e.code);return new gc(t,e.message||"")}(o);n=new Qf(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=dp(e,r.document.name),s=ap(r.document.updateTime),o=r.document.createTime?ap(r.document.createTime):Rc.min(),a=new qh({mapValue:{fields:r.document.fields}}),l=Hh.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Kf(u,c,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=dp(e,r.document),s=r.readTime?ap(r.readTime):Rc.min(),o=Hh.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Kf([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=dp(e,r.document),s=r.removedTargetIds||[];n=new Kf([],s,i,null)}else{if(!("filter"in t))return hc();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new Pf(r,i),o=e.targetId;n=new Gf(o,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Rc.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Rc.min():t.readTime?ap(t.readTime):Rc.min()}(e);return this.listener.u_(t,n)}c_(e){const t={};t.database=gp(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=yd(r)?{documents:_p(e,r)}:{query:wp(e,r).ut},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=sp(e,t.resumeToken);const r=rp(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Rc.min())>0){n.readTime=ip(e,t.snapshotVersion.toTimestamp());const r=rp(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return hc()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.t_(t)}l_(e){const t={};t.database=gp(this.serializer),t.removeTarget=e,this.t_(t)}}class Ig extends Tg{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,t){return this.connection.Fo("Write",e,t)}onMessage(e){if(dc(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const t=function(e,t){return e&&e.length>0?(dc(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?ap(e.updateTime):ap(t);return n.isEqual(Rc.min())&&(n=ap(t)),new ff(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=ap(e.commitTime);return this.listener.T_(n,t)}return dc(!e.writeResults||0===e.writeResults.length),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=gp(this.serializer),this.t_(e)}I_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>yp(this.serializer,e)))};this.t_(t)}}class xg extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.A_=!1}R_(){if(this.A_)throw new gc(pc.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,n,r){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[s,o]=i;return this.connection.So(e,up(t,n),r,s,o)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===pc.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new gc(pc.UNKNOWN,e.toString())}))}vo(e,t,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((s=>{let[o,a]=s;return this.connection.vo(e,up(t,n),r,o,a,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===pc.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new gc(pc.UNKNOWN,e.toString())}))}terminate(){this.A_=!0,this.connection.terminate()}}class Ng{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){0===this.m_&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve()))))}S_(e){"Online"===this.state?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.y_("Offline")))}set(e){this.b_(),this.m_=0,"Online"===e&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.g_?(lc(t),this.g_=!1):ac("OnlineStateTracker",t)}b_(){null!==this.f_&&(this.f_.cancel(),this.f_=null)}}class Rg{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=i,this.M_.io((e=>{n.enqueueAndForget((async()=>{Ug(this)&&(ac("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=fc(e);t.v_.add(4),await Pg(t),t.x_.set("Unknown"),t.v_.delete(4),await Ag(t)}(this))}))})),this.x_=new Ng(n,r)}}async function Ag(e){if(Ug(e))for(const t of e.F_)await t(!0)}async function Pg(e){for(const t of e.F_)await t(!1)}function Og(e,t){const n=fc(e);n.C_.has(t.targetId)||(n.C_.set(t.targetId,t),jg(n)?Fg(n):rm(n).Jo()&&Lg(n,t))}function Dg(e,t){const n=fc(e),r=rm(n);n.C_.delete(t),r.Jo()&&Mg(n,t),0===n.C_.size&&(r.Jo()?r.Xo():Ug(n)&&n.x_.set("Unknown"))}function Lg(e,t){if(e.O_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Rc.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}rm(e).c_(t)}function Mg(e,t){e.O_.Oe(t),rm(e).l_(t)}function Fg(e){e.O_=new $f({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>e.C_.get(t)||null,nt:()=>e.datastore.serializer.databaseId}),rm(e).start(),e.x_.p_()}function jg(e){return Ug(e)&&!rm(e).Ho()&&e.C_.size>0}function Ug(e){return 0===fc(e).v_.size}function Vg(e){e.O_=void 0}async function zg(e){e.C_.forEach(((t,n)=>{Lg(e,t)}))}async function Bg(e,t){Vg(e),jg(e)?(e.x_.S_(t),Fg(e)):e.x_.set("Unknown")}async function qg(e,t,n){if(e.x_.set("Online"),t instanceof Qf&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.C_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.C_.delete(r),e.O_.removeTarget(r))}(e,t)}catch(n){ac("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Wg(e,n)}else if(t instanceof Kf?e.O_.$e(t):t instanceof Gf?e.O_.Je(t):e.O_.Ge(t),!n.isEqual(Rc.min()))try{const t=await sg(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.O_.it(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.C_.get(r);i&&e.C_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.C_.get(t);if(!r)return;e.C_.set(t,r.withResumeToken(vh.EMPTY_BYTE_STRING,r.snapshotVersion)),Mg(e,t);const i=new Ap(r.target,t,n,r.sequenceNumber);Lg(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){ac("RemoteStore","Failed to raise snapshot:",t),await Wg(e,t)}}async function Wg(e,t,n){if(!Yc(t))throw t;e.v_.add(1),await Pg(e),e.x_.set("Offline"),n||(n=()=>sg(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{ac("RemoteStore","Retrying IndexedDB access"),await n(),e.v_.delete(1),await Ag(e)}))}function Hg(e,t){return t().catch((n=>Wg(e,n,t)))}async function Kg(e){const t=fc(e),n=im(t);let r=t.D_.length>0?t.D_[t.D_.length-1].batchId:-1;for(;Gg(t);)try{const e=await ag(t.localStore,r);if(null===e){0===t.D_.length&&n.Xo();break}r=e.batchId,Qg(t,e)}catch(e){await Wg(t,e)}Yg(t)&&$g(t)}function Gg(e){return Ug(e)&&e.D_.length<10}function Qg(e,t){e.D_.push(t);const n=im(e);n.Jo()&&n.P_&&n.I_(t.mutations)}function Yg(e){return Ug(e)&&!im(e).Ho()&&e.D_.length>0}function $g(e){im(e).start()}async function Xg(e){im(e).d_()}async function Jg(e){const t=im(e);for(const n of e.D_)t.I_(n.mutations)}async function Zg(e,t,n){const r=e.D_.shift(),i=Rf.from(r,t,n);await Hg(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await Kg(e)}async function em(e,t){t&&im(e).P_&&await async function(e,t){if(function(e){return Lf(e)&&e!==pc.ABORTED}(t.code)){const n=e.D_.shift();im(e).Zo(),await Hg(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await Kg(e)}}(e,t),Yg(e)&&$g(e)}async function tm(e,t){const n=fc(e);n.asyncQueue.verifyOperationInProgress(),ac("RemoteStore","RemoteStore received new credentials");const r=Ug(n);n.v_.add(3),await Pg(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.v_.delete(3),await Ag(n)}async function nm(e,t){const n=fc(e);t?(n.v_.delete(2),await Ag(n)):t||(n.v_.add(2),await Pg(n),n.x_.set("Unknown"))}function rm(e){return e.N_||(e.N_=function(e,t,n){const r=fc(e);return r.R_(),new kg(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Po:zg.bind(null,e),To:Bg.bind(null,e),u_:qg.bind(null,e)}),e.F_.push((async t=>{t?(e.N_.Zo(),jg(e)?Fg(e):e.x_.set("Unknown")):(await e.N_.stop(),Vg(e))}))),e.N_}function im(e){return e.B_||(e.B_=function(e,t,n){const r=fc(e);return r.R_(),new Ig(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Po:Xg.bind(null,e),To:em.bind(null,e),E_:Jg.bind(null,e),T_:Zg.bind(null,e)}),e.F_.push((async t=>{t?(e.B_.Zo(),await Kg(e)):(await e.B_.stop(),e.D_.length>0&&(ac("RemoteStore","Stopping write stream with ".concat(e.D_.length," pending writes")),e.D_=[]))}))),e.B_}class sm{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new mc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,o=new sm(e,t,s,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new gc(pc.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function om(e,t){if(lc("AsyncQueue","".concat(t,": ").concat(e)),Yc(e))return new gc(pc.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class am{constructor(e){this.comparator=e?(t,n)=>e(t,n)||Lc.comparator(t.key,n.key):(e,t)=>Lc.comparator(e.key,t.key),this.keyedMap=Vd(),this.sortedSet=new ch(this.comparator)}static emptySet(e){return new am(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof am))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new am;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class lm{constructor(){this.L_=new ch(Lc.comparator)}track(e){const t=e.doc.key,n=this.L_.get(t);n?0!==e.type&&3===n.type?this.L_=this.L_.insert(t,e):3===e.type&&1!==n.type?this.L_=this.L_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.L_=this.L_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.L_=this.L_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.L_=this.L_.remove(t):1===e.type&&2===n.type?this.L_=this.L_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.L_=this.L_.insert(t,{type:2,doc:e.doc}):hc():this.L_=this.L_.insert(t,e)}k_(){const e=[];return this.L_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class um{constructor(e,t,n,r,i,s,o,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach((e=>{s.push({type:0,doc:e})})),new um(e,t,am.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Nd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class cm{constructor(){this.q_=void 0,this.Q_=[]}}class hm{constructor(){this.queries=new Md((e=>Rd(e)),Nd),this.onlineState="Unknown",this.K_=new Set}}async function dm(e,t){const n=fc(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new cm),i)try{s.q_=await n.onListen(r)}catch(e){const n=om(e,"Initialization of query '".concat(Ad(t.query),"' failed"));return void t.onError(n)}n.queries.set(r,s),s.Q_.push(t),t.U_(n.onlineState),s.q_&&t.W_(s.q_)&&mm(n)}async function fm(e,t){const n=fc(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const e=s.Q_.indexOf(t);e>=0&&(s.Q_.splice(e,1),i=0===s.Q_.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function pm(e,t){const n=fc(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.Q_)e.W_(i)&&(r=!0);t.q_=i}}r&&mm(n)}function gm(e,t,n){const r=fc(e),i=r.queries.get(t);if(i)for(const s of i.Q_)s.onError(n);r.queries.delete(t)}function mm(e){e.K_.forEach((e=>{e.next()}))}class vm{constructor(e,t,n){this.query=e,this.G_=t,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=n||{}}W_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new um(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.z_?this.H_(e)&&(this.G_.next(e),t=!0):this.J_(e,this.onlineState)&&(this.Y_(e),t=!0),this.j_=e,t}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let t=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),t=!0),t}J_(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return(!this.options.Z_||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}H_(e){if(e.docChanges.length>0)return!0;const t=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Y_(e){e=um.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}class ym{constructor(e){this.key=e}}class _m{constructor(e){this.key=e}}class wm{constructor(e,t){this.query=e,this.oa=t,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=Gd(),this.mutatedKeys=Gd(),this.ua=Dd(e),this.ca=new am(this.ua)}get la(){return this.oa}ha(e,t){const n=t?t.Pa:new lm,r=t?t.ca:this.ca;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,o=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const u=r.get(e),c=Pd(this.query,t)?t:null,h=!!u&&this.mutatedKeys.has(u.key),d=!!c&&(c.hasLocalMutations||this.mutatedKeys.has(c.key)&&c.hasCommittedMutations);let f=!1;u&&c?u.data.isEqual(c.data)?h!==d&&(n.track({type:3,doc:c}),f=!0):this.Ia(u,c)||(n.track({type:2,doc:c}),f=!0,(a&&this.ua(c,a)>0||l&&this.ua(c,l)<0)&&(o=!0)):!u&&c?(n.track({type:0,doc:c}),f=!0):u&&!c&&(n.track({type:1,doc:u}),f=!0,(a||l)&&(o=!0)),f&&(c?(s=s.add(c),i=d?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{ca:s,Pa:n,Xi:o,mutatedKeys:i}}Ia(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;const s=e.Pa.k_();s.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return hc()}};return n(e)-n(t)}(e.type,t.type)||this.ua(e.doc,t.doc))),this.Ta(n),r=null!=r&&r;const o=t&&!r?this.Ea():[],a=0===this.aa.size&&this.current&&!r?1:0,l=a!==this._a;return this._a=a,0!==s.length||l?{snapshot:new um(this.query,e.ca,i,s,e.mutatedKeys,0===a,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),da:o}:{da:o}}U_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new lm,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}Ta(e){e&&(e.addedDocuments.forEach((e=>this.oa=this.oa.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.oa=this.oa.delete(e))),this.current=e.current)}Ea(){if(!this.current)return[];const e=this.aa;this.aa=Gd(),this.ca.forEach((e=>{this.Aa(e.key)&&(this.aa=this.aa.add(e.key))}));const t=[];return e.forEach((e=>{this.aa.has(e)||t.push(new _m(e))})),this.aa.forEach((n=>{e.has(n)||t.push(new ym(n))})),t}Ra(e){this.oa=e.hs,this.aa=Gd();const t=this.ha(e.documents);return this.applyChanges(t,!0)}Va(){return um.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,0===this._a,this.hasCachedResults)}}class bm{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Em{constructor(e){this.key=e,this.ma=!1}}class Cm{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.fa={},this.ga=new Md((e=>Rd(e)),Nd),this.pa=new Map,this.ya=new Set,this.wa=new ch(Lc.comparator),this.Sa=new Map,this.ba=new Wp,this.Da={},this.Ca=new Map,this.va=jp.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return!0===this.Fa}}async function Sm(e,t){const n=Bm(e);let r,i;const s=n.ga.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Va();else{const e=await lg(n.localStore,Td(t)),s=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await Tm(n,t,r,"current"===s,e.resumeToken),n.isPrimaryClient&&Og(n.remoteStore,e)}return i}async function Tm(e,t,n,r,i){e.Ma=(t,n,r)=>async function(e,t,n,r){let i=t.view.ha(n);i.Xi&&(i=await cg(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.ha(n,i)})));const s=r&&r.targetChanges.get(t.targetId),o=r&&null!=r.targetMismatches.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,s,o);return Mm(e,t.targetId,a.da),a.snapshot}(e,t,n,r);const s=await cg(e.localStore,t,!0),o=new wm(t,s.hs),a=o.ha(s.documents),l=Hf.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),u=o.applyChanges(a,e.isPrimaryClient,l);Mm(e,n,u.da);const c=new bm(t,n,o);return e.ga.set(t,c),e.pa.has(n)?e.pa.get(n).push(t):e.pa.set(n,[t]),u.snapshot}async function km(e,t){const n=fc(e),r=n.ga.get(t),i=n.pa.get(r.targetId);if(i.length>1)return n.pa.set(r.targetId,i.filter((e=>!Nd(e,t)))),void n.ga.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await ug(n.localStore,r.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(r.targetId),Dg(n.remoteStore,r.targetId),Dm(n,r.targetId)})).catch(qc)):(Dm(n,r.targetId),await ug(n.localStore,r.targetId,!0))}async function Im(e,t){const n=fc(e);try{const e=await function(e,t){const n=fc(e),r=t.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const s=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const o=[];t.targetChanges.forEach(((s,a)=>{const l=i.get(a);if(!l)return;o.push(n.Qr.removeMatchingKeys(e,s.removedDocuments,a).next((()=>n.Qr.addMatchingKeys(e,s.addedDocuments,a))));let u=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?u=u.withResumeToken(vh.EMPTY_BYTE_STRING,Rc.min()).withLastLimboFreeSnapshotVersion(Rc.min()):s.resumeToken.approximateByteSize()>0&&(u=u.withResumeToken(s.resumeToken,r)),i=i.insert(a,u),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,u,s)&&o.push(n.Qr.updateTargetData(e,u))}));let a=jd(),l=Gd();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(og(e,s,t.documentUpdates).next((e=>{a=e.cs,l=e.ls}))),!r.isEqual(Rc.min())){const t=n.Qr.getLastRemoteSnapshotVersion(e).next((t=>n.Qr.setTargetsMetadata(e,e.currentSequenceNumber,r)));o.push(t)}return Wc.waitFor(o).next((()=>s.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,l))).next((()=>a))})).then((e=>(n.ns=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Sa.get(t);r&&(dc(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.ma=!0:e.modifiedDocuments.size>0?dc(r.ma):e.removedDocuments.size>0&&(dc(r.ma),r.ma=!1))})),await Um(n,e,t)}catch(e){await qc(e)}}function xm(e,t,n){const r=fc(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.ga.forEach(((n,r)=>{const i=r.view.U_(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=fc(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.Q_)i.U_(t)&&(r=!0)})),r&&mm(n)}(r.eventManager,t),e.length&&r.fa.u_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Nm(e,t,n){const r=fc(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Sa.get(t),s=i&&i.key;if(s){let e=new ch(Lc.comparator);e=e.insert(s,Hh.newNoDocument(s,Rc.min()));const n=Gd().add(s),i=new Wf(Rc.min(),new Map,new ch(Ic),e,n);await Im(r,i),r.wa=r.wa.remove(s),r.Sa.delete(t),jm(r)}else await ug(r.localStore,t,!1).then((()=>Dm(r,t,n))).catch(qc)}async function Rm(e,t){const n=fc(e),r=t.batch.batchId;try{const e=await function(e,t){const n=fc(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.os.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let o=Wc.resolve();return s.forEach((e=>{o=o.next((()=>r.getEntry(t,e))).next((t=>{const s=n.docVersions.get(e);dc(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Gd();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);Om(n,r,null),Pm(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Um(n,e)}catch(e){await qc(e)}}async function Am(e,t,n){const r=fc(e);try{const e=await function(e,t){const n=fc(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(dc(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);Om(r,t,n),Pm(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Um(r,e)}catch(n){await qc(n)}}function Pm(e,t){(e.Ca.get(t)||[]).forEach((e=>{e.resolve()})),e.Ca.delete(t)}function Om(e,t,n){const r=fc(e);let i=r.Da[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Da[r.currentUser.toKey()]=i}}function Dm(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.pa.get(t))e.ga.delete(r),n&&e.fa.xa(r,n);e.pa.delete(t),e.isPrimaryClient&&e.ba.Vr(t).forEach((t=>{e.ba.containsKey(t)||Lm(e,t)}))}function Lm(e,t){e.ya.delete(t.path.canonicalString());const n=e.wa.get(t);null!==n&&(Dg(e.remoteStore,n),e.wa=e.wa.remove(t),e.Sa.delete(n),jm(e))}function Mm(e,t,n){for(const r of n)r instanceof ym?(e.ba.addReference(r.key,t),Fm(e,r)):r instanceof _m?(ac("SyncEngine","Document no longer in limbo: "+r.key),e.ba.removeReference(r.key,t),e.ba.containsKey(r.key)||Lm(e,r.key)):hc()}function Fm(e,t){const n=t.key,r=n.path.canonicalString();e.wa.get(n)||e.ya.has(r)||(ac("SyncEngine","New document in limbo: "+n),e.ya.add(r),jm(e))}function jm(e){for(;e.ya.size>0&&e.wa.size<e.maxConcurrentLimboResolutions;){const t=e.ya.values().next().value;e.ya.delete(t);const n=new Lc(Pc.fromString(t)),r=e.va.next();e.Sa.set(r,new Em(n)),e.wa=e.wa.insert(n,r),Og(e.remoteStore,new Ap(Td(bd(n.path)),r,"TargetPurposeLimboResolution",eh._e))}}async function Um(e,t,n){const r=fc(e),i=[],s=[],o=[];r.ga.isEmpty()||(r.ga.forEach(((e,a)=>{o.push(r.Ma(a,t,n).then((e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);const t=Zp.Ki(a.targetId,e);s.push(t)}})))})),await Promise.all(o),r.fa.u_(i),await async function(e,t){const n=fc(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>Wc.forEach(t,(t=>Wc.forEach(t.qi,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>Wc.forEach(t.Qi,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!Yc(e))throw e;ac("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.ns.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.ns=n.ns.insert(e,i)}}}(r.localStore,s))}async function Vm(e,t){const n=fc(e);if(!n.currentUser.isEqual(t)){ac("SyncEngine","User change. New user:",t.toKey());const e=await ig(n.localStore,t);n.currentUser=t,function(e,t){e.Ca.forEach((e=>{e.forEach((e=>{e.reject(new gc(pc.CANCELLED,t))}))})),e.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Um(n,e.us)}}function zm(e,t){const n=fc(e),r=n.Sa.get(t);if(r&&r.ma)return Gd().add(r.key);{let e=Gd();const r=n.pa.get(t);if(!r)return e;for(const t of r){const r=n.ga.get(t);e=e.unionWith(r.view.la)}return e}}function Bm(e){const t=fc(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Im.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=zm.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Nm.bind(null,t),t.fa.u_=pm.bind(null,t.eventManager),t.fa.xa=gm.bind(null,t.eventManager),t}function qm(e){const t=fc(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Rm.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Am.bind(null,t),t}class Wm{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Cg(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return rg(this.persistence,new tg,e.initialUser,this.serializer)}createPersistence(e){return new $p(Jp.Hr,this.serializer)}createSharedClientState(e){return new fg}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Hm{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>xm(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Vm.bind(null,this.syncEngine),await nm(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new hm}createDatastore(e){const t=Cg(e.databaseInfo.databaseId),n=function(e){return new bg(e)}(e.databaseInfo);return function(e,t,n,r){return new xg(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new Rg(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>xm(this.syncEngine,e,0)),gg.D()?new gg:new pg)}createSyncEngine(e,t){return function(e,t,n,r,i,s,o){const a=new Cm(e,t,n,r,i,s);return o&&(a.Fa=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e;await async function(e){const t=fc(e);ac("RemoteStore","RemoteStore shutting down."),t.v_.add(5),await Pg(t),t.M_.shutdown(),t.x_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate()}}class Km{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):lc("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class Gm{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=rc.UNAUTHENTICATED,this.clientId=kc.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{ac("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(ac("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new gc(pc.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new mc;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=om(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function Qm(e,t){e.asyncQueue.verifyOperationInProgress(),ac("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await ig(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function Ym(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Xm(e);ac("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>tm(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>tm(t.remoteStore,n))),e._onlineComponents=t}function $m(e){return"FirebaseError"===e.name?e.code===pc.FAILED_PRECONDITION||e.code===pc.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function Xm(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){ac("FirestoreClient","Using user provided OfflineComponentProvider");try{await Qm(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!$m(n))throw n;uc("Error using user provided cache. Falling back to memory cache: "+n),await Qm(e,new Wm)}}else ac("FirestoreClient","Using default OfflineComponentProvider"),await Qm(e,new Wm);return e._offlineComponents}async function Jm(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(ac("FirestoreClient","Using user provided OnlineComponentProvider"),await Ym(e,e._uninitializedComponentsProvider._online)):(ac("FirestoreClient","Using default OnlineComponentProvider"),await Ym(e,new Hm))),e._onlineComponents}function Zm(e){return Jm(e).then((e=>e.syncEngine))}async function ev(e){const t=await Jm(e),n=t.eventManager;return n.onListen=Sm.bind(null,t.syncEngine),n.onUnlisten=km.bind(null,t.syncEngine),n}function tv(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new mc;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new Km({next:n=>{t.enqueueAndForget((()=>fm(e,o))),n.fromCache&&"server"===r.source?i.reject(new gc(pc.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),o=new vm(n,s,{includeMetadataChanges:!0,Z_:!0});return dm(e,o)}(await ev(e),e.asyncQueue,t,n,r))),r.promise}function nv(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const rv=new Map;function iv(e,t,n){if(!n)throw new gc(pc.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function sv(e){if(!Lc.isDocumentKey(e))throw new gc(pc.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function ov(e){if(Lc.isDocumentKey(e))throw new gc(pc.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function av(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":hc()}function lv(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new gc(pc.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=av(e);throw new gc(pc.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}class uv{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new gc(pc.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new gc(pc.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new gc(pc.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=nv(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new gc(pc.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new gc(pc.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new gc(pc.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class cv{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new uv({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new gc(pc.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new gc(pc.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new uv(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new yc;switch(e.type){case"firstParty":return new Ec(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new gc(pc.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=rv.get(e);t&&(ac("ComponentProvider","Removing Datastore"),rv.delete(e),t.terminate())}(this),Promise.resolve()}}class hv{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new hv(this.firestore,e,this._query)}}class dv{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fv(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new dv(this.firestore,e,this._key)}}class fv extends hv{constructor(e,t,n){super(e,t,bd(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new dv(this.firestore,null,new Lc(e))}withConverter(e){return new fv(this.firestore,e,this._path)}}function pv(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=se(e),iv("collection","path",t),e instanceof cv){const n=Pc.fromString(t,...r);return ov(n),new fv(e,null,n)}{if(!(e instanceof dv||e instanceof fv))throw new gc(pc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Pc.fromString(t,...r));return ov(n),new fv(e.firestore,null,n)}}function gv(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=se(e),1===arguments.length&&(t=kc.newId()),iv("doc","path",t),e instanceof cv){const n=Pc.fromString(t,...r);return sv(n),new dv(e,null,new Lc(n))}{if(!(e instanceof dv||e instanceof fv))throw new gc(pc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Pc.fromString(t,...r));return sv(n),new dv(e.firestore,e instanceof fv?e.converter:null,new Lc(n))}}class mv{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new Sg(this,"async_queue_retry"),this._u=()=>{const e=Eg();e&&ac("AsyncQueue","Visibility state changed to "+e.visibilityState),this.jo.Ko()};const e=Eg();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;const t=Eg();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise((()=>{}));const t=new mc;return this.uu((()=>this.tu&&this.su?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.eu.push(e),this.cu())))}async cu(){if(0!==this.eu.length){try{await this.eu[0](),this.eu.shift(),this.jo.reset()}catch(e){if(!Yc(e))throw e;ac("AsyncQueue","Operation failed with retryable error: "+e)}this.eu.length>0&&this.jo.qo((()=>this.cu()))}}uu(e){const t=this.Xa.then((()=>(this.iu=!0,e().catch((e=>{this.ru=e,this.iu=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw lc("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.iu=!1,e))))));return this.Xa=t,t}enqueueAfterDelay(e,t,n){this.au(),this.ou.indexOf(e)>-1&&(t=0);const r=sm.createAndSchedule(this,e,t,n,(e=>this.lu(e)));return this.nu.push(r),r}au(){this.ru&&hc()}verifyOperationInProgress(){}async hu(){let e;do{e=this.Xa,await e}while(e!==this.Xa)}Pu(e){for(const t of this.nu)if(t.timerId===e)return!0;return!1}Iu(e){return this.hu().then((()=>{this.nu.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.nu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.hu()}))}Tu(e){this.ou.push(e)}lu(e){const t=this.nu.indexOf(e);this.nu.splice(t,1)}}class vv extends cv{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new mv,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||_v(this),this._firestoreClient.terminate()}}function yv(e){return e._firestoreClient||_v(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function _v(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new Th(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,nv(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new Gm(e._authCredentials,e._appCheckCredentials,e._queue,s),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}class wv{constructor(e){this._byteString=e}static fromBase64String(e){try{return new wv(vh.fromBase64String(e))}catch(e){throw new gc(pc.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new wv(vh.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class bv{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new gc(pc.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Dc(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ev{constructor(e){this._methodName=e}}class Cv{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new gc(pc.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new gc(pc.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ic(this._lat,e._lat)||Ic(this._long,e._long)}}const Sv=/^__.*__$/;class Tv{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Cf(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ef(e,this.data,t,this.fieldTransforms)}}function kv(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw hc()}}class Iv{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Eu(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(e){return new Iv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Au({path:n,Vu:!1});return r.mu(e),r}fu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Au({path:n,Vu:!1});return r.Eu(),r}gu(e){return this.Au({path:void 0,Vu:!0})}pu(e){return Vv(e,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Eu(){if(this.path)for(let e=0;e<this.path.length;e++)this.mu(this.path.get(e))}mu(e){if(0===e.length)throw this.pu("Document fields must not be empty");if(kv(this.du)&&Sv.test(e))throw this.pu('Document fields cannot begin and end with "__"')}}class xv{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Cg(e)}Su(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Iv({du:e,methodName:t,wu:n,path:Dc.emptyPath(),Vu:!1,yu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Nv(e){const t=e._freezeSettings(),n=Cg(e._databaseId);return new xv(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Rv(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=e.Su(s.merge||s.mergeFields?2:0,t,n,i);Mv("Data must be an object, but it was:",o,r);const a=Dv(r,o);let l,u;if(s.merge)l=new gh(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=Fv(t,r,n);if(!o.contains(i))throw new gc(pc.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));zv(e,i)||e.push(i)}l=new gh(e),u=o.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,u=o.fieldTransforms;return new Tv(new qh(a),l,u)}class Av extends Ev{_toFieldTransform(e){return new df(e.path,new rf)}isEqual(e){return e instanceof Av}}function Pv(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Ov(n,e.Su(r?4:3,t))}function Ov(e,t){if(Lv(e=se(e)))return Mv("Unsupported field value:",t,e),Dv(e,t);if(e instanceof Ev)return function(e,t){if(!kv(t.du))throw t.pu("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.pu("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Vu&&4!==t.du)throw t.pu("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Ov(i,t.gu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=se(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Jd(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Nc.fromDate(e);return{timestampValue:ip(t.serializer,n)}}if(e instanceof Nc){const n=new Nc(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:ip(t.serializer,n)}}if(e instanceof Cv)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof wv)return{bytesValue:sp(t.serializer,e._byteString)};if(e instanceof dv){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.pu("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:lp(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.pu("Unsupported field value: ".concat(av(e)))}(e,t)}function Dv(e,t){const n={};return uh(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):lh(e,((e,r)=>{const i=Ov(r,t.Ru(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Lv(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Nc||e instanceof Cv||e instanceof wv||e instanceof dv||e instanceof Ev)}function Mv(e,t,n){if(!Lv(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=av(n);throw"an object"===r?t.pu(e+" a custom object"):t.pu(e+" "+r)}}function Fv(e,t,n){if((t=se(t))instanceof bv)return t._internalPath;if("string"==typeof t)return Uv(e,t);throw Vv("Field path arguments must be of type string or ",e,!1,void 0,n)}const jv=new RegExp("[~\\*/\\[\\]]");function Uv(e,t,n){if(t.search(jv)>=0)throw Vv("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new bv(...t.split("."))._internalPath}catch(Ys){throw Vv("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Vv(e,t,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a="Function ".concat(t,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=" in field ".concat(r)),o&&(l+=" in document ".concat(i)),l+=")"),new gc(pc.INVALID_ARGUMENT,a+e+l)}function zv(e,t){return e.some((e=>e.isEqual(t)))}class Bv{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new dv(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new qv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Wv("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class qv extends Bv{data(){return super.data()}}function Wv(e,t){return"string"==typeof t?Uv(e,t):t instanceof bv?t._internalPath:t._delegate._internalPath}function Hv(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new gc(pc.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Kv{}class Gv extends Kv{}class Qv extends Gv{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Qv(e,t,n)}_apply(e){const t=this._parse(e);return Xv(e._query,t),new hv(e.firestore,e.converter,Id(e._query,t))}_parse(e){const t=Nv(e.firestore),n=function(e,t,n,r,i,s,o){let a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new gc(pc.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(s,"' queries on documentId()."));if("in"===s||"not-in"===s){$v(o,s);const t=[];for(const n of o)t.push(Yv(r,e,n));a={arrayValue:{values:t}}}else a=Yv(r,e,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||$v(o,s),a=Pv(n,t,o,"in"===s||"not-in"===s);return Jh.create(i,s,a)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function Yv(e,t,n){if("string"==typeof(n=se(n))){if(""===n)throw new gc(pc.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Cd(t)&&-1!==n.indexOf("/"))throw new gc(pc.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(Pc.fromString(n));if(!Lc.isDocumentKey(r))throw new gc(pc.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Lh(e,new Lc(r))}if(n instanceof dv)return Lh(e,n._key);throw new gc(pc.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(av(n),"."))}function $v(e,t){if(!Array.isArray(e)||0===e.length)throw new gc(pc.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function Xv(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new gc(pc.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new gc(pc.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class Jv{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(xh(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wh(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(bh(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw hc()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return lh(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new Cv(wh(e.latitude),wh(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Ch(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Sh(e));default:return null}}convertTimestamp(e){const t=_h(e);return new Nc(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Pc.fromString(e);dc(Rp(n));const r=new kh(n.get(1),n.get(3)),i=new Lc(n.popFirst(5));return r.isEqual(t)||lc("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function Zv(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class ey{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ty extends Bv{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new ny(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(Wv("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class ny extends ty{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class ry{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new ey(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new ny(this._firestore,this._userDataWriter,n.key,n,new ey(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new gc(pc.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new ny(e._firestore,e._userDataWriter,n.doc.key,n.doc,new ey(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new ny(e._firestore,e._userDataWriter,t.doc.key,t.doc,new ey(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:iy(t.type),doc:r,oldIndex:i,newIndex:s}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function iy(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return hc()}}class sy extends Jv{constructor(e){super(),this.firestore=e}convertBytes(e){return new wv(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new dv(this.firestore,null,t)}}function oy(e){e=lv(e,hv);const t=lv(e.firestore,vv),n=yv(t),r=new sy(t);return Hv(e._query),tv(n,e._query).then((n=>new ry(t,r,e,n)))}function ay(e,t){const n=lv(e.firestore,vv),r=gv(e),i=Zv(e.converter,t);return ly(n,[Rv(Nv(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,pf.exists(!1))]).then((()=>r))}function ly(e,t){return function(e,t){const n=new mc;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=qm(e);try{const e=await function(e,t){const n=fc(e),r=Nc.now(),i=t.reduce(((e,t)=>e.add(t.key)),Gd());let s,o;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let a=jd(),l=Gd();return n.os.getEntries(e,i).next((e=>{a=e,a.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,a))).next((i=>{s=i;const o=[];for(const e of t){const t=wf(e,s.get(e.key).overlayedDocument);null!=t&&o.push(new Cf(e.key,t,Wh(t.value.mapValue),pf.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,o,t)})).next((t=>{o=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:o.batchId,changes:zd(s)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Da[e.currentUser.toKey()];r||(r=new ch(Ic)),r=r.insert(t,n),e.Da[e.currentUser.toKey()]=r}(r,e.batchId,n),await Um(r,e.changes),await Kg(r.remoteStore)}catch(e){const t=om(e,"Failed to persist write");n.reject(t)}}(await Zm(e),t,n))),n.promise}(yv(e),t)}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){ic=e}(Ge),qe(new oe("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),o=new vv(new wc(e.getProvider("auth-internal")),new Sc(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new gc(pc.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new kh(e.options.projectId,t)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),$e(nc,"4.4.1",e),$e(nc,"4.4.1","esm2017")}();$e("firebase","10.7.2","app");const uy=(e,t)=>t.some((t=>e instanceof t));let cy,hy;const dy=new WeakMap,fy=new WeakMap,py=new WeakMap,gy=new WeakMap,my=new WeakMap;let vy={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return fy.get(e);if("objectStoreNames"===t)return e.objectStoreNames||py.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return wy(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function yy(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(hy||(hy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(by(this),n),wy(dy.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return wy(e.apply(by(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(by(this),t,...r);return py.set(s,t.sort?t.sort():[t]),wy(s)}}function _y(e){return"function"===typeof e?yy(e):(e instanceof IDBTransaction&&function(e){if(fy.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)}));fy.set(e,t)}(e),uy(e,cy||(cy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,vy):e)}function wy(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(wy(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)}));return t.then((t=>{t instanceof IDBCursor&&dy.set(t,e)})).catch((()=>{})),my.set(t,e),t}(e);if(gy.has(e))return gy.get(e);const t=_y(e);return t!==e&&(gy.set(e,t),my.set(t,e)),t}const by=e=>my.get(e);const Ey=["get","getKey","getAll","getAllKeys","count"],Cy=["put","add","delete","clear"],Sy=new Map;function Ty(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Sy.get(t))return Sy.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Cy.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Ey.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var o=arguments.length,a=new Array(o>1?o-1:0),l=1;l<o;l++)a[l-1]=arguments[l];return r&&(s=s.index(a.shift())),(await Promise.all([s[n](...a),i&&t.done]))[0]};return Sy.set(t,s),s}!function(e){vy=e(vy)}((e=>({...e,get:(t,n,r)=>Ty(t,n)||e.get(t,n,r),has:(t,n)=>!!Ty(t,n)||e.has(t,n)})));const ky="@firebase/installations",Iy="0.6.4",xy=1e4,Ny="w:".concat(Iy),Ry="FIS_v2",Ay="https://firebaseinstallations.googleapis.com/v1",Py=36e5,Oy=new L("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Dy(e){return e instanceof D&&e.code.includes("request-failed")}function Ly(e){let{projectId:t}=e;return"".concat(Ay,"/projects/").concat(t,"/installations")}function My(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function Fy(e,t){const n=(await t.json()).error;return Oy.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function jy(e){let{apiKey:t}=e;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Uy(e,t){let{refreshToken:n}=t;const r=jy(e);return r.append("Authorization",function(e){return"".concat(Ry," ").concat(e)}(n)),r}async function Vy(e){const t=await e();return t.status>=500&&t.status<600?e():t}function zy(e){return new Promise((t=>{setTimeout(t,e)}))}const By=/^[cdef][\w-]{21}$/,qy="";function Wy(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){const t=(n=e,btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_"));var n;return t.substr(0,22)}(e);return By.test(t)?t:qy}catch(e){return qy}}function Hy(e){return"".concat(e.appName,"!").concat(e.appId)}const Ky=new Map;function Gy(e,t){const n=Hy(e);Qy(n,t),function(e,t){const n=$y();n&&n.postMessage({key:e,fid:t});Xy()}(n,t)}function Qy(e,t){const n=Ky.get(e);if(n)for(const r of n)r(t)}let Yy=null;function $y(){return!Yy&&"BroadcastChannel"in self&&(Yy=new BroadcastChannel("[Firebase] FID Change"),Yy.onmessage=e=>{Qy(e.data.key,e.data.fid)}),Yy}function Xy(){0===Ky.size&&Yy&&(Yy.close(),Yy=null)}const Jy="firebase-installations-database",Zy=1,e_="firebase-installations-store";let t_=null;function n_(){return t_||(t_=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=indexedDB.open(e,t),a=wy(o);return r&&o.addEventListener("upgradeneeded",(e=>{r(wy(o.result),e.oldVersion,e.newVersion,wy(o.transaction))})),n&&o.addEventListener("blocked",(()=>n())),a.then((e=>{s&&e.addEventListener("close",(()=>s())),i&&e.addEventListener("versionchange",(()=>i()))})).catch((()=>{})),a}(Jy,Zy,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(e_)}})),t_}async function r_(e,t){const n=Hy(e),r=(await n_()).transaction(e_,"readwrite"),i=r.objectStore(e_),s=await i.get(n);return await i.put(t,n),await r.done,s&&s.fid===t.fid||Gy(e,t.fid),t}async function i_(e){const t=Hy(e),n=(await n_()).transaction(e_,"readwrite");await n.objectStore(e_).delete(t),await n.done}async function s_(e,t){const n=Hy(e),r=(await n_()).transaction(e_,"readwrite"),i=r.objectStore(e_),s=await i.get(n),o=t(s);return void 0===o?await i.delete(n):await i.put(o,n),await r.done,!o||s&&s.fid===o.fid||Gy(e,o.fid),o}async function o_(e){let t;const n=await s_(e.appConfig,(n=>{const r=function(e){const t=e||{fid:Wy(),registrationStatus:0};return u_(t)}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine){return{installationEntry:t,registrationPromise:Promise.reject(Oy.create("app-offline"))}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=async function(e,t){try{const n=await async function(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e,{fid:i}=t;const s=Ly(n),o=jy(n),a=r.getImmediate({optional:!0});if(a){const e=await a.getHeartbeatsHeader();e&&o.append("x-firebase-client",e)}const l={fid:i,authVersion:Ry,appId:n.appId,sdkVersion:Ny},u={method:"POST",headers:o,body:JSON.stringify(l)},c=await Vy((()=>fetch(s,u)));if(c.ok){const e=await c.json();return{fid:e.fid||i,registrationStatus:2,refreshToken:e.refreshToken,authToken:My(e.authToken)}}throw await Fy("Create Installation",c)}(e,t);return r_(e.appConfig,n)}catch(n){throw Dy(n)&&409===n.customData.serverCode?await i_(e.appConfig):await r_(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:a_(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry}));return n.fid===qy?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function a_(e){let t=await l_(e.appConfig);for(;1===t.registrationStatus;)await zy(100),t=await l_(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=await o_(e);return n||t}return t}function l_(e){return s_(e,(e=>{if(!e)throw Oy.create("installation-not-found");return u_(e)}))}function u_(e){return 1===(t=e).registrationStatus&&t.registrationTime+xy<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function c_(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e;const i=function(e,t){let{fid:n}=t;return"".concat(Ly(e),"/").concat(n,"/authTokens:generate")}(n,t),s=Uy(n,t),o=r.getImmediate({optional:!0});if(o){const e=await o.getHeartbeatsHeader();e&&s.append("x-firebase-client",e)}const a={installation:{sdkVersion:Ny,appId:n.appId}},l={method:"POST",headers:s,body:JSON.stringify(a)},u=await Vy((()=>fetch(i,l)));if(u.ok){return My(await u.json())}throw await Fy("Generate Auth Token",u)}async function h_(e){let t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=await s_(e.appConfig,(r=>{if(!f_(r))throw Oy.create("not-registered");const i=r.authToken;if(!n&&function(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+Py}(e)}(i))return r;if(1===i.requestStatus)return t=async function(e,t){let n=await d_(e.appConfig);for(;1===n.authToken.requestStatus;)await zy(100),n=await d_(e.appConfig);const r=n.authToken;return 0===r.requestStatus?h_(e,t):r}(e,n),r;{if(!navigator.onLine)throw Oy.create("app-offline");const n=function(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}(r);return t=async function(e,t){try{const n=await c_(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return await r_(e.appConfig,r),n}catch(n){if(!Dy(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const n=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await r_(e.appConfig,n)}else await i_(e.appConfig);throw n}}(e,n),n}}));return t?await t:r.authToken}function d_(e){return s_(e,(e=>{if(!f_(e))throw Oy.create("not-registered");const t=e.authToken;return 1===(n=t).requestStatus&&n.requestTime+xy<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e;var n}))}function f_(e){return void 0!==e&&2===e.registrationStatus}async function p_(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e;await async function(e){const{registrationPromise:t}=await o_(e);t&&await t}(n);return(await h_(n,t)).token}function g_(e){return Oy.create("missing-app-config-values",{valueName:e})}const m_="installations",v_=e=>{const t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw g_("App Configuration");if(!e.name)throw g_("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw g_(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:We(t,"heartbeat"),_delete:()=>Promise.resolve()}},y_=e=>{const t=We(e.getProvider("app").getImmediate(),m_).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:n,registrationPromise:r}=await o_(t);return r?r.catch(console.error):h_(t).catch(console.error),n.fid}(t),getToken:e=>p_(t,e)}};qe(new oe(m_,v_,"PUBLIC")),qe(new oe("installations-internal",y_,"PRIVATE")),$e(ky,Iy),$e(ky,Iy,"esm2017");const __="analytics",w_="firebase_id",b_="origin",E_=6e4,C_="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",S_="https://www.googletagmanager.com/gtag/js",T_=new me("@firebase/analytics"),k_=new L("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function I_(e){if(!e.startsWith(S_)){const t=k_.create("invalid-gtag-resource",{gtagURL:e});return T_.warn(t.message),""}return e}function x_(e){return Promise.all(e.map((e=>e.catch((e=>e)))))}function N_(e,t){const n=function(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}("firebase-js-sdk-policy",{createScriptURL:I_}),r=document.createElement("script"),i="".concat(S_,"?l=").concat(e,"&id=").concat(t);r.src=n?null===n||void 0===n?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function R_(e,t,n,r){return async function(i){try{for(var s=arguments.length,o=new Array(s>1?s-1:0),a=1;a<s;a++)o[a-1]=arguments[a];if("event"===i){const[r,i]=o;await async function(e,t,n,r,i){try{let s=[];if(i&&i.send_to){let e=i.send_to;Array.isArray(e)||(e=[e]);const r=await x_(n);for(const n of e){const e=r.find((e=>e.measurementId===n)),i=e&&t[e.appId];if(!i){s=[];break}s.push(i)}}0===s.length&&(s=Object.values(t)),await Promise.all(s),e("event",r,i||{})}catch(s){T_.error(s)}}(e,t,n,r,i)}else if("config"===i){const[i,s]=o;await async function(e,t,n,r,i,s){const o=r[i];try{if(o)await t[o];else{const e=(await x_(n)).find((e=>e.measurementId===i));e&&await t[e.appId]}}catch(a){T_.error(a)}e("config",i,s)}(e,t,n,r,i,s)}else if("consent"===i){const[t]=o;e("consent","update",t)}else if("get"===i){const[t,n,r]=o;e("get",t,n,r)}else if("set"===i){const[t]=o;e("set",t)}else e(i,...o)}catch(l){T_.error(l)}}}const A_=30;const P_=new class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function O_(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function D_(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:P_,n=arguments.length>2?arguments[2]:void 0;const{appId:r,apiKey:i,measurementId:s}=e.options;if(!r)throw k_.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw k_.create("no-api-key")}const o=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new M_;return setTimeout((async()=>{a.abort()}),void 0!==n?n:E_),L_({appId:r,apiKey:i,measurementId:s},o,a,t)}async function L_(e,t,n){let{throttleEndTimeMillis:r,backoffCount:i}=t,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:P_;var o;const{appId:a,measurementId:l}=e;try{await function(e,t){return new Promise(((n,r)=>{const i=Math.max(t-Date.now(),0),s=setTimeout(n,i);e.addEventListener((()=>{clearTimeout(s),r(k_.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}(n,r)}catch(u){if(l)return T_.warn("Timed out fetching this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(l)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===u||void 0===u?void 0:u.message,"]")),{appId:a,measurementId:l};throw u}try{const t=await async function(e){var t;const{appId:n,apiKey:r}=e,i={method:"GET",headers:O_(r)},s=C_.replace("{app-id}",n),o=await fetch(s,i);if(200!==o.status&&304!==o.status){let e="";try{const n=await o.json();(null===(t=n.error)||void 0===t?void 0:t.message)&&(e=n.error.message)}catch(a){}throw k_.create("config-fetch-failed",{httpStatus:o.status,responseMessage:e})}return o.json()}(e);return s.deleteThrottleMetadata(a),t}catch(u){const t=u;if(!function(e){if(!(e instanceof D)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(t)){if(s.deleteThrottleMetadata(a),l)return T_.warn("Failed to fetch this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(l)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===t||void 0===t?void 0:t.message,"]")),{appId:a,measurementId:l};throw u}const r=503===Number(null===(o=null===t||void 0===t?void 0:t.customData)||void 0===o?void 0:o.httpStatus)?ie(i,s.intervalMillis,A_):ie(i,s.intervalMillis),c={throttleEndTimeMillis:Date.now()+r,backoffCount:i+1};return s.setThrottleMetadata(a,c),T_.debug("Calling attemptFetch again in ".concat(r," millis")),L_(e,c,n,s)}}class M_{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach((e=>e()))}}let F_,j_;function U_(e){j_=e}function V_(e){F_=e}async function z_(e,t,n,r,i,s,o){var a;const l=D_(e);l.then((t=>{n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&T_.warn("The measurement ID in the local Firebase config (".concat(e.options.measurementId,")")+" does not match the measurement ID fetched from the server (".concat(t.measurementId,").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((e=>T_.error(e))),t.push(l);const u=async function(){if(!P())return T_.warn(k_.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await O()}catch(e){return T_.warn(k_.create("indexeddb-unavailable",{errorInfo:null===e||void 0===e?void 0:e.toString()}).message),!1}return!0}().then((e=>e?r.getId():void 0)),[c,h]=await Promise.all([l,u]);(function(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(S_)&&n.src.includes(e))return n;return null})(s)||N_(s,c.measurementId),j_&&(i("consent","default",j_),U_(void 0)),i("js",new Date);const d=null!==(a=null===o||void 0===o?void 0:o.config)&&void 0!==a?a:{};return d[b_]="firebase",d.update=!0,null!=h&&(d[w_]=h),i("config",c.measurementId,d),F_&&(i("set",F_),V_(void 0)),c.measurementId}class B_{constructor(e){this.app=e}_delete(){return delete q_[this.app.options.appId],Promise.resolve()}}let q_={},W_=[];const H_={};let K_,G_,Q_="dataLayer",Y_="gtag",$_=!1;function X_(){const e=[];if(x()&&e.push("This is a browser extension environment."),"undefined"!==typeof navigator&&navigator.cookieEnabled||e.push("Cookies are not available."),e.length>0){const t=e.map(((e,t)=>"(".concat(t+1,") ").concat(e))).join(" "),n=k_.create("invalid-analytics-context",{errorInfo:t});T_.warn(n.message)}}function J_(e,t,n){X_();const r=e.options.appId;if(!r)throw k_.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw k_.create("no-api-key");T_.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+" measurement ID for this Firebase app. Falling back to the measurement ID ".concat(e.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.')}if(null!=q_[r])throw k_.create("already-exists",{id:r});if(!$_){!function(e){let t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(Q_);const{wrappedGtag:e,gtagCore:t}=function(e,t,n,r,i){let s=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window[r].push(arguments)};return window[i]&&"function"===typeof window[i]&&(s=window[i]),window[i]=R_(s,e,t,n),{gtagCore:s,wrappedGtag:window[i]}}(q_,W_,H_,Q_,Y_);G_=e,K_=t,$_=!0}q_[r]=z_(e,W_,H_,t,K_,Q_,n);return new B_(e)}function Z_(e,t,n,r){e=se(e),async function(e,t,n,r,i){if(i&&i.global)e("event",n,r);else{const i=await t;e("event",n,Object.assign(Object.assign({},r),{send_to:i}))}}(G_,q_[e.app.options.appId],t,n,r).catch((e=>T_.error(e)))}const ew="@firebase/analytics",tw="0.10.0";qe(new oe(__,((e,t)=>{let{options:n}=t;return J_(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n)}),"PUBLIC")),qe(new oe("analytics-internal",(function(e){try{const t=e.getProvider(__).getImmediate();return{logEvent:(e,n,r)=>Z_(t,e,n,r)}}catch(t){throw k_.create("interop-component-reg-failed",{reason:t})}}),"PRIVATE")),$e(ew,tw),$e(ew,tw,"esm2017");const nw=Qe({apiKey:"AIzaSyCGSsG0m6DTU1CgVOUboHugDfgVqD4dmYk",authDomain:"socialmedia-dc07a.firebaseapp.com",projectId:"socialmedia-dc07a",storageBucket:"socialmedia-dc07a.appspot.com",messagingSenderId:"935182961276",appId:"1:935182961276:web:8e816d269152511e3dd7f9",measurementId:"G-7MRED99LXJ",databaseURL:"https://socialmedia-dc07a-default-rtdb.firebaseio.com"}),rw=(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye();e=se(e);const t=We(e,__);t.isInitialized()?t.getImmediate():function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=We(e,__);if(n.isInitialized()){const e=n.getImmediate();if(W(t,n.getOptions()))return e;throw k_.create("already-initialized")}const r=n.initialize({options:t})}(e)}(nw),function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye();const t=We(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=We(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(W(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;gt(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:di,persistence:[Er,sr,ar]}),r=C("authTokenSyncURL");if(r){const e=(i=r,async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>mi)return;const r=null===t||void 0===t?void 0:t.token;vi!==r&&(vi=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){se(e).beforeAuthStateChanged(t,n)}(n,e,(()=>e(n.currentUser))),function(e,t,n,r){se(e).onIdTokenChanged(t,n,r)}(n,(t=>e(t)))}var i;const s=w("auth");return s&&In(n,"http://".concat(s)),n}(nw)),iw=function(e,t){const n="string"==typeof e?e:t||"(default)",r=We("object"==typeof e?e:Ye(),"firestore").getImmediate({identifier:n});if(!r._initialized){const e=b("firestore");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const s=(e=lv(e,cv))._getSettings(),o="".concat(t,":").concat(n);if("firestore.googleapis.com"!==s.host&&s.host!==o&&uc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=rc.MOCK_USER;else{t=T(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new gc(pc.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new rc(s)}e._authCredentials=new _c(new vc(t,n))}}(r,...e)}return r}(nw),sw=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye(),t=arguments.length>1?arguments[1]:void 0;e=se(e);const n=We(e,As).getImmediate({identifier:t}),r=b("storage");return r&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken="string"===typeof i?i:T(i,e.app.options.projectId))}(e,t,n,r)}(n,...r),n}(nw,"gs://socialmedia-dc07a.appspot.com");var ow,aw=n(763),lw=new Uint8Array(16);function uw(){if(!ow&&!(ow="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ow(lw)}const cw=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;const hw=function(e){return"string"===typeof e&&cw.test(e)};for(var dw=[],fw=0;fw<256;++fw)dw.push((fw+256).toString(16).substr(1));const pw=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(dw[e[t+0]]+dw[e[t+1]]+dw[e[t+2]]+dw[e[t+3]]+"-"+dw[e[t+4]]+dw[e[t+5]]+"-"+dw[e[t+6]]+dw[e[t+7]]+"-"+dw[e[t+8]]+dw[e[t+9]]+"-"+dw[e[t+10]]+dw[e[t+11]]+dw[e[t+12]]+dw[e[t+13]]+dw[e[t+14]]+dw[e[t+15]]).toLowerCase();if(!hw(n))throw TypeError("Stringified UUID is invalid");return n};const gw=function(e,t,n){var r=(e=e||{}).random||(e.rng||uw)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return pw(r)},mw="@firebase/database",vw="1.0.2";let yw="";function _w(e){yw=e}class ww{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),j(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:F(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class bw{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return V(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const Ew=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new ww(t)}}catch(t){}return new bw},Cw=Ew("localStorage"),Sw=Ew("sessionStorage"),Tw=new me("@firebase/database"),kw=function(){let e=1;return function(){return e++}}(),Iw=function(e){const t=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){const t=i-55296;r++,l(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(t<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new Y;n.update(t);const r=n.digest();return h.encodeByteArray(r)},xw=function(){let e="";for(let t=0;t<arguments.length;t++){const n=t<0||arguments.length<=t?void 0:arguments[t];Array.isArray(n)||n&&"object"===typeof n&&"number"===typeof n.length?e+=xw.apply(null,n):e+="object"===typeof n?j(n):n,e+=" "}return e};let Nw=null,Rw=!0;const Aw=function(e,t){l(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(Tw.logLevel=he.VERBOSE,Nw=Tw.log.bind(Tw),t&&Sw.set("logging_enabled",!0)):"function"===typeof e?Nw=e:(Nw=null,Sw.remove("logging_enabled"))},Pw=function(){if(!0===Rw&&(Rw=!1,null===Nw&&!0===Sw.get("logging_enabled")&&Aw(!0)),Nw){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=xw.apply(null,t);Nw(r)}},Ow=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Pw(e,...n)}},Dw=function(){const e="FIREBASE INTERNAL ERROR: "+xw(...arguments);Tw.error(e)},Lw=function(){const e="FIREBASE FATAL ERROR: ".concat(xw(...arguments));throw Tw.error(e),new Error(e)},Mw=function(){const e="FIREBASE WARNING: "+xw(...arguments);Tw.warn(e)},Fw=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},jw="[MIN_NAME]",Uw="[MAX_NAME]",Vw=function(e,t){if(e===t)return 0;if(e===jw||t===Uw)return-1;if(t===jw||e===Uw)return 1;{const n=Qw(e),r=Qw(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1}},zw=function(e,t){return e===t?0:e<t?-1:1},Bw=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+j(t))},qw=function(e){if("object"!==typeof e||null===e)return j(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)0!==r&&(n+=","),n+=j(t[r]),n+=":",n+=qw(e[t[r]]);return n+="}",n},Ww=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function Hw(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const Kw=function(e){l(!Fw(e),"Invalid JSON number");const t=1023;let n,r,i,s,o;0===e?(r=0,i=0,n=1/e===-1/0?1:0):(n=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(s=Math.min(Math.floor(Math.log(e)/Math.LN2),t),r=s+t,i=Math.round(e*Math.pow(2,52-s)-Math.pow(2,52))):(r=0,i=Math.round(e/Math.pow(2,-1074))));const a=[];for(o=52;o;o-=1)a.push(i%2?1:0),i=Math.floor(i/2);for(o=11;o;o-=1)a.push(r%2?1:0),r=Math.floor(r/2);a.push(n?1:0),a.reverse();const u=a.join("");let c="";for(o=0;o<64;o+=8){let e=parseInt(u.substr(o,8),2).toString(16);1===e.length&&(e="0"+e),c+=e}return c.toLowerCase()};const Gw=new RegExp("^-?(0*)\\d{1,10}$"),Qw=function(e){if(Gw.test(e)){const t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},Yw=function(e){try{e()}catch(t){setTimeout((()=>{const e=t.stack||"";throw Mw("Exception was thrown by user callback.",e),t}),Math.floor(0))}},$w=function(e,t){const n=setTimeout(e,t);return"number"===typeof n&&"undefined"!==typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"===typeof n&&n.unref&&n.unref(),n};class Xw{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=null===t||void 0===t?void 0:t.getImmediate({optional:!0}),this.appCheck||null===t||void 0===t||t.get().then((e=>this.appCheck=e))}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise(((t,n)=>{setTimeout((()=>{this.appCheck?this.getToken(e).then(t,n):t(null)}),0)}))}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((t=>t.addTokenListener(e)))}notifyForInvalidToken(){Mw('Provided AppCheck credentials for the app named "'.concat(this.appName_,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}class Jw{constructor(e,t,n){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit((e=>this.auth_=e))}getToken(e){return this.auth_?this.auth_.getToken(e).catch((e=>e&&"auth/token-not-initialized"===e.code?(Pw("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e))):new Promise(((t,n)=>{setTimeout((()=>{this.auth_?this.getToken(e).then(t,n):t(null)}),0)}))}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((t=>t.addAuthTokenListener(e)))}removeTokenChangeListener(e){this.authProvider_.get().then((t=>t.removeAuthTokenListener(e)))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Mw(e)}}class Zw{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Zw.OWNER="owner";const eb="5",tb=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,nb="ac",rb="websocket",ib="long_polling";class sb{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",o=arguments.length>6&&void 0!==arguments[6]&&arguments[6],a=arguments.length>7&&void 0!==arguments[7]&&arguments[7];this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=s,this.includeNamespaceInQueryParams=o,this.isUsingEmulator=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Cw.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Cw.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}}function ob(e,t,n){let r;if(l("string"===typeof t,"typeof type must == string"),l("object"===typeof n,"typeof params must == object"),t===rb)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==ib)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);const i=[];return Hw(n,((e,t)=>{i.push(e+"="+t)})),r+i.join("&")}class ab{constructor(){this.counters_={}}incrementCounter(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;V(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return m(this.counters_)}}const lb={},ub={};function cb(e){const t=e.toString();return lb[t]||(lb[t]=new ab),lb[t]}class hb{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const e=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let t=0;t<e.length;++t)e[t]&&Yw((()=>{this.onMessage_(e[t])}));if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const db="start";class fb{constructor(e,t,n,r,i,s,o){this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=s,this.lastSessionId=o,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ow(e),this.stats_=cb(t),this.urlFn=e=>(this.appCheckToken&&(e[nb]=this.appCheckToken),ob(t,ib,e))}open(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new hb(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(R()||"complete"===document.readyState)e();else{let t=!1;const n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(()=>{"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((()=>{if(this.isClosed_)return;this.scriptTagHolder=new pb((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[i,s,o,a,l]=t;if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===db)n.id=s,n.password=o;else{if("close"!==i)throw new Error("Unrecognized command received: "+i);s?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(s,(()=>{n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[i,s]=t;n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,s)}),(()=>{this.onClosed_()}),this.urlFn);const e={};e[db]="t",e.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=this.scriptTagHolder.uniqueCallbackIdentifier),e.v=eb,this.transportSessionId&&(e.s=this.transportSessionId),this.lastSessionId&&(e.ls=this.lastSessionId),this.applicationId&&(e.p=this.applicationId),this.appCheckToken&&(e[nb]=this.appCheckToken),"undefined"!==typeof location&&location.hostname&&tb.test(location.hostname)&&(e.r="f");const t=this.urlFn(e);this.log_("Connecting via long-poll to "+t),this.scriptTagHolder.addTag(t,(()=>{}))}))}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){fb.forceAllow_=!0}static forceDisallow(){fb.forceDisallow_=!0}static isAvailable(){return!R()&&(!!fb.forceAllow_||!fb.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=j(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=f(t),r=Ww(n,1840);for(let i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if(R())return;this.myDisconnFrame=document.createElement("iframe");const n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=j(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class pb{constructor(e,t,n,r){if(this.onDisconnect=n,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,R())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=kw(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=pb.createIFrame_();let n="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)){n='<script>document.domain="'+document.domain+'";<\/script>'}const r="<html><body>"+n+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(r),this.myIFrame.doc.close()}catch(i){Pw("frame writing exception"),i.stack&&Pw(i.stack),Pw(i)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Pw("No IE domain setting required")}catch(t){const n=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout((()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)}),Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),n="",r=0;for(;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;{const e=this.pendingSegs.shift();n=n+"&seg"+r+"="+e.seg+"&ts"+r+"="+e.ts+"&d"+r+"="+e.d,r++}}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const n=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(n,Math.floor(25e3));this.addTag(e,(()=>{clearTimeout(r),n()}))}addTag(e,t){R()?this.doNodeLongPoll(e,t):setTimeout((()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){const e=n.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),t())},n.onerror=()=>{Pw("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch(n){}}),Math.floor(1))}}let gb=null;"undefined"!==typeof MozWebSocket?gb=MozWebSocket:"undefined"!==typeof WebSocket&&(gb=WebSocket);class mb{constructor(e,t,n,r,i,s,o){this.connId=e,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ow(this.connId),this.stats_=cb(t),this.connURL=mb.connectionURL_(t,s,o,r,n),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,n,r,i){const s={};return s.v=eb,!R()&&"undefined"!==typeof location&&location.hostname&&tb.test(location.hostname)&&(s.r="f"),t&&(s.s=t),n&&(s.ls=n),r&&(s[nb]=r),i&&(s.p=i),ob(e,rb,s)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Cw.set("previous_websocket_failure",!0);try{let e;if(R()){const t=this.nodeAdmin?"AdminNode":"Node";e={headers:{"User-Agent":"Firebase/".concat(eb,"/").concat(yw,"/").concat(process.platform,"/").concat(t),"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(e.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(e.headers["X-Firebase-AppCheck"]=this.appCheckToken);const n={NODE_ENV:"production",PUBLIC_URL:"/Hive",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0},r=0===this.connURL.indexOf("wss://")?n.HTTPS_PROXY||n.https_proxy:n.HTTP_PROXY||n.http_proxy;r&&(e.proxy={origin:r})}this.mySock=new gb(this.connURL,[],e)}catch(n){this.log_("Error instantiating WebSocket.");const e=n.message||n.data;return e&&this.log_(e),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=e=>{this.handleIncomingFrame(e)},this.mySock.onerror=e=>{this.log_("WebSocket error.  Closing connection.");const t=e.message||e.data;t&&this.log_(t),this.onClosed_()}}start(){}static forceDisallow(){mb.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!==typeof navigator&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,n=navigator.userAgent.match(t);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==gb&&!mb.forceDisallow_}static previouslyFailed(){return Cw.isInMemoryStorage||!0===Cw.get("previous_websocket_failure")}markConnectionHealthy(){Cw.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const e=this.frames.join("");this.frames=null;const t=F(e);this.onMessage(t)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(l(null===this.frames,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{const e=this.extractFrameCount_(t);null!==e&&this.appendFrame_(e)}}send(e){this.resetKeepAlive();const t=j(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=Ww(t,16384);n.length>1&&this.sendString_(String(n.length));for(let r=0;r<n.length;r++)this.sendString_(n[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()}),Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}mb.responsesRequiredToBeHealthy=2,mb.healthyTimeout=3e4;class vb{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[fb,mb]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const t=mb&&mb.isAvailable();let n=t&&!mb.previouslyFailed();if(e.webSocketOnly&&(t||Mw("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[mb];else{const e=this.transports_=[];for(const t of vb.ALL_TRANSPORTS)t&&t.isAvailable()&&e.push(t);vb.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}vb.globalTransportInitialized_=!1;class yb{constructor(e,t,n,r,i,s,o,a,l,u){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=s,this.onReady_=o,this.onDisconnect_=a,this.onKill_=l,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ow("c:"+this.id+":"),this.transportManager_=new vb(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((()=>{this.conn_&&this.conn_.open(t,n)}),Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=$w((()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))}),Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=Bw("t",e),n=Bw("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=Bw("t",e),n=Bw("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=Bw("t",e);if("d"in e){const n=e.d;if("h"===t){const e=Object.assign({},n);this.repoInfo_.isUsingEmulator&&(e.h=this.repoInfo_.host),this.onHandshake_(e)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let e=0;e<this.pendingDataMessages.length;++e)this.onDataMessage_(this.pendingDataMessages[e]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?Dw("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Dw("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),eb!==n&&Mw("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,n),$w((()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())}),Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):$w((()=>{this.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Cw.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class _b{put(e,t,n,r){}merge(e,t,n,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,n){}onDisconnectMerge(e,t,n){}onDisconnectCancel(e,t){}reportStats(e){}}class wb{constructor(e){this.allowedEvents_=e,this.listeners_={},l(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(let e=0;e<i.length;e++)i[e].callback.apply(i[e].context,n)}}on(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});const r=this.getInitialEvent(e);r&&t.apply(n,r)}off(e,t,n){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}validateEventType_(e){l(this.allowedEvents_.find((t=>t===e)),"Unknown event: "+e)}}class bb extends wb{constructor(){super(["online"]),this.online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||I()||(window.addEventListener("online",(()=>{this.online_||(this.online_=!0,this.trigger("online",!0))}),!1),window.addEventListener("offline",(()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))}),!1))}static getInstance(){return new bb}getInitialEvent(e){return l("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}const Eb=32,Cb=768;class Sb{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let t=0;for(let e=0;e<this.pieces_.length;e++)this.pieces_[e].length>0&&(this.pieces_[t]=this.pieces_[e],t++);this.pieces_.length=t,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function Tb(){return new Sb("")}function kb(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Ib(e){return e.pieces_.length-e.pieceNum_}function xb(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new Sb(e.pieces_,t)}function Nb(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function Rb(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function Ab(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new Sb(t,0)}function Pb(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof Sb)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const e=t.split("/");for(let t=0;t<e.length;t++)e[t].length>0&&n.push(e[t])}return new Sb(n,0)}function Ob(e){return e.pieceNum_>=e.pieces_.length}function Db(e,t){const n=kb(e),r=kb(t);if(null===n)return t;if(n===r)return Db(xb(e),xb(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Lb(e,t){if(Ib(e)!==Ib(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Mb(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(Ib(e)>Ib(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class Fb{constructor(e,t){this.errorPrefix_=t,this.parts_=Rb(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let n=0;n<this.parts_.length;n++)this.byteLength_+=Z(this.parts_[n]);jb(this)}}function jb(e){if(e.byteLength_>Cb)throw new Error(e.errorPrefix_+"has a key path longer than "+Cb+" bytes ("+e.byteLength_+").");if(e.parts_.length>Eb)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Eb+") or object contains a cycle "+Ub(e))}function Ub(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}class Vb extends wb{constructor(){let e,t;super(["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(t="visibilitychange",e="hidden"):"undefined"!==typeof document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):"undefined"!==typeof document.msHidden?(t="msvisibilitychange",e="msHidden"):"undefined"!==typeof document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,(()=>{const t=!document[e];t!==this.visible_&&(this.visible_=t,this.trigger("visible",t))}),!1)}static getInstance(){return new Vb}getInitialEvent(e){return l("visible"===e,"Unknown event type: "+e),[this.visible_]}}const zb=1e3;class Bb extends _b{constructor(e,t,n,r,i,s,o,a){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=n,this.onConnectStatus_=r,this.onServerInfoUpdate_=i,this.authTokenProvider_=s,this.appCheckTokenProvider_=o,this.authOverride_=a,this.id=Bb.nextPersistentConnectionId_++,this.log_=Ow("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=zb,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a&&!R())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Vb.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&bb.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,n){const r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(j(i)),l(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}get(e){this.initConnection_();const t=new S,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:e=>{const n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}listen(e,t,n,r){this.initConnection_();const i=e._queryIdentifier,s=e._path.toString();this.log_("Listen called for "+s+" "+i),this.listens.has(s)||this.listens.set(s,new Map),l(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),l(!this.listens.get(s).has(i),"listen() called twice for same path/queryId.");const o={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(s).set(i,o),this.connected_&&this.sendListen_(o)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,(n=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(n)}))}sendListen_(e){const t=e.query,n=t._path.toString(),r=t._queryIdentifier;this.log_("Listen on "+n+" for "+r);const i={p:n};e.tag&&(i.q=t._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest("q",i,(i=>{const s=i.d,o=i.s;Bb.warnOnListenWarnings_(s,t);(this.listens.get(n)&&this.listens.get(n).get(r))===e&&(this.log_("listen response",i),"ok"!==o&&this.removeListen_(n,r),e.onComplete&&e.onComplete(o,s))}))}static warnOnListenWarnings_(e,t){if(e&&"object"===typeof e&&V(e,"w")){const n=z(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){const e='".indexOn": "'+t._queryParams.getIndex().toString()+'"',n=t._path.toString();Mw("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(e," at ")+"".concat(n," to your security rules for better performance."))}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(()=>{})),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||function(e){const t=U(e).claims;return"object"===typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(()=>{}))}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=function(e){const t=U(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")}(e)?"auth":"gauth",n={cred:e};null===this.authOverride_?n.noauth=!0:"object"===typeof this.authOverride_&&(n.authvar=this.authOverride_),this.sendRequest(t,n,(t=>{const n=t.s,r=t.d||"error";this.authToken_===e&&("ok"===n?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(n,r))}))}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(e=>{const t=e.s,n=e.d||"error";"ok"===t?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,n)}))}unlisten(e,t){const n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),l(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}sendUnlisten_(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);const i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}onDisconnectPut(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}onDisconnectMerge(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,n,r){const i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(e=>{r&&setTimeout((()=>{r(e.s,e.d)}),Math.floor(0))}))}put(e,t,n,r){this.putInternal("p",e,t,n,r)}merge(e,t,n,r){this.putInternal("m",e,t,n,r)}putInternal(e,t,n,r,i){this.initConnection_();const s={p:t,d:n};void 0!==i&&(s.h=i),this.outstandingPuts_.push({action:e,request:s,onComplete:r}),this.outstandingPutCount_++;const o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,n=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,n,(n=>{this.log_(t+" response",n),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),r&&r(n.s,n.d)}))}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,(e=>{if("ok"!==e.s){const t=e.d;this.log_("reportStats","Error sending stats: "+t)}}))}}onDataMessage_(e){if("r"in e){this.log_("from server: "+j(e));const t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):Dw("Unrecognized action received from server: "+j(e)+"\nAre you using the latest client?")}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){l(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((()=>{this.establishConnectionTimer_=null,this.establishConnection_()}),Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=zb,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=zb,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=zb),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+Bb.nextConnectionId_++,i=this.lastSessionId;let s=!1,o=null;const a=function(){o?o.close():(s=!0,n())},u=function(e){l(o,"sendRequest call when we're not connected not allowed."),o.sendRequest(e)};this.realtime_={close:a,sendRequest:u};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[a,l]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);s?Pw("getToken() completed but was canceled"):(Pw("getToken() completed. Creating connection."),this.authToken_=a&&a.accessToken,this.appCheckToken_=l&&l.token,o=new yb(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,n,(e=>{Mw(e+" ("+this.repoInfo_.toString()+")"),this.interrupt("server_kill")}),i))}catch(Dw){this.log_("Failed to get token: "+Dw),s||(this.repoInfo_.nodeAdmin&&Mw(Dw),a())}}}interrupt(e){Pw("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Pw("Resuming connection for reason: "+e),delete this.interruptReasons_[e],B(this.interruptReasons_)&&(this.reconnectDelay_=zb,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let n;n=t?t.map((e=>qw(e))).join("$"):"default";const r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,t){const n=new Sb(e).toString();let r;if(this.listens.has(n)){const e=this.listens.get(n);r=e.get(t),e.delete(t),0===e.size&&this.listens.delete(n)}else r=void 0;return r}onAuthRevoked_(e,t){Pw("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){Pw("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";R()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+yw.replace(/\./g,"-")]=1,I()?e["framework.cordova"]=1:N()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=bb.getInstance().currentlyOnline();return B(this.interruptReasons_)&&e}}Bb.nextPersistentConnectionId_=0,Bb.nextConnectionId_=0;class qb{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new qb(e,t)}}class Wb{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const n=new qb(jw,e),r=new qb(jw,t);return 0!==this.compare(n,r)}minPost(){return qb.MIN}}let Hb;class Kb extends Wb{static get __EMPTY_NODE(){return Hb}static set __EMPTY_NODE(e){Hb=e}compare(e,t){return Vw(e.name,t.name)}isDefinedOn(e){throw u("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return qb.MIN}maxPost(){return new qb(Uw,Hb)}makePost(e,t){return l("string"===typeof e,"KeyIndex indexValue must always be a string."),new qb(e,Hb)}toString(){return".key"}}const Gb=new Kb;class Qb{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(s=t?n(e.key,t):1,r&&(s*=-1),s<0)e=this.isReverse_?e.left:e.right;else{if(0===s){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Yb{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Yb.RED,this.left=null!=r?r:$b.EMPTY_NODE,this.right=null!=i?i:$b.EMPTY_NODE}copy(e,t,n,r,i){return new Yb(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return $b.EMPTY_NODE;let e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let n,r;if(n=this,t(e,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return $b.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Yb.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Yb.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Yb.RED=!0,Yb.BLACK=!1;class $b{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$b.EMPTY_NODE;this.comparator_=e,this.root_=t}insert(e,t){return new $b(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Yb.BLACK,null,null))}remove(e){return new $b(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Yb.BLACK,null,null))}get(e){let t,n=this.root_;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t)return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}getPredecessorKey(e){let t,n=this.root_,r=null;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Qb(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new Qb(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new Qb(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new Qb(this.root_,null,this.comparator_,!0,e)}}function Xb(e,t){return Vw(e.name,t.name)}function Jb(e,t){return Vw(e,t)}let Zb;$b.EMPTY_NODE=new class{copy(e,t,n,r,i){return this}insert(e,t,n){return new Yb(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const eE=function(e){return"number"===typeof e?"number:"+Kw(e):"string:"+e},tE=function(e){if(e.isLeafNode()){const t=e.val();l("string"===typeof t||"number"===typeof t||"object"===typeof t&&V(t,".sv"),"Priority must be a string or number.")}else l(e===Zb||e.isEmpty(),"priority of unexpected type.");l(e===Zb||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let nE,rE,iE;class sE{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:sE.__childrenNodeConstructor.EMPTY_NODE;this.value_=e,this.priorityNode_=t,this.lazyHash_=null,l(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),tE(this.priorityNode_)}static set __childrenNodeConstructor(e){nE=e}static get __childrenNodeConstructor(){return nE}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new sE(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:sE.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Ob(e)?this:".priority"===kb(e)?this.priorityNode_:sE.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return".priority"===e?this.updatePriority(t):t.isEmpty()&&".priority"!==e?this:sE.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const n=kb(e);return null===n?t:t.isEmpty()&&".priority"!==n?this:(l(".priority"!==n||1===Ib(e),".priority must be the last token in a path"),this.updateImmediateChild(n,sE.__childrenNodeConstructor.EMPTY_NODE.updateChild(xb(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+eE(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",e+="number"===t?Kw(this.value_):this.value_,this.lazyHash_=Iw(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===sE.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof sE.__childrenNodeConstructor?-1:(l(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,n=typeof this.value_,r=sE.VALUE_TYPE_ORDER.indexOf(t),i=sE.VALUE_TYPE_ORDER.indexOf(n);return l(r>=0,"Unknown leaf type: "+t),l(i>=0,"Unknown leaf type: "+n),r===i?"object"===n?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}sE.VALUE_TYPE_ORDER=["object","boolean","number","string"];const oE=new class extends Wb{compare(e,t){const n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?Vw(e.name,t.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return qb.MIN}maxPost(){return new qb(Uw,new sE("[PRIORITY-POST]",iE))}makePost(e,t){const n=rE(e);return new qb(t,new sE("[PRIORITY-POST]",n))}toString(){return".priority"}},aE=Math.log(2);class lE{constructor(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/aE,10)),this.current_=this.count-1;const n=(r=this.count,parseInt(Array(r+1).join("1"),2));var r;this.bits_=e+1&n}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const uE=function(e,t,n,r){e.sort(t);const i=function(t,r){const s=r-t;let o,a;if(0===s)return null;if(1===s)return o=e[t],a=n?n(o):o,new Yb(a,o.node,Yb.BLACK,null,null);{const l=parseInt(s/2,10)+t,u=i(t,l),c=i(l+1,r);return o=e[l],a=n?n(o):o,new Yb(a,o.node,Yb.BLACK,u,c)}},s=function(t){let r=null,s=null,o=e.length;const a=function(t,r){const s=o-t,a=o;o-=t;const u=i(s+1,a),c=e[s],h=n?n(c):c;l(new Yb(h,c.node,r,null,u))},l=function(e){r?(r.left=e,r=e):(s=e,r=e)};for(let e=0;e<t.count;++e){const n=t.nextBitIsOne(),r=Math.pow(2,t.count-(e+1));n?a(r,Yb.BLACK):(a(r,Yb.BLACK),a(r,Yb.RED))}return s}(new lE(e.length));return new $b(r||t,s)};let cE;const hE={};class dE{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return l(hE&&oE,"ChildrenNode.ts has not been loaded"),cE=cE||new dE({".priority":hE},{".priority":oE}),cE}get(e){const t=z(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof $b?t:null}hasIndex(e){return V(this.indexSet_,e.toString())}addIndex(e,t){l(e!==Gb,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let r=!1;const i=t.getIterator(qb.Wrap);let s,o=i.getNext();for(;o;)r=r||e.isDefinedOn(o.node),n.push(o),o=i.getNext();s=r?uE(n,e.getCompare()):hE;const a=e.toString(),u=Object.assign({},this.indexSet_);u[a]=e;const c=Object.assign({},this.indexes_);return c[a]=s,new dE(c,u)}addToIndexes(e,t){const n=q(this.indexes_,((n,r)=>{const i=z(this.indexSet_,r);if(l(i,"Missing index implementation for "+r),n===hE){if(i.isDefinedOn(e.node)){const n=[],r=t.getIterator(qb.Wrap);let s=r.getNext();for(;s;)s.name!==e.name&&n.push(s),s=r.getNext();return n.push(e),uE(n,i.getCompare())}return hE}{const r=t.get(e.name);let i=n;return r&&(i=i.remove(new qb(e.name,r))),i.insert(e,e.node)}}));return new dE(n,this.indexSet_)}removeFromIndexes(e,t){const n=q(this.indexes_,(n=>{if(n===hE)return n;{const r=t.get(e.name);return r?n.remove(new qb(e.name,r)):n}}));return new dE(n,this.indexSet_)}}let fE;class pE{constructor(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&tE(this.priorityNode_),this.children_.isEmpty()&&l(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return fE||(fE=new pE(new $b(Jb),null,dE.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||fE}updatePriority(e){return this.children_.isEmpty()?this:new pE(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const t=this.children_.get(e);return null===t?fE:t}}getChild(e){const t=kb(e);return null===t?this:this.getImmediateChild(t).getChild(xb(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,t){if(l(t,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(t);{const n=new qb(e,t);let r,i;t.isEmpty()?(r=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(n,this.children_)):(r=this.children_.insert(e,t),i=this.indexMap_.addToIndexes(n,this.children_));const s=r.isEmpty()?fE:this.priorityNode_;return new pE(r,s,i)}}updateChild(e,t){const n=kb(e);if(null===n)return t;{l(".priority"!==kb(e)||1===Ib(e),".priority must be the last token in a path");const r=this.getImmediateChild(n).updateChild(xb(e),t);return this.updateImmediateChild(n,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let n=0,r=0,i=!0;if(this.forEachChild(oE,((s,o)=>{t[s]=o.val(e),n++,i&&pE.INTEGER_REGEXP_.test(s)?r=Math.max(r,Number(s)):i=!1})),!e&&i&&r<2*n){const e=[];for(const n in t)e[n]=t[n];return e}return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+eE(this.getPriority().val())+":"),this.forEachChild(oE,((t,n)=>{const r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":Iw(e)}return this.lazyHash_}getPredecessorChildName(e,t,n){const r=this.resolveIndex_(n);if(r){const n=r.getPredecessorKey(new qb(e,t));return n?n.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.minKey();return e&&e.name}return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new qb(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.maxKey();return e&&e.name}return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new qb(t,this.children_.get(t)):null}forEachChild(e,t){const n=this.resolveIndex_(e);return n?n.inorderTraversal((e=>t(e.name,e.node))):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(e=>e));{const n=this.children_.getIteratorFrom(e.name,qb.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)<0;)n.getNext(),r=n.peek();return n}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(e=>e));{const n=this.children_.getReverseIteratorFrom(e.name,qb.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)>0;)n.getNext(),r=n.peek();return n}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===gE?-1:0}withIndex(e){if(e===Gb||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new pE(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===Gb||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){const e=this.getIterator(oE),n=t.getIterator(oE);let r=e.getNext(),i=n.getNext();for(;r&&i;){if(r.name!==i.name||!r.node.equals(i.node))return!1;r=e.getNext(),i=n.getNext()}return null===r&&null===i}return!1}return!1}}resolveIndex_(e){return e===Gb?null:this.indexMap_.get(e.toString())}}pE.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;const gE=new class extends pE{constructor(){super(new $b(Jb),pE.EMPTY_NODE,dE.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return pE.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(qb,{MIN:{value:new qb(jw,pE.EMPTY_NODE)},MAX:{value:new qb(Uw,gE)}}),Kb.__EMPTY_NODE=pE.EMPTY_NODE,sE.__childrenNodeConstructor=pE,Zb=gE,function(e){iE=e}(gE);const mE=!0;function vE(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return pE.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),l(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e){return new sE(e,vE(t))}if(e instanceof Array||!mE){let n=pE.EMPTY_NODE;return Hw(e,((t,r)=>{if(V(e,t)&&"."!==t.substring(0,1)){const e=vE(r);!e.isLeafNode()&&e.isEmpty()||(n=n.updateImmediateChild(t,e))}})),n.updatePriority(vE(t))}{const n=[];let r=!1;if(Hw(e,((e,t)=>{if("."!==e.substring(0,1)){const i=vE(t);i.isEmpty()||(r=r||!i.getPriority().isEmpty(),n.push(new qb(e,i)))}})),0===n.length)return pE.EMPTY_NODE;const i=uE(n,Xb,(e=>e.name),Jb);if(r){const e=uE(n,oE.getCompare());return new pE(i,vE(t),new dE({".priority":e},{".priority":oE}))}return new pE(i,vE(t),dE.Default)}}!function(e){rE=e}(vE);class yE extends Wb{constructor(e){super(),this.indexPath_=e,l(!Ob(e)&&".priority"!==kb(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?Vw(e.name,t.name):i}makePost(e,t){const n=vE(e),r=pE.EMPTY_NODE.updateChild(this.indexPath_,n);return new qb(t,r)}maxPost(){const e=pE.EMPTY_NODE.updateChild(this.indexPath_,gE);return new qb(Uw,e)}toString(){return Rb(this.indexPath_,0).join("/")}}const _E=new class extends Wb{compare(e,t){const n=e.node.compareTo(t.node);return 0===n?Vw(e.name,t.name):n}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return qb.MIN}maxPost(){return qb.MAX}makePost(e,t){const n=vE(e);return new qb(t,n)}toString(){return".value"}};function wE(e){return{type:"value",snapshotNode:e}}function bE(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function EE(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function CE(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}class SE{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=oE}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return l(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return l(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:jw}hasEnd(){return this.endSet_}getIndexEndValue(){return l(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return l(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Uw}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return l(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===oE}copy(){const e=new SE;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function TE(e){const t={};if(e.isDefault())return t;let n;if(e.index_===oE?n="$priority":e.index_===_E?n="$value":e.index_===Gb?n="$key":(l(e.index_ instanceof yE,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=j(n),e.startSet_){const n=e.startAfterSet_?"startAfter":"startAt";t[n]=j(e.indexStartValue_),e.startNameSet_&&(t[n]+=","+j(e.indexStartName_))}if(e.endSet_){const n=e.endBeforeSet_?"endBefore":"endAt";t[n]=j(e.indexEndValue_),e.endNameSet_&&(t[n]+=","+j(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function kE(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==oE&&(t.i=e.index_.toString()),t}class IE extends _b{constructor(e,t,n,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=n,this.appCheckTokenProvider_=r,this.log_=Ow("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:(l(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,n,r){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const s=IE.getListenId_(e,n),o={};this.listens_[s]=o;const a=TE(e._queryParams);this.restRequest_(i+".json",a,((e,t)=>{let a=t;if(404===e&&(a=null,e=null),null===e&&this.onDataUpdate_(i,a,!1,n),z(this.listens_,s)===o){let t;t=e?401===e?"permission_denied":"rest_error:"+e:"ok",r(t,null)}}))}unlisten(e,t){const n=IE.getListenId_(e,t);delete this.listens_[n]}get(e){const t=TE(e._queryParams),n=e._path.toString(),r=new S;return this.restRequest_(n+".json",t,((e,t)=>{let i=t;404===e&&(i=null,e=null),null===e?(this.onDataUpdate_(n,i,!1,null),r.resolve(i)):r.reject(new Error(i))})),r.promise}refreshAuthToken(e){}restRequest_(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((r=>{let[i,s]=r;i&&i.accessToken&&(t.auth=i.accessToken),s&&s.token&&(t.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+K(t);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(n&&4===a.readyState){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let t=null;if(a.status>=200&&a.status<300){try{t=F(a.responseText)}catch(e){Mw("Failed to parse JSON response for "+o+": "+a.responseText)}n(null,t)}else 401!==a.status&&404!==a.status&&Mw("Got unsuccessful REST response for "+o+" Status: "+a.status),n(a.status);n=null}},a.open("GET",o,!0),a.send()}))}}class xE{constructor(){this.rootNode_=pE.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function NE(){return{value:null,children:new Map}}function RE(e,t,n){if(Ob(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{const r=kb(t);e.children.has(r)||e.children.set(r,NE());RE(e.children.get(r),t=xb(t),n)}}function AE(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach(((e,n)=>{t(n,e)}))}(e,((e,r)=>{AE(r,new Sb(t.toString()+"/"+e),n)}))}class PE{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Hw(this.last_,((e,n)=>{t[e]=t[e]-n})),this.last_=e,t}}class OE{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new PE(e);const n=1e4+2e4*Math.random();$w(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const e=this.statsListener_.get(),t={};let n=!1;Hw(e,((e,r)=>{r>0&&V(this.statsToReport_,e)&&(t[e]=r,n=!0)})),n&&this.server_.reportStats(t),$w(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var DE;function LE(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(DE||(DE={}));class ME{constructor(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=DE.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(Ob(this.path)){if(null!=this.affectedTree.value)return l(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new Sb(e));return new ME(Tb(),t,this.revert)}}return l(kb(this.path)===e,"operationForChild called for unrelated child."),new ME(xb(this.path),this.affectedTree,this.revert)}}class FE{constructor(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=DE.OVERWRITE}operationForChild(e){return Ob(this.path)?new FE(this.source,Tb(),this.snap.getImmediateChild(e)):new FE(this.source,xb(this.path),this.snap)}}class jE{constructor(e,t,n){this.source=e,this.path=t,this.children=n,this.type=DE.MERGE}operationForChild(e){if(Ob(this.path)){const t=this.children.subtree(new Sb(e));return t.isEmpty()?null:t.value?new FE(this.source,Tb(),t.value):new jE(this.source,Tb(),t)}return l(kb(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new jE(this.source,xb(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class UE{constructor(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Ob(e))return this.isFullyInitialized()&&!this.filtered_;const t=kb(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function VE(e,t,n,r,i,s){const o=r.filter((e=>e.type===n));o.sort(((t,n)=>function(e,t,n){if(null==t.childName||null==n.childName)throw u("Should only compare child_ events.");const r=new qb(t.childName,t.snapshotNode),i=new qb(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n))),o.forEach((n=>{const r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,s);i.forEach((i=>{i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function zE(e,t){return{eventCache:e,serverCache:t}}function BE(e,t,n,r){return zE(new UE(t,n,r),e.serverCache)}function qE(e,t,n,r){return zE(e.eventCache,new UE(t,n,r))}function WE(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function HE(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}let KE;class GE{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(KE||(KE=new $b(zw)),KE);this.value=e,this.children=t}static fromObject(e){let t=new GE(null);return Hw(e,((e,n)=>{t=t.set(new Sb(e),n)})),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:Tb(),value:this.value};if(Ob(e))return null;{const n=kb(e),r=this.children.get(n);if(null!==r){const i=r.findRootMostMatchingPathAndValue(xb(e),t);if(null!=i){return{path:Pb(new Sb(n),i.path),value:i.value}}return null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,(()=>!0))}subtree(e){if(Ob(e))return this;{const t=kb(e),n=this.children.get(t);return null!==n?n.subtree(xb(e)):new GE(null)}}set(e,t){if(Ob(e))return new GE(t,this.children);{const n=kb(e),r=(this.children.get(n)||new GE(null)).set(xb(e),t),i=this.children.insert(n,r);return new GE(this.value,i)}}remove(e){if(Ob(e))return this.children.isEmpty()?new GE(null):new GE(null,this.children);{const t=kb(e),n=this.children.get(t);if(n){const r=n.remove(xb(e));let i;return i=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&i.isEmpty()?new GE(null):new GE(this.value,i)}return this}}get(e){if(Ob(e))return this.value;{const t=kb(e),n=this.children.get(t);return n?n.get(xb(e)):null}}setTree(e,t){if(Ob(e))return t;{const n=kb(e),r=(this.children.get(n)||new GE(null)).setTree(xb(e),t);let i;return i=r.isEmpty()?this.children.remove(n):this.children.insert(n,r),new GE(this.value,i)}}fold(e){return this.fold_(Tb(),e)}fold_(e,t){const n={};return this.children.inorderTraversal(((r,i)=>{n[r]=i.fold_(Pb(e,r),t)})),t(e,this.value,n)}findOnPath(e,t){return this.findOnPath_(e,Tb(),t)}findOnPath_(e,t,n){const r=!!this.value&&n(t,this.value);if(r)return r;if(Ob(e))return null;{const r=kb(e),i=this.children.get(r);return i?i.findOnPath_(xb(e),Pb(t,r),n):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,Tb(),t)}foreachOnPath_(e,t,n){if(Ob(e))return this;{this.value&&n(t,this.value);const r=kb(e),i=this.children.get(r);return i?i.foreachOnPath_(xb(e),Pb(t,r),n):new GE(null)}}foreach(e){this.foreach_(Tb(),e)}foreach_(e,t){this.children.inorderTraversal(((n,r)=>{r.foreach_(Pb(e,n),t)})),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal(((t,n)=>{n.value&&e(t,n.value)}))}}class QE{constructor(e){this.writeTree_=e}static empty(){return new QE(new GE(null))}}function YE(e,t,n){if(Ob(t))return new QE(new GE(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){const i=r.path;let s=r.value;const o=Db(i,t);return s=s.updateChild(o,n),new QE(e.writeTree_.set(i,s))}{const r=new GE(n),i=e.writeTree_.setTree(t,r);return new QE(i)}}}function $E(e,t,n){let r=e;return Hw(n,((e,n)=>{r=YE(r,Pb(t,e),n)})),r}function XE(e,t){if(Ob(t))return QE.empty();{const n=e.writeTree_.setTree(t,new GE(null));return new QE(n)}}function JE(e,t){return null!=ZE(e,t)}function ZE(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(Db(n.path,t)):null}function eC(e){const t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(oE,((e,n)=>{t.push(new qb(e,n))})):e.writeTree_.children.inorderTraversal(((e,n)=>{null!=n.value&&t.push(new qb(e,n.value))})),t}function tC(e,t){if(Ob(t))return e;{const n=ZE(e,t);return new QE(null!=n?new GE(n):e.writeTree_.subtree(t))}}function nC(e){return e.writeTree_.isEmpty()}function rC(e,t){return iC(Tb(),e.writeTree_,t)}function iC(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal(((t,i)=>{".priority"===t?(l(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=iC(Pb(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(Pb(e,".priority"),r)),n}}function sC(e,t){return yC(t,e)}function oC(e,t){const n=e.allWrites.findIndex((e=>e.writeId===t));l(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,s=!1,o=e.allWrites.length-1;for(;i&&o>=0;){const t=e.allWrites[o];t.visible&&(o>=n&&aC(t,r.path)?i=!1:Mb(r.path,t.path)&&(s=!0)),o--}if(i){if(s)return function(e){e.visibleWrites=uC(e.allWrites,lC,Tb()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;if(r.snap)e.visibleWrites=XE(e.visibleWrites,r.path);else{Hw(r.children,(t=>{e.visibleWrites=XE(e.visibleWrites,Pb(r.path,t))}))}return!0}return!1}function aC(e,t){if(e.snap)return Mb(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&Mb(Pb(e.path,n),t))return!0;return!1}function lC(e){return e.visible}function uC(e,t,n){let r=QE.empty();for(let i=0;i<e.length;++i){const s=e[i];if(t(s)){const e=s.path;let t;if(s.snap)Mb(n,e)?(t=Db(n,e),r=YE(r,t,s.snap)):Mb(e,n)&&(t=Db(e,n),r=YE(r,Tb(),s.snap.getChild(t)));else{if(!s.children)throw u("WriteRecord should have .snap or .children");if(Mb(n,e))t=Db(n,e),r=$E(r,t,s.children);else if(Mb(e,n))if(t=Db(e,n),Ob(t))r=$E(r,Tb(),s.children);else{const e=z(s.children,kb(t));if(e){const n=e.getChild(xb(t));r=YE(r,Tb(),n)}}}}}return r}function cC(e,t,n,r,i){if(r||i){const s=tC(e.visibleWrites,t);if(!i&&nC(s))return n;if(i||null!=n||JE(s,Tb())){const s=function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(Mb(e.path,t)||Mb(t,e.path))};return rC(uC(e.allWrites,s,t),n||pE.EMPTY_NODE)}return null}{const r=ZE(e.visibleWrites,t);if(null!=r)return r;{const r=tC(e.visibleWrites,t);if(nC(r))return n;if(null!=n||JE(r,Tb())){return rC(r,n||pE.EMPTY_NODE)}return null}}}function hC(e,t,n,r){return cC(e.writeTree,e.treePath,t,n,r)}function dC(e,t){return function(e,t,n){let r=pE.EMPTY_NODE;const i=ZE(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(oE,((e,t)=>{r=r.updateImmediateChild(e,t)})),r;if(n){const i=tC(e.visibleWrites,t);return n.forEachChild(oE,((e,t)=>{const n=rC(tC(i,new Sb(e)),t);r=r.updateImmediateChild(e,n)})),eC(i).forEach((e=>{r=r.updateImmediateChild(e.name,e.node)})),r}return eC(tC(e.visibleWrites,t)).forEach((e=>{r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function fC(e,t,n,r){return function(e,t,n,r,i){l(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=Pb(t,n);if(JE(e.visibleWrites,s))return null;{const t=tC(e.visibleWrites,s);return nC(t)?i.getChild(n):rC(t,i.getChild(n))}}(e.writeTree,e.treePath,t,n,r)}function pC(e,t){return function(e,t){return ZE(e.visibleWrites,t)}(e.writeTree,Pb(e.treePath,t))}function gC(e,t,n,r,i,s){return function(e,t,n,r,i,s,o){let a;const l=tC(e.visibleWrites,t),u=ZE(l,Tb());if(null!=u)a=u;else{if(null==n)return[];a=rC(l,n)}if(a=a.withIndex(o),a.isEmpty()||a.isLeafNode())return[];{const e=[],t=o.getCompare(),n=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let l=n.getNext();for(;l&&e.length<i;)0!==t(l,r)&&e.push(l),l=n.getNext();return e}}(e.writeTree,e.treePath,t,n,r,i,s)}function mC(e,t,n){return function(e,t,n,r){const i=Pb(t,n),s=ZE(e.visibleWrites,i);if(null!=s)return s;if(r.isCompleteForChild(n))return rC(tC(e.visibleWrites,i),r.getNode().getImmediateChild(n));return null}(e.writeTree,e.treePath,t,n)}function vC(e,t){return yC(Pb(e.treePath,t),e.writeTree)}function yC(e,t){return{treePath:e,writeTree:t}}class _C{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,n=e.childName;l("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),l(".priority"!==n,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(n);if(r){const i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,CE(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,EE(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,bE(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw u("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,CE(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}getChanges(){return Array.from(this.changeMap.values())}}const wC=new class{getCompleteChild(e){return null}getChildAfterChild(e,t,n){return null}};class bC{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const t=null!=this.optCompleteServerCache_?new UE(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return mC(this.writes_,e,t)}}getChildAfterChild(e,t,n){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:HE(this.viewCache_),i=gC(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}function EC(e,t,n,r,i){const s=new _C;let o,a;if(n.type===DE.OVERWRITE){const u=n;u.source.fromUser?o=TC(e,t,u.path,u.snap,r,i,s):(l(u.source.fromServer,"Unknown source."),a=u.source.tagged||t.serverCache.isFiltered()&&!Ob(u.path),o=SC(e,t,u.path,u.snap,r,i,a,s))}else if(n.type===DE.MERGE){const u=n;u.source.fromUser?o=function(e,t,n,r,i,s,o){let a=t;return r.foreach(((r,l)=>{const u=Pb(n,r);kC(t,kb(u))&&(a=TC(e,a,u,l,i,s,o))})),r.foreach(((r,l)=>{const u=Pb(n,r);kC(t,kb(u))||(a=TC(e,a,u,l,i,s,o))})),a}(e,t,u.path,u.children,r,i,s):(l(u.source.fromServer,"Unknown source."),a=u.source.tagged||t.serverCache.isFiltered(),o=xC(e,t,u.path,u.children,r,i,a,s))}else if(n.type===DE.ACK_USER_WRITE){const a=n;o=a.revert?function(e,t,n,r,i,s){let o;if(null!=pC(r,n))return t;{const a=new bC(r,t,i),u=t.eventCache.getNode();let c;if(Ob(n)||".priority"===kb(n)){let n;if(t.serverCache.isFullyInitialized())n=hC(r,HE(t));else{const e=t.serverCache.getNode();l(e instanceof pE,"serverChildren would be complete if leaf node"),n=dC(r,e)}c=e.filter.updateFullNode(u,n,s)}else{const i=kb(n);let l=mC(r,i,t.serverCache);null==l&&t.serverCache.isCompleteForChild(i)&&(l=u.getImmediateChild(i)),c=null!=l?e.filter.updateChild(u,i,l,xb(n),a,s):t.eventCache.getNode().hasChild(i)?e.filter.updateChild(u,i,pE.EMPTY_NODE,xb(n),a,s):u,c.isEmpty()&&t.serverCache.isFullyInitialized()&&(o=hC(r,HE(t)),o.isLeafNode()&&(c=e.filter.updateFullNode(c,o,s)))}return o=t.serverCache.isFullyInitialized()||null!=pC(r,Tb()),BE(t,c,o,e.filter.filtersNodes())}}(e,t,a.path,r,i,s):function(e,t,n,r,i,s,o){if(null!=pC(i,n))return t;const a=t.serverCache.isFiltered(),l=t.serverCache;if(null!=r.value){if(Ob(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return SC(e,t,n,l.getNode().getChild(n),i,s,a,o);if(Ob(n)){let r=new GE(null);return l.getNode().forEachChild(Gb,((e,t)=>{r=r.set(new Sb(e),t)})),xC(e,t,n,r,i,s,a,o)}return t}{let u=new GE(null);return r.foreach(((e,t)=>{const r=Pb(n,e);l.isCompleteForPath(r)&&(u=u.set(e,l.getNode().getChild(r)))})),xC(e,t,n,u,i,s,a,o)}}(e,t,a.path,a.affectedTree,r,i,s)}else{if(n.type!==DE.LISTEN_COMPLETE)throw u("Unknown operation type: "+n.type);o=function(e,t,n,r,i){const s=t.serverCache,o=qE(t,s.getNode(),s.isFullyInitialized()||Ob(n),s.isFiltered());return CC(e,o,n,r,wC,i)}(e,t,n.path,r,s)}const c=s.getChanges();return function(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=WE(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(wE(WE(t)))}}(t,o,c),{viewCache:o,changes:c}}function CC(e,t,n,r,i,s){const o=t.eventCache;if(null!=pC(r,n))return t;{let a,u;if(Ob(n))if(l(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const n=HE(t),i=dC(r,n instanceof pE?n:pE.EMPTY_NODE);a=e.filter.updateFullNode(t.eventCache.getNode(),i,s)}else{const n=hC(r,HE(t));a=e.filter.updateFullNode(t.eventCache.getNode(),n,s)}else{const c=kb(n);if(".priority"===c){l(1===Ib(n),"Can't have a priority with additional path components");const i=o.getNode();u=t.serverCache.getNode();const s=fC(r,n,i,u);a=null!=s?e.filter.updatePriority(i,s):o.getNode()}else{const l=xb(n);let h;if(o.isCompleteForChild(c)){u=t.serverCache.getNode();const e=fC(r,n,o.getNode(),u);h=null!=e?o.getNode().getImmediateChild(c).updateChild(l,e):o.getNode().getImmediateChild(c)}else h=mC(r,c,t.serverCache);a=null!=h?e.filter.updateChild(o.getNode(),c,h,l,i,s):o.getNode()}}return BE(t,a,o.isFullyInitialized()||Ob(n),e.filter.filtersNodes())}}function SC(e,t,n,r,i,s,o,a){const l=t.serverCache;let u;const c=o?e.filter:e.filter.getIndexedFilter();if(Ob(n))u=c.updateFullNode(l.getNode(),r,null);else if(c.filtersNodes()&&!l.isFiltered()){const e=l.getNode().updateChild(n,r);u=c.updateFullNode(l.getNode(),e,null)}else{const e=kb(n);if(!l.isCompleteForPath(n)&&Ib(n)>1)return t;const i=xb(n),s=l.getNode().getImmediateChild(e).updateChild(i,r);u=".priority"===e?c.updatePriority(l.getNode(),s):c.updateChild(l.getNode(),e,s,i,wC,null)}const h=qE(t,u,l.isFullyInitialized()||Ob(n),c.filtersNodes());return CC(e,h,n,i,new bC(i,h,s),a)}function TC(e,t,n,r,i,s,o){const a=t.eventCache;let l,u;const c=new bC(i,t,s);if(Ob(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,o),l=BE(t,u,!0,e.filter.filtersNodes());else{const i=kb(n);if(".priority"===i)u=e.filter.updatePriority(t.eventCache.getNode(),r),l=BE(t,u,a.isFullyInitialized(),a.isFiltered());else{const s=xb(n),u=a.getNode().getImmediateChild(i);let h;if(Ob(s))h=r;else{const e=c.getCompleteChild(i);h=null!=e?".priority"===Nb(s)&&e.getChild(Ab(s)).isEmpty()?e:e.updateChild(s,r):pE.EMPTY_NODE}if(u.equals(h))l=t;else{l=BE(t,e.filter.updateChild(a.getNode(),i,h,s,c,o),a.isFullyInitialized(),e.filter.filtersNodes())}}}return l}function kC(e,t){return e.eventCache.isCompleteForChild(t)}function IC(e,t,n){return n.foreach(((e,n)=>{t=t.updateChild(e,n)})),t}function xC(e,t,n,r,i,s,o,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l,u=t;l=Ob(n)?r:new GE(null).setTree(n,r);const c=t.serverCache.getNode();return l.children.inorderTraversal(((n,r)=>{if(c.hasChild(n)){const l=IC(0,t.serverCache.getNode().getImmediateChild(n),r);u=SC(e,u,new Sb(n),l,i,s,o,a)}})),l.children.inorderTraversal(((n,r)=>{const l=!t.serverCache.isCompleteForChild(n)&&null===r.value;if(!c.hasChild(n)&&!l){const l=IC(0,t.serverCache.getNode().getImmediateChild(n),r);u=SC(e,u,new Sb(n),l,i,s,o,a)}})),u}function NC(e,t){const n=HE(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Ob(t)&&!n.getImmediateChild(kb(t)).isEmpty())?n.getChild(t):null}function RC(e,t,n,r){t.type===DE.MERGE&&null!==t.source.queryId&&(l(HE(e.viewCache_),"We should always have a full cache before handling merges"),l(WE(e.viewCache_),"Missing event cache, even though we have a server cache"));const i=e.viewCache_,s=EC(e.processor_,i,t,n,r);var o,a;return o=e.processor_,a=s.viewCache,l(a.eventCache.getNode().isIndexed(o.filter.getIndex()),"Event snap not indexed"),l(a.serverCache.getNode().isIndexed(o.filter.getIndex()),"Server snap not indexed"),l(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,AC(e,s.changes,s.viewCache.eventCache.getNode(),null)}function AC(e,t,n,r){const i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){const i=[],s=[];return t.forEach((t=>{var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&s.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),VE(e,i,"child_removed",t,r,n),VE(e,i,"child_added",t,r,n),VE(e,i,"child_moved",s,r,n),VE(e,i,"child_changed",t,r,n),VE(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}let PC,OC;function DC(e,t,n,r){const i=t.source.queryId;if(null!==i){const s=e.views.get(i);return l(null!=s,"SyncTree gave us an op for an invalid query."),RC(s,t,n,r)}{let i=[];for(const s of e.views.values())i=i.concat(RC(s,t,n,r));return i}}function LC(e,t){let n=null;for(const r of e.views.values())n=n||NC(r,t);return n}class MC{constructor(e){this.listenProvider_=e,this.syncPointTree_=new GE(null),this.pendingWriteTree_={visibleWrites:QE.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function FC(e,t,n,r,i){return function(e,t,n,r,i){l(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=YE(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?BC(e,new FE({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function jC(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=function(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(oC(e.pendingWriteTree_,t)){let t=new GE(null);return null!=r.snap?t=t.set(Tb(),!0):Hw(r.children,(e=>{t=t.set(new Sb(e),!0)})),BC(e,new ME(r.path,t,n))}return[]}function UC(e,t,n){return BC(e,new FE({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function VC(e,t,n,r){const i=HC(e,r);if(null!=i){const r=KC(i),s=r.path,o=r.queryId,a=Db(s,t);return GC(e,s,new FE(LE(o),a,n))}return[]}function zC(e,t,n){const r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,((e,n)=>{const r=LC(n,Db(e,t));if(r)return r}));return cC(r,t,i,n,!0)}function BC(e,t){return qC(t,e.syncPointTree_,null,sC(e.pendingWriteTree_,Tb()))}function qC(e,t,n,r){if(Ob(e.path))return WC(e,t,n,r);{const i=t.get(Tb());null==n&&null!=i&&(n=LC(i,Tb()));let s=[];const o=kb(e.path),a=e.operationForChild(o),l=t.children.get(o);if(l&&a){const e=n?n.getImmediateChild(o):null,t=vC(r,o);s=s.concat(qC(a,l,e,t))}return i&&(s=s.concat(DC(i,e,r,n))),s}}function WC(e,t,n,r){const i=t.get(Tb());null==n&&null!=i&&(n=LC(i,Tb()));let s=[];return t.children.inorderTraversal(((t,i)=>{const o=n?n.getImmediateChild(t):null,a=vC(r,t),l=e.operationForChild(t);l&&(s=s.concat(WC(l,i,o,a)))})),i&&(s=s.concat(DC(i,e,r,n))),s}function HC(e,t){return e.tagToQueryMap.get(t)}function KC(e){const t=e.indexOf("$");return l(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new Sb(e.substr(0,t))}}function GC(e,t,n){const r=e.syncPointTree_.get(t);l(r,"Missing sync point for query tag that we're tracking");return DC(r,n,sC(e.pendingWriteTree_,t),null)}class QC{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new QC(t)}node(){return this.node_}}class YC{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=Pb(this.path_,e);return new YC(this.syncTree_,t)}node(){return zC(this.syncTree_,this.path_)}}const $C=function(e){return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e},XC=function(e,t,n){return e&&"object"===typeof e?(l(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?JC(e[".sv"],t,n):"object"===typeof e[".sv"]?ZC(e[".sv"],t):void l(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},JC=function(e,t,n){if("timestamp"===e)return n.timestamp;l(!1,"Unexpected server value: "+e)},ZC=function(e,t,n){e.hasOwnProperty("increment")||l(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;"number"!==typeof r&&l(!1,"Unexpected increment value: "+r);const i=t.node();if(l(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const s=i.getValue();return"number"!==typeof s?r:s+r},eS=function(e,t,n,r){return nS(t,new YC(n,e),r)},tS=function(e,t,n){return nS(e,new QC(t),n)};function nS(e,t,n){const r=e.getPriority().val(),i=XC(r,t.getImmediateChild(".priority"),n);let s;if(e.isLeafNode()){const r=e,s=XC(r.getValue(),t,n);return s!==r.getValue()||i!==r.getPriority().val()?new sE(s,vE(i)):e}{const r=e;return s=r,i!==r.getPriority().val()&&(s=s.updatePriority(new sE(i))),r.forEachChild(oE,((e,r)=>{const i=nS(r,t.getImmediateChild(e),n);i!==r&&(s=s.updateImmediateChild(e,i))})),s}}class rS{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};this.name=e,this.parent=t,this.node=n}}function iS(e,t){let n=t instanceof Sb?t:new Sb(t),r=e,i=kb(n);for(;null!==i;){const e=z(r.node.children,i)||{children:{},childCount:0};r=new rS(i,r,e),n=xb(n),i=kb(n)}return r}function sS(e){return e.node.value}function oS(e,t){e.node.value=t,hS(e)}function aS(e){return e.node.childCount>0}function lS(e,t){Hw(e.node.children,((n,r)=>{t(new rS(n,e,r))}))}function uS(e,t,n,r){n&&!r&&t(e),lS(e,(e=>{uS(e,t,!0,r)})),n&&r&&t(e)}function cS(e){return new Sb(null===e.parent?e.name:cS(e.parent)+"/"+e.name)}function hS(e){null!==e.parent&&function(e,t,n){const r=function(e){return void 0===sS(e)&&!aS(e)}(n),i=V(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,hS(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,hS(e))}(e.parent,e.name,e)}const dS=/[\[\].#$\/\u0000-\u001F\u007F]/,fS=/[\[\].#$\u0000-\u001F\u007F]/,pS=10485760,gS=function(e){return"string"===typeof e&&0!==e.length&&!dS.test(e)},mS=function(e){return"string"===typeof e&&0!==e.length&&!fS.test(e)},vS=function(e,t,n){const r=n instanceof Sb?new Fb(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+Ub(r));if("function"===typeof t)throw new Error(e+"contains a function "+Ub(r)+" with contents = "+t.toString());if(Fw(t))throw new Error(e+"contains "+t.toString()+" "+Ub(r));if("string"===typeof t&&t.length>pS/3&&Z(t)>pS)throw new Error(e+"contains a string greater than "+pS+" utf8 bytes "+Ub(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"===typeof t){let n=!1,i=!1;if(Hw(t,((t,s)=>{if(".value"===t)n=!0;else if(".priority"!==t&&".sv"!==t&&(i=!0,!gS(t)))throw new Error(e+" contains an invalid key ("+t+") "+Ub(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=Z(t),jb(e)}(r,t),vS(e,s,r),function(e){const t=e.parts_.pop();e.byteLength_-=Z(t),e.parts_.length>0&&(e.byteLength_-=1)}(r)})),n&&i)throw new Error(e+' contains ".value" child '+Ub(r)+" in addition to actual children.")}},yS=function(e,t){const n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!gS(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),mS(e)}(n))throw new Error(J(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class _S{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function wS(e,t){let n=null;for(let r=0;r<t.length;r++){const i=t[r],s=i.getPath();null===n||Lb(s,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:s}),n.events.push(i)}n&&e.eventLists_.push(n)}function bS(e,t,n){wS(e,n),ES(e,(e=>Mb(e,t)||Mb(t,e)))}function ES(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const i=e.eventLists_[r];if(i){t(i.path)?(CS(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function CS(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(null!==n){e.events[t]=null;const r=n.getEventRunner();Nw&&Pw("event: "+n.toString()),Yw(r)}}}const SS="repo_interrupt",TS=25;class kS{constructor(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new _S,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=NE(),this.transactionQueueTree_=new rS,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function IS(e,t,n){if(e.stats_=cb(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new IE(e.repoInfo_,((t,n,r,i)=>{RS(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((()=>AS(e,!0)),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{j(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new Bb(e.repoInfo_,t,((t,n,r,i)=>{RS(e,t,n,r,i)}),(t=>{AS(e,t)}),(t=>{!function(e,t){Hw(t,((t,n)=>{PS(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((t=>{e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((t=>{e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){const n=e.toString();return ub[n]||(ub[n]=t()),ub[n]}(e.repoInfo_,(()=>new OE(e.stats_,e.server_))),e.infoData_=new xE,e.infoSyncTree_=new MC({startListening:(t,n,r,i)=>{let s=[];const o=e.infoData_.getNode(t._path);return o.isEmpty()||(s=UC(e.infoSyncTree_,t._path,o),setTimeout((()=>{i("ok")}),0)),s},stopListening:()=>{}}),PS(e,"connected",!1),e.serverSyncTree_=new MC({startListening:(t,n,r,i)=>(e.server_.listen(t,r,n,((n,r)=>{const s=i(n,r);bS(e.eventQueue_,t._path,s)})),[]),stopListening:(t,n)=>{e.server_.unlisten(t,n)}})}function xS(e){const t=e.infoData_.getNode(new Sb(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function NS(e){return $C({timestamp:xS(e)})}function RS(e,t,n,r,i){e.dataUpdateCount++;const s=new Sb(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let o=[];if(i)if(r){const t=q(n,(e=>vE(e)));o=function(e,t,n,r){const i=HC(e,r);if(i){const r=KC(i),s=r.path,o=r.queryId,a=Db(s,t),l=GE.fromObject(n);return GC(e,s,new jE(LE(o),a,l))}return[]}(e.serverSyncTree_,s,t,i)}else{const t=vE(n);o=VC(e.serverSyncTree_,s,t,i)}else if(r){const t=q(n,(e=>vE(e)));o=function(e,t,n){const r=GE.fromObject(n);return BC(e,new jE({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,s,t)}else{const t=vE(n);o=UC(e.serverSyncTree_,s,t)}let a=s;o.length>0&&(a=jS(e,s)),bS(e.eventQueue_,a,o)}function AS(e,t){PS(e,"connected",t),!1===t&&function(e){LS(e,"onDisconnectEvents");const t=NS(e),n=NE();AE(e.onDisconnect_,Tb(),((r,i)=>{const s=eS(r,i,e.serverSyncTree_,t);RE(n,r,s)}));let r=[];AE(n,Tb(),((t,n)=>{r=r.concat(UC(e.serverSyncTree_,t,n));const i=qS(e,t);jS(e,i)})),e.onDisconnect_=NE(),bS(e.eventQueue_,Tb(),r)}(e)}function PS(e,t,n){const r=new Sb("/.info/"+t),i=vE(n);e.infoData_.updateSnapshot(r,i);const s=UC(e.infoSyncTree_,r,i);bS(e.eventQueue_,r,s)}function OS(e){return e.nextWriteId_++}function DS(e){e.persistentConnection_&&e.persistentConnection_.interrupt(SS)}function LS(e){let t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];Pw(t,...r)}function MS(e,t,n){return zC(e.serverSyncTree_,t,n)||pE.EMPTY_NODE}function FS(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||BS(e,t),sS(t)){const n=VS(e,t);l(n.length>0,"Sending zero length transaction queue");n.every((e=>0===e.status))&&function(e,t,n){const r=n.map((e=>e.currentWriteId)),i=MS(e,t,r);let s=i;const o=i.hash();for(let c=0;c<n.length;c++){const e=n[c];l(0===e.status,"tryToSendTransactionQueue_: items in queue should all be run."),e.status=1,e.retryCount++;const r=Db(t,e.path);s=s.updateChild(r,e.currentOutputSnapshotRaw)}const a=s.val(!0),u=t;e.server_.put(u.toString(),a,(r=>{LS(e,"transaction put response",{path:u.toString(),status:r});let i=[];if("ok"===r){const r=[];for(let t=0;t<n.length;t++)n[t].status=2,i=i.concat(jC(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&r.push((()=>n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved))),n[t].unwatcher();BS(e,iS(e.transactionQueueTree_,t)),FS(e,e.transactionQueueTree_),bS(e.eventQueue_,t,i);for(let e=0;e<r.length;e++)Yw(r[e])}else{if("datastale"===r)for(let e=0;e<n.length;e++)3===n[e].status?n[e].status=4:n[e].status=0;else{Mw("transaction at "+u.toString()+" failed: "+r);for(let e=0;e<n.length;e++)n[e].status=4,n[e].abortReason=r}jS(e,t)}}),o)}(e,cS(t),n)}else aS(t)&&lS(t,(t=>{FS(e,t)}))}function jS(e,t){const n=US(e,t),r=cS(n);return function(e,t,n){if(0===t.length)return;const r=[];let i=[];const s=t.filter((e=>0===e.status)),o=s.map((e=>e.currentWriteId));for(let u=0;u<t.length;u++){const s=t[u],c=Db(n,s.path);let h,d=!1;if(l(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===s.status)d=!0,h=s.abortReason,i=i.concat(jC(e.serverSyncTree_,s.currentWriteId,!0));else if(0===s.status)if(s.retryCount>=TS)d=!0,h="maxretry",i=i.concat(jC(e.serverSyncTree_,s.currentWriteId,!0));else{const n=MS(e,s.path,o);s.currentInputSnapshot=n;const r=t[u].update(n.val());if(void 0!==r){vS("transaction failed: Data returned ",r,s.path);let t=vE(r);"object"===typeof r&&null!=r&&V(r,".priority")||(t=t.updatePriority(n.getPriority()));const a=s.currentWriteId,l=NS(e),u=tS(t,n,l);s.currentOutputSnapshotRaw=t,s.currentOutputSnapshotResolved=u,s.currentWriteId=OS(e),o.splice(o.indexOf(a),1),i=i.concat(FC(e.serverSyncTree_,s.path,u,s.currentWriteId,s.applyLocally)),i=i.concat(jC(e.serverSyncTree_,a,!0))}else d=!0,h="nodata",i=i.concat(jC(e.serverSyncTree_,s.currentWriteId,!0))}bS(e.eventQueue_,n,i),i=[],d&&(t[u].status=2,a=t[u].unwatcher,setTimeout(a,Math.floor(0)),t[u].onComplete&&("nodata"===h?r.push((()=>t[u].onComplete(null,!1,t[u].currentInputSnapshot))):r.push((()=>t[u].onComplete(new Error(h),!1,null)))))}var a;BS(e,e.transactionQueueTree_);for(let l=0;l<r.length;l++)Yw(r[l]);FS(e,e.transactionQueueTree_)}(e,VS(e,n),r),r}function US(e,t){let n,r=e.transactionQueueTree_;for(n=kb(t);null!==n&&void 0===sS(r);)r=iS(r,n),n=kb(t=xb(t));return r}function VS(e,t){const n=[];return zS(e,t,n),n.sort(((e,t)=>e.order-t.order)),n}function zS(e,t,n){const r=sS(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);lS(t,(t=>{zS(e,t,n)}))}function BS(e,t){const n=sS(t);if(n){let e=0;for(let t=0;t<n.length;t++)2!==n[t].status&&(n[e]=n[t],e++);n.length=e,oS(t,n.length>0?n:void 0)}lS(t,(t=>{BS(e,t)}))}function qS(e,t){const n=cS(US(e,t)),r=iS(e.transactionQueueTree_,t);return function(e,t,n){let r=n?e:e.parent;for(;null!==r;){if(t(r))return!0;r=r.parent}}(r,(t=>{WS(e,t)})),WS(e,r),uS(r,(t=>{WS(e,t)})),n}function WS(e,t){const n=sS(t);if(n){const r=[];let i=[],s=-1;for(let t=0;t<n.length;t++)3===n[t].status||(1===n[t].status?(l(s===t-1,"All SENT items should be at beginning of queue."),s=t,n[t].status=3,n[t].abortReason="set"):(l(0===n[t].status,"Unexpected transaction status in abort"),n[t].unwatcher(),i=i.concat(jC(e.serverSyncTree_,n[t].currentWriteId,!0)),n[t].onComplete&&r.push(n[t].onComplete.bind(null,new Error("set"),!1,null))));-1===s?oS(t,void 0):n.length=s+1,bS(e.eventQueue_,cS(t),i);for(let e=0;e<r.length;e++)Yw(r[e])}}const HS=function(e,t){const n=KS(e),r=n.namespace;"firebase.com"===n.domain&&Lw(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||Lw("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Mw("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");const i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new sb(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new Sb(n.pathString)}},KS=function(e){let t="",n="",r="",i="",s="",o=!0,a="https",l=443;if("string"===typeof e){let u=e.indexOf("//");u>=0&&(a=e.substring(0,u-1),e=e.substring(u+2));let c=e.indexOf("/");-1===c&&(c=e.length);let h=e.indexOf("?");-1===h&&(h=e.length),t=e.substring(0,Math.min(c,h)),c<h&&(i=function(e){let t="";const n=e.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let e=n[i];try{e=decodeURIComponent(e.replace(/\+/g," "))}catch(r){}t+="/"+e}return t}(e.substring(c,h)));const d=function(e){const t={};"?"===e.charAt(0)&&(e=e.substring(1));for(const n of e.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Mw("Invalid query segment '".concat(n,"' in query '").concat(e,"'"))}return t}(e.substring(Math.min(e.length,h)));u=t.indexOf(":"),u>=0?(o="https"===a||"wss"===a,l=parseInt(t.substring(u+1),10)):u=t.length;const f=t.slice(0,u);if("localhost"===f.toLowerCase())n="localhost";else if(f.split(".").length<=2)n=f;else{const e=t.indexOf(".");r=t.substring(0,e).toLowerCase(),n=t.substring(e+1),s=r}"ns"in d&&(s=d.ns)}return{host:t,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}},GS="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz";!function(){let e=0;const t=[]}();class QS{constructor(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}get key(){return Ob(this._path)?null:Nb(this._path)}get ref(){return new YS(this._repo,this._path)}get _queryIdentifier(){const e=kE(this._queryParams),t=qw(e);return"{}"===t?"default":t}get _queryObject(){return kE(this._queryParams)}isEqual(e){if(!((e=se(e))instanceof QS))return!1;const t=this._repo===e._repo,n=Lb(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return t&&n&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}class YS extends QS{constructor(e,t){super(e,t,new SE,!1)}get parent(){const e=Ab(this._path);return null===e?null:new YS(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}!function(e){l(!PC,"__referenceConstructor has already been defined"),PC=e}(YS),function(e){l(!OC,"__referenceConstructor has already been defined"),OC=e}(YS);const $S="FIREBASE_DATABASE_EMULATOR_HOST",XS={};let JS=!1;function ZS(e,t,n,r,i){let s=r||e.options.databaseURL;void 0===s&&(e.options.projectId||Lw("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Pw("Using default host for project ",e.options.projectId),s="".concat(e.options.projectId,"-default-rtdb.firebaseio.com"));let o,a,l=HS(s,i),u=l.repoInfo;"undefined"!==typeof process&&(a={NODE_ENV:"production",PUBLIC_URL:"/Hive",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}[$S]),a?(o=!0,s="http://".concat(a,"?ns=").concat(u.namespace),l=HS(s,i),u=l.repoInfo):o=!l.repoInfo.secure;const c=i&&o?new Zw(Zw.OWNER):new Jw(e.name,e.options,t);yS("Invalid Firebase Database URL",l),Ob(l.path)||Lw("Database URL must point to the root of a Firebase Database (not including a child path).");const h=function(e,t,n,r){let i=XS[t.name];i||(i={},XS[t.name]=i);let s=i[e.toURLString()];s&&Lw("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return s=new kS(e,JS,n,r),i[e.toURLString()]=s,s}(u,e,c,new Xw(e.name,n));return new eT(h,e)}class eT{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(IS(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new YS(this._repo,Tb())),this._rootInternal}_delete(){return null!==this._rootInternal&&(!function(e,t){const n=XS[t];n&&n[e.key]===e||Lw("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),DS(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&Lw("Cannot call "+e+" on a deleted database.")}}Bb.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},Bb.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};!function(e){_w(Ge),qe(new oe("database",((e,t)=>{let{instanceIdentifier:n}=t;return ZS(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)}),"PUBLIC").setMultipleInstances(!0)),$e(mw,vw,e),$e(mw,vw,"esm2017")}();const tT=new qn,nT=pv(iw,"/userProfileData"),rT=pv(iw,"/postContainer"),iT=async e=>{let{setData:t}=e;try{const e=(await oy(rT)).docs.map((e=>({...e.data(),post_ID:e.id})));t((()=>e)),console.log(e)}catch(Dw){console.error("Error fetching data:",Dw)}},sT=async e=>{try{let t={uid:e.uid,name:e.name,email:e.email,photo:e.photo};await ay(nT,t),console.log("user data updated")}catch(Dw){console.log("data couldn't updata")}},oT=async e=>{let{Image:t,acVisited:n,setAcVisited:r,visited:i,setVisited:s,userName:o,userMail:a,userPassword:l,setLogin:u,setValue:c}=e;try{if(n)return;r(!0);const e=await(async(e,t,n)=>{try{if(e)return;t(!0);const r=Ds(sw,"userProfileProto/".concat(n.name+gw()));await Ps(r,n);const i=await Os(r);return console.log("photo link created : "+i),i}catch(r){console.log(r),console.log("fucked up when upload photo")}})(i,s,t),h=await async function(e,t,n){const r=wn(e),i=kn(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Kn),s=await i.catch((t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&er(e),t})),o=await Gn._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(o.user),o}(rw,a,l);let d={uid:h.user.uid,name:o,email:a,photo:e};return await sT(d),console.log("createAccount called"),u(!0),c("Home"),a}catch(h){alert(h.message)}},aT=async e=>{let{setValue:t,setLogin:n}=e;try{await tr(rw);const e=await async function(e,t,n){const r=wn(e);yt(e,t,Vn);const i=kr(r,n);return new Or(r,"signInViaPopup",t,i).executeNotNull()}(rw,tT),r=e.user;console.log(r.email);if(await lT(r.email))return t("Home"),n(!0),console.log("alrady have account"),console.log(r.email),r.email;const i={uid:r.uid,name:r.displayName,email:r.email,photo:r.photoURL?r.photoURL:null};return await sT(i),console.log("google data done"),r.email}catch(Dw){console.log("google failed because of : "),console.log(Dw.message)}},lT=async e=>{const t=function(e){let t=se(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(const s of r)t=s._apply(t);return t}(pv(iw,"userProfileData"),function(e,t,n){const r=t,i=Wv("where",e);return Qv._create(i,r,n)}("email","==",e)),n=(await oy(t)).docs;return!(0,aw.isEmpty)(n)},uT=async(e,t)=>{try{const n=Ds(sw,t+"/"+e.name+gw());await Ps(n,e);const r=await Os(n);return console.log("Image uploaded for "+t),r}catch(n){console.log("image not uploaded for"+t)}},cT=async(e,t,n)=>{const r=gv(iw,"userProfileData",e);try{await function(e,t,n){e=lv(e,dv);const r=lv(e.firestore,vv),i=Zv(e.converter,t,n);return ly(r,[Rv(Nv(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,pf.none())])}(r,{[t]:[n]},{merge:!0}),console.log("".concat(t," added successfully"))}catch(Dw){console.error("Error adding photo or cover:",Dw.message)}};function hT(){const[t,n]=(0,e.useState)();return(0,e.useEffect)((()=>{iT({setData:n})}),[]),(0,r.jsx)("div",{className:"",children:t&&t.flat().map(((e,t)=>(0,r.jsx)(i,{user_image:e.data.user_image,post_image:e.data.post_image,user_name:e.data.user_name,postText:e.data.postText,uploadTime:"janina"})))})}function dT(e){let{object:t}=e;return(0,r.jsxs)("div",{className:"bg-gray-800 p-1 my-2 flex flex-row space-x-2  hover:transform hover:scale-110 transition-transform duration-300 rounded-md",children:[(0,r.jsx)("div",{className:"",children:(0,r.jsx)("img",{src:t.image,alt:"",className:"w-8 h-8 p-1 rounded-full"},t.post_ID)}),(0,r.jsx)("div",{className:" text-sm font-sans p-1",children:t.name})]})}const fT=n.p+"static/media/fb dp.5c3552ca2495d5c0143b.jpg",pT=n.p+"static/media/hamim.5fb56c3ef02c46a8f5b2.jpg",gT=n.p+"static/media/hamim_post.c1a7f237c679648c5147.jpg",mT=n.p+"static/media/prottoy.03ec828e09a8b5d05326.jpg",vT=n.p+"static/media/prottoy_post.7777c2869d9a292d5f19.jpg",yT=n.p+"static/media/saif.4cd03f7f5e834aa8f9ec.png",_T=n.p+"static/media/ragib.f5ae1483ce1fd40cda20.png",wT=n.p+"static/media/mahin.0f891b13bad3ac6ac320.jpg",bT=n.p+"static/media/mahin_post.1e63fb71963a2693e50d.jpg",ET=(n.p,n.p+"static/media/dp2.8227ddf6810c9c89edd5.webp"),CT=n.p+"static/media/dp3.dbaa2cb20163a45fec5f.jpg",ST=n.p+"static/media/post1.3a5ba7a2b5b0fc1994cb.jpg",TT=n.p+"static/media/post2.5dc9c903834ac0ccce7b.jpeg",kT=n.p+"static/media/post3.4eee9420023dccf42133.jpeg",IT=n.p+"static/media/post4.7229eb96c2890890068a.jpg",xT=n.p+"static/media/post5.fd26c03822e327d4a1e7.jpg",NT=n.p+"static/media/post6.74f10a78f66e3f44fb66.jpg",RT=n.p+"static/media/post7.d2e74b71889088f1d6eb.jpg",AT=n.p+"static/media/post8.b6a72b7420c84b39b564.jpg",PT=(n.p,[{post_ID:1,age:123,image:pT,name:"Albert Hamim",description:"Weather Demand ?",post_img:gT,Like_count:365},{post_ID:2,age:123,image:fT,name:"Omar Faruk",description:".....................!",post_img:ST,Like_count:204},{post_ID:3,age:123,image:_T,name:"Ragib Hasan",description:"Across heaven and earth I alone am the honoured one",post_img:TT,Like_count:747},{post_ID:1,age:123,image:wT,name:"SK Mahin",description:"Alhamdulillah!! An award from honourable Prime Minister Sheikh Hasina.Creative Talent Hunt-2018 \n National award giving ceremony at Shapla Hall,Dhaka\ud83d\udce1",post_img:bT,Like_count:3876},{post_ID:7,age:1243,image:mT,name:"Prattoy Mondal",description:"Feeling Lonly :)",post_img:vT,Like_count:503},{post_ID:93,age:1233,image:yT,name:"Ahmed Saif",description:"Keep Smiling :)",post_img:kT,Like_count:204},{post_ID:3,age:123,image:ET,name:"MOJO",description:"Across heaven and earth I alone am the honoured one",post_img:IT,Like_count:747},{post_ID:1,age:123,image:CT,name:"John Doe",description:"Cherry Blossom",post_img:xT,Like_count:365},{post_ID:2,age:123,image:ET,name:"NULL",description:":)",post_img:NT,Like_count:204},{post_ID:3,age:123,image:ET,name:"Gojo",description:"Across heaven and earth I alone am the honoured one",post_img:RT,Like_count:747},{post_ID:1,age:123,image:CT,name:"John Doe",description:"Cherry Blossom",post_img:AT,Like_count:365}]);function OT(){return(0,r.jsxs)("div",{className:"",children:[(0,r.jsx)("div",{className:" text-xl font-semibold py-4",children:"Contacts"}),(0,r.jsx)("div",{className:"",children:PT.map((e=>(0,r.jsx)(dT,{object:e})))})]})}n(7948);const DT=n.p+"static/media/image.4b82b17723daa16edb35900870aa742f.svg",LT=n.p+"static/media/dp.e63f52ca4e4be889d61a.jpeg";const MT=n.p+"static/media/upload.83ae2a8702f1fea1b3310e377586ac7d.svg";const FT=n.p+"static/media/close.f8cce9d8e61785e46719dbc1d4bf0915.svg",jT=t=>{let{isOpen:n,onClose:i,notun_data:s}=t;const[o,a]=(0,e.useState)(""),[l,u]=(0,e.useState)(null),c=pv(iw,"/postContainer");let h=null;return(0,r.jsxs)("div",{className:"fixed inset-0 z-50 ".concat(n?"block":"hidden"),children:[(0,r.jsx)("div",{className:"absolute inset-0 bg-gray-400 opacity-75",onClick:i}),(0,r.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"bg-gray-600 text-gray-200 p-4 rounded-md",children:[(0,r.jsxs)("div",{className:"",children:[(0,r.jsx)("button",{className:"absolute bg-gray-400 hover:bg-gray-300 rounded-full",onClick:i,children:(0,r.jsx)("img",{src:FT,alt:"",className:"h-6 w-6 p-1 rounded-full"})}),(0,r.jsx)("p",{className:"text-center text-2xl font-semibold",children:"Create post"})]}),(0,r.jsx)("div",{className:"my-2",children:(0,r.jsx)("hr",{className:"w-full"})}),(0,r.jsx)("div",{className:"Profile my-1  p-2 hover:bg-gray-700 rounded-lg",children:(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)("img",{src:LT,alt:"",className:"w-8 h-8 rounded-full"}),(0,r.jsx)("div",{className:"p-1",children:"Omar Faruk"})]})}),(0,r.jsx)("div",{className:"",children:(0,r.jsx)("textarea",{value:o,className:"bg-gray-500 p-2 focus:outline-none rounded-md resize-none overflow-auto",name:"",id:"",cols:"45",rows:"10",placeholder:"What's on your mind ?",onChange:e=>a(e.target.value)})}),(0,r.jsx)("div",{className:"",children:(0,r.jsx)("hr",{className:""})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("input",{type:"file",id:"fileInput",className:"hidden",onChange:e=>u(e.target.files[0])}),(0,r.jsx)("label",{htmlFor:"fileInput",className:"p-1 my-1 flex justify-center content-center hover bg-gray-500 hover:bg-gray-400 rounded-md",children:l?"Photo selected":"Upload photo"})]}),(0,r.jsx)("div",{className:"flex justify-center bg-cyan-400 hover:bg-cyan-500 content-center rounded-md",children:(0,r.jsx)("button",{className:" text-white px-4 py-2",onClick:async()=>{if(l)try{h=await uT(l,"post"),u(null),console.log("uploaded image "+h),console.log("upload success! ")}catch(Dw){console.error("image not uploaded ",Dw)}const e={uid:s[0].uid,postText:o,post_image:h,user_name:s[0].name,user_mail:s[0].email,user_image:s[0].photo,like_count:0,liked_by:[]};try{await ay(c,{uploadTime:new Av("serverTimestamp"),data:e}),console.log("data uploaded successfuly!!!"),h=null}catch(Dw){console.error("not upload post data , because of ",Dw)}i()},children:"Post"})})]})})]})};function UT(t){let{notun_data:n}=t;const[i,s]=(0,e.useState)(!1),[o,a]=(0,e.useState)(null),[l,u]=(0,e.useState)(!1);return(0,r.jsx)("div",{className:" ",children:(0,r.jsxs)("div",{className:"grid grid-cols-12 gap-12 pb-6",children:[(0,r.jsxs)("div",{className:"col-span-9 container ",children:[(0,r.jsxs)("div",{className:"bg-gray-800 p-4 mx-5 rounded-lg mt-6 ",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-4 mb-4",children:[(0,r.jsx)("img",{src:fT,alt:"User Avatar",className:"w-8 h-8 rounded-full"}),(0,r.jsx)("input",{type:"text",placeholder:"What's on your mind?",className:"w-full border-none hover:bg-slate-200 focus:outline-none rounded-lg h-8 px-2",onClick:()=>u(!0)})]}),(0,r.jsx)("div",{className:"border-t-2 my-2"}),(0,r.jsx)("div",{className:"flex items-center space-x-4",children:(0,r.jsxs)("button",{className:"flex items-center space-x-2",onClick:()=>u(!0),children:[(0,r.jsx)("img",{src:DT,title:"picture icons",alt:"Photos/Videos",className:"h-6 w-6 bg-gray-500 rounded-lg "}),(0,r.jsx)("span",{className:" font-semibold text-white",children:"Photos/Videos"})]})})]}),(0,r.jsx)(jT,{isOpen:l,onClose:()=>u(!1),notun_data:n}),(0,r.jsx)("div",{className:"mx-auto mt-4",children:(0,r.jsx)(hT,{})})]}),(0,r.jsx)("div",{className:" text-white font-thin col-span-3 mt-5 mr-5 px-6",children:(0,r.jsx)(OT,{})})]})})}const VT=n.p+"static/media/contact-active.56862d114de0713182d705c4c81a614b.svg";const zT=n.p+"static/media/home-svgrepo-com.3b52d2f8ca4ccb7b18d20668ef7e0b7b.svg";const BT=n.p+"static/media/text-active.26e0575f42af4b66d5866882c2602057.svg";const qT=n.p+"static/media/logout.c9fe52df4b14f142226a1b1578f39dd0.svg",WT=n.p+"static/media/logoHive.8d505ae417ae3634e237.png";const HT=n.p+"static/media/games.4c88d4e4e8b5515160c94575ee525585.svg";function KT(e){let{userDatabase:t,mail:n,setLogin:i,setValue:s,value:o}=e;const a=t[0]?t.filter((e=>e.email===n)):[null];return(0,r.jsx)("div",{className:"bg-gray-800 text-white py-2 px-5 sticky  top-0 z-50",children:(0,r.jsx)("nav",{className:"",children:(0,r.jsxs)("div",{className:"mx-auto flex justify-between items-center",children:[(0,r.jsx)("img",{onClick:()=>s("Home"),src:WT,alt:"",className:"h-9 w-9 ml-6 rounded-full border-2 border-cyan-500 shadow-[0px_1px_15px_rgba(0,_196,_270,_1)]"}),(0,r.jsx)("div",{className:" ml-16 flex justify-center text-xl italic font-semibold text-cyan-300 shadow-[0px_1px_15px_rgba(0,_196,_270,_.8)] w-1/6 bg-gray-800 rounded-full p-2",children:a[0]&&a[0].name?a[0].name:"Hive"}),(0,r.jsxs)("div",{className:"space-x-6 flex flex-row",children:[(0,r.jsx)("button",{className:"Home  ".concat("Home"===o?"border-2 border-black bg-cyan-500 h-10 w-10 rounded-full shadow-[0px_1px_15px_rgba(0,_196,_270,_1)] p-1":"cursor-pointer button bg-gray-400 hover:bg-gray-300 shadow-[0px_1px_15px_rgba(0,_196,_270,_1)] p-1 rounded-full "," "),title:"Home",children:(0,r.jsx)("img",{src:zT,alt:"Home",className:"h-9 w-9 p-1",onClick:()=>s("Home")})}),(0,r.jsx)("button",{className:"Games  ".concat("Games"===o?"border-2 border-black bg-cyan-500 h-10 w-10 rounded-full shadow-[0px_1px_15px_rgba(0,_196,_270,_1)] p-1":"cursor-pointer button bg-gray-400 hover:bg-gray-300 shadow-[0px_1px_15px_rgba(0,_196,_270,_1)] p-1 rounded-full "," "),title:"Games",children:(0,r.jsx)("img",{src:HT,alt:"Games",className:"h-9 w-9 p-1",onClick:()=>s("Games")})}),(0,r.jsx)("button",{className:"Contacts  ".concat("Friends"===o?"border-2 border-black bg-cyan-500 h-10 w-10 rounded-full shadow-[0px_1px_15px_rgba(0,_196,_270,_1)] p-1":"cursor-pointer button bg-gray-400 hover:bg-gray-300 shadow-[0px_1px_15px_rgba(0,_196,_270,_1)] p-1 rounded-full "," "),title:"User list",onClick:()=>s("Friends"),children:(0,r.jsx)("img",{src:VT,alt:"contacts",className:"h-9 w-9 p-1"})}),(0,r.jsx)("button",{className:"Chat  ".concat("Chat"===o?"border-2 border-black bg-cyan-500 h-10 w-10 rounded-full shadow-[0px_1px_15px_rgba(0,_196,_270,_1)] p-1":"cursor-pointer button bg-gray-400 hover:bg-gray-300 shadow-[0px_1px_15px_rgba(0,_196,_270,_1)] p-1 rounded-full "," "),title:"Chat list",onClick:()=>s("Chat"),children:(0,r.jsx)("img",{src:BT,alt:"",className:"h-9 w-9 p-1"})}),(0,r.jsx)("button",{className:"Profile  ".concat("UserProfile"===o?"border-2 border-black  h-10 w-10 rounded-full shadow-[0px_1px_15px_rgba(0,_196,_270,_1)] ":"cursor-pointer button bg-gray-400 hover:bg-gray-300 shadow-[0px_1px_15px_rgba(0,_196,_270,_1)] p-1 rounded-full "," "),title:"Profile",onClick:()=>s("UserProfile"),children:(0,r.jsx)("img",{src:a[0]&&a[0].photo?a[0].photo:fT,alt:"Profile",className:"h-9 w-9 rounded-full"})}),(0,r.jsx)("button",{className:"Logout  ".concat("LogOut"===o?"border-2 border-black bg-cyan-500 h-10 w-10 rounded-full shadow-[0px_1px_15px_rgba(0,_196,_270,_1)] p-1":"cursor-pointer button bg-gray-400 hover:bg-gray-300 shadow-[0px_1px_15px_rgba(0,_196,_270,_1)] p-1 rounded-full "," "),title:"LogOut",onClick:async()=>{try{const e=await tr(rw);console.log(e),i(!1),s("SignUp")}catch(Dw){console.log(Dw)}},children:(0,r.jsx)("img",{src:qT,alt:"Logout",className:"h-9 w-9 p-1"})})]})]})})})}const GT=n.p+"static/media/img.e4cb8fccec29fe86cee6.jpg";const QT=n.p+"static/media/google.7a456aede401312fadceaf9e449a3710.svg";function YT(t){let{setLogin:n,setValue:i}=t;const[s,o]=(0,e.useState)(""),[a,l]=(0,e.useState)(""),[u,c]=(0,e.useState)(""),[h,d]=(0,e.useState)(null),[f,p]=(0,e.useState)(!1),[g,m]=(0,e.useState)(!1);return(0,r.jsx)("div",{className:"bg-cover bg-center h-full w-full fixed overflow-y-scroll",style:{backgroundImage:"url(".concat(GT,")")},children:(0,r.jsxs)("div",{className:"lg:flex xl:flex",children:[(0,r.jsxs)("section",{className:"section-1  flex-col pt-16 xl:pt-4 lg:pt-4 lg:mt-50 lg:absolute lg:left-64 lg:top-48",children:[(0,r.jsx)("div",{className:"text-teal-400 text-center text-3xl font-bold",children:"Welcome To Hive"}),(0,r.jsx)("div",{className:"text-teal-100 text-center text-lg mb-8",children:"Let's Connect!"}),(0,r.jsx)("div",{className:"flex items-center justify-center",children:(0,r.jsx)("button",{type:"",className:" bg-[#222f3e] text-teal-400 py-2 px-4 rounded-lg hover:bg-[#151e27] focus:outline-none",onClick:()=>aT({setValue:i,setLogin:n}),children:(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)("img",{src:QT,alt:"",className:"mr-1 h-6 w-6"}),"Continue with google"]})})})]}),(0,r.jsx)("section",{className:"section-2 w-96 mx-auto my-10  xl:w-96 lg:w-96 lg:absolute lg:right-48",children:(0,r.jsxs)("div",{className:"bg-white bg-opacity-10 p-8 rounded-lg shadow-[0px_1px_15px_rgba(0,_196,_270,_.7)]",children:[(0,r.jsx)("h2",{className:"text-2xl font-semibold mb-4 text-white",children:"Sign Up"}),(0,r.jsxs)("form",{children:[(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("label",{htmlFor:"Full Name",className:"block text-white text-sm font-light mb-2",children:"Full Name"}),(0,r.jsx)("input",{type:"userName",id:"userName",value:u,placeholder:"Full name",className:"border rounded-lg bg-gray-900 bg-opacity-50 text-teal-400 border-cyan-950 w-full  px-3 py-2 placeholder:select-none focus:outline-none focus:border-[#222f3e]",onChange:e=>c(e.target.value)})]}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("label",{htmlFor:"email",className:"block text-white text-sm font-light mb-2",children:"Email"}),(0,r.jsx)("input",{type:"email",id:"email",value:s,placeholder:"Email address",className:"border rounded-lg bg-gray-900 bg-opacity-50 text-teal-400 border-cyan-950 w-full  px-3 py-2 placeholder:select-none focus:outline-none focus:border-[#222f3e]",onChange:e=>o(e.target.value)})]}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("label",{htmlFor:"password",className:"block text-white text-sm font-light mb-2",children:"Password"}),(0,r.jsx)("input",{type:"password",id:"password",placeholder:"Password",value:a,className:"border rounded-lg bg-gray-900 bg-opacity-50 text-teal-400 border-cyan-950 w-full  px-3 py-2 focus:outline-none focus:border-[#222f3e]",onChange:e=>l(e.target.value)})]}),(0,r.jsxs)("div",{className:"mt-1 flex p-1 justify-center items-center space-x-4",children:[(0,r.jsx)("input",{type:"file",id:"fileInput",className:"hidden",onChange:e=>d(e.target.files[0])}),(0,r.jsx)("label",{htmlFor:"fileInput",className:"bg-[#222f3e] text-teal-400 py-2 px-4 rounded-lg hover:bg-[#151e27] mb-2",children:h?"Photo Selected :)":"Upload Profile photo"})]}),(0,r.jsx)("div",{className:"flex items-center justify-center",children:(0,r.jsx)("button",{type:"button",className:" bg-[#222f3e] text-teal-400 py-2 px-4 rounded-lg hover:bg-[#151e27] focus:outline-none",onClick:e=>{oT({Image:h,acVisited:g,setAcVisited:m,visited:f,setVisited:p,userName:u,userMail:s,userPassword:a,setLogin:n,setValue:i}),e.preventDefault()},children:"Sign Up"})}),(0,r.jsx)("div",{className:"text-gray-200 text-center text-xs p-2",children:"Already have an account ?"}),(0,r.jsx)("div",{className:"flex items-center justify-center",children:(0,r.jsx)("button",{type:"",className:" bg-[#222f3e] text-teal-400 py-2 px-4 rounded-lg hover:bg-[#151e27] focus:outline-none",onClick:()=>{i("Login")},children:"Login"})})]})]})}),(0,r.jsx)("section",{className:"section-3"})]})})}function $T(e){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("button",{className:"bg-cyan-700 rounded-lg p-2 my-6 mx-2 hover:bg-cyan-600",onClick:e=>{e.preventDefault()},children:e.first}),(0,r.jsx)("button",{className:"bg-cyan-700 rounded-lg p-2 mx-2 my-6 hover:bg-cyan-600",onClick:e=>{e.preventDefault()},children:e.second}),(0,r.jsx)("button",{className:"bg-cyan-700 rounded-lg p-2 mx-2 my-6 hover:bg-cyan-600",onClick:e=>{e.preventDefault()},children:"Message"})]})}function XT(){return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:"bg-gray-700 p-4",children:PT.map(((e,t)=>(0,r.jsxs)("div",{className:"p-5 m-6 text-white rounded-lg bg-gray-800 w-1/2 ",children:[(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)("img",{src:e.image,alt:e.name,className:"rounded-full h-36 w-36"}),(0,r.jsxs)("div",{className:"",children:[(0,r.jsx)("h1",{className:"avatar text-lg font-bold mx-2",children:e.name}),(0,r.jsxs)("div",{className:"mx-2 mb-2",children:["Connects: ",e.age]})]})]}),(0,r.jsx)("div",{className:"",children:(0,r.jsx)($T,{first:" Add friend ",second:" Follow "})})]})))})})}function JT(){return(0,r.jsx)("div",{className:"bg-gray-700 pt-6",children:(0,r.jsx)(XT,{})})}const ZT=n.p+"static/media/profile.b50f08b3d3dbd517886edd86bdfe2fbd.svg";const ek=n.p+"static/media/notification.9740fe5003ea59e2e39b5e4a3ee598ec.svg";const tk=n.p+"static/media/search.1bb910fc69099ca5244165ef3a2dcca8.svg";function nk(){const[t,n]=(0,e.useState)(0);return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"flex flex-row text-white h-[90vh] w-full bg-gray-700",children:[(0,r.jsxs)("div",{class:"section-1 overflow-auto w-3/12 border-r border-gray-800 ",children:[(0,r.jsx)("div",{className:"sticky top-0 p-2 bg-gray-700",children:(0,r.jsx)("h1",{className:"text-lg font-bold",children:"Chat"})}),(0,r.jsx)("div",{className:"User_list p-2",children:PT.map(((e,i)=>(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"flex hover:text-cyan-400 ".concat(t==i?"bg-gray-800 rounded-lg":"hover:bg-gray-600 hover:rounded-lg"," "),onClick:()=>n(i),children:[(0,r.jsx)("div",{className:"p-1 m-1 h-14 w-14",children:(0,r.jsx)("img",{src:e.image,alt:e.name,className:"rounded-full"})}),(0,r.jsxs)("div",{className:"p-3 ",children:[(0,r.jsx)("div",{className:"text-xs font-bold font-sans",children:e.name}),(0,r.jsx)("div",{className:"text-xs font-extralight text-gray-300",children:"Hi I'm using Hive."})]})]})})))})]}),(0,r.jsxs)("div",{class:"section-2 overflow-auto w-6/12 ",children:[(0,r.jsx)("div",{className:"Navbar sticky top-0 bg-gray-700 border-b border-gray-800 w-full",children:(0,r.jsxs)("div",{className:"Profile-section flex m-1 p-2 hover:text-cyan-500 hover:bg-gray-600 hover:rounded-lg w-1/3",children:[(0,r.jsx)("img",{src:PT[t].image,alt:PT[t].name,className:"h-10 w-10 rounded-full"}),(0,r.jsx)("div",{className:"py-2 px-1 mx-1 font-sans font-bold",children:PT[t].name})]})}),(0,r.jsxs)("div",{className:"NavbarBottom fixed bottom-0 w-6/12 p-2 flex",children:[(0,r.jsx)("input",{type:"message",row:"2",className:" rounded-full resize-none h-10 w-full p-4 text-black focus:outline-none",placeholder:"Type your message here"}),(0,r.jsx)("button",{className:"rounded-full m-1 bg-gray-800 p-2",children:"send"})]}),(0,r.jsx)("div",{className:"profile flex justify-center content-center m-4 p-4",children:(0,r.jsxs)("div",{className:"image",children:[(0,r.jsx)("img",{src:PT[t].image,alt:PT[t].name,className:"rounded-full h-36 w-36"}),(0,r.jsx)("div",{className:"font-bold text-center text-sm p-1",children:PT[t].name})]})})]}),(0,r.jsxs)("div",{class:"section-3 overflow-auto w-3/12 l border-l border-gray-800 p-6",children:[(0,r.jsxs)("div",{className:"flex flex-col justify-center content-center bg-gray-800 rounded-lg pt-6",children:[(0,r.jsx)("div",{className:"flex justify-center content-center",children:(0,r.jsx)("img",{src:PT[t].image,alt:PT[t].name,className:" rounded-full p-1 h-20 w-20"})}),(0,r.jsx)("div",{className:"flex justify-center content-center font-bold text-lg font-mono p-1",children:PT[t].name}),(0,r.jsxs)("div",{className:"flex justify-center content-center p-4",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("button",{className:"h-10 w-10 bg-gray-600 hover:bg-gray-500 rounded-full",onCanPlay:e=>e.preventDefault(),children:(0,r.jsx)("img",{src:ZT,alt:"Profile",className:"p-1"})}),(0,r.jsx)("div",{className:"py-1 font-bold font-sans text-gray-100 text-xs ml-1",children:"Profile"})]}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("button",{className:"h-10 w-10 bg-gray-600 hover:bg-gray-500 rounded-full",onCanPlay:e=>e.preventDefault(),children:(0,r.jsx)("img",{src:ek,alt:"Mute",className:"p-1"})}),(0,r.jsx)("div",{className:"ml-1 py-1 font-bold font-sans text-gray-100 text-xs",children:"Mute"})]}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("button",{className:"h-10 w-10 bg-gray-600 hover:bg-gray-500 rounded-full",onClick:e=>e.preventDefault(),children:(0,r.jsx)("img",{src:tk,alt:"Search",className:"p-1"})}),(0,r.jsx)("div",{className:"py-1 font-bold font-sans text-gray-100 text-xs",children:"Search"})]})]})]})," ",(0,r.jsx)("div",{className:"w-full h-10 my-2 hover:text-cyan-500 hover:bg-gray-600 p-2 rounded-lg bg-gray-800",children:"Media"}),(0,r.jsx)("div",{className:"w-full h-10 my-2 hover:text-cyan-500 p-2 hover:bg-gray-600 rounded-lg bg-gray-800",children:"Report"}),(0,r.jsx)("div",{className:"w-full h-10 my-2 hover:text-cyan-500 p-2 hover:bg-gray-600 rounded-lg bg-gray-800",children:"Block"})]})]})})}const rk=n.p+"static/media/fbcover.8c0f83c98f456dc528de.jpg";n.p;function ik(t){let{userDatabase:n,mail:i}=t;const[s,o]=(0,e.useState)(null),[a,l]=(0,e.useState)(null),u=n[0]?n.filter((e=>e.email===i)):[null];console.log(u);return console.log(u),(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"h-full bg-gray-600 z-0",children:[(0,r.jsx)("div",{className:"showOff ",children:(0,r.jsxs)("div",{className:"CoverPic flex justify-center content-center relative",children:[(0,r.jsx)("img",{src:u[0]&&u[0].coverPhoto?u[0].coverPhoto[0]:rk,alt:"Cover Photo",className:"rounded-b-xl h-6/12 w-8/12"}),(0,r.jsxs)("div",{className:"row p-1 border-2 border-cyan-400 bg-gray-700 rounded-full absolute start-1/4 -bottom-20 ",children:[(0,r.jsx)("img",{src:u[0]&&u[0].photo?u[0].photo:ik,alt:"Profile",className:"rounded-full h-40 w-40"}),(0,r.jsx)("div",{className:"absolute -right-52 bottom-3 text-gray-300 font-bold text-4xl",children:u[0]&&u[0].name?u[0].name:"UserProfile"})]})]})}),(0,r.jsxs)("div",{className:"flex justify-center content-center pb-6 pt-20",children:[(0,r.jsxs)("div",{className:"upload-cover  mt-1   start-56 top-20 p-1  space-x-4",children:[(0,r.jsx)("input",{type:"file",id:"coverFileInput",className:"hidden",onChange:e=>o(e.target.files[0])}),(0,r.jsx)("label",{htmlFor:"coverFileInput",className:"".concat(s?"hidden":"bg-[#222f3e] text-teal-400 py-2 px-4 rounded-lg hover:bg-[#151e27] mb-2"),children:"Upload cover"}),(0,r.jsx)("img",{src:MT,alt:"",className:" ".concat(s?" h-8 w-8 bg-cyan-500 rounded-lg":"hidden"),onClick:async()=>{if(s){const e=await uT(s,"CoverPhoto");cT(u[0].id,"coverPhoto",e),o(null)}}})]}),(0,r.jsxs)("div",{className:"upload-profile  mt-1   start-56 top-20 p-1  space-x-4",children:[(0,r.jsx)("input",{type:"file",id:"profileFileInput",className:"hidden",onChange:e=>l(e.target.files[0])}),(0,r.jsx)("label",{htmlFor:"profileFileInput",className:"".concat(a?"hidden":"bg-[#222f3e] text-teal-400 py-2 px-4 rounded-lg hover:bg-[#151e27] mb-2"),children:"Upload profile"}),(0,r.jsx)("img",{src:MT,alt:"",className:" ".concat(a?" h-8 w-8 bg-cyan-500 rounded-lg":"hidden"),onClick:async()=>{if(a){const e=await uT(a,"photo");cT(u[0].id,"photo",e),l(null)}}})]})]})]})})}function sk(e){let{value:t,onSquarClick:n}=e;return(0,r.jsx)("div",{className:"square",children:(0,r.jsx)("button",{className:"border-2 bg-gray-900 rounded-xl m-1 p-8 text-white bg-fixed h-8 w-8",onClick:n,children:t})})}function ok(){const[t,n]=(0,e.useState)(Array(9).fill(null)),[i,s]=(0,e.useState)(!0),[o,a]=(0,e.useState)("First player: X"),[l,u]=(0,e.useState)(!1);function c(e){const r=t.slice();null!==t[e]||l||(i?(r[e]="X",a("Next Player is : O")):(r[e]="O",a("Next Player is : X")),s(!i),n(r))}return(0,e.useEffect)((()=>{let e=(e=>{console.log("fuckkkk");const t=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[0,4,8],[2,4,6],[1,4,7],[2,5,8]];for(let n=0;n<t.length;n++){const[r,i,s]=t[n];if(e[r]&&e[r]===e[i]&&e[r]===e[s])return u(!0),e[r]}return null})(t);null!==e&&(a("Winner is: "+e),console.log("Congratulations!"))}),[t]),(0,r.jsx)("div",{className:"flex items-center justify-center h-screen",children:(0,r.jsxs)("div",{className:" bg-gray-300 rounded-lg p-2",children:[(0,r.jsx)("div",{className:"p-1 text-center text-3xl font-semibold",children:"Tik-Tak-Toe"}),(0,r.jsxs)("div",{className:"flex p-3",children:[(0,r.jsx)("div",{className:"p-1 ml-4 flex-1 font-semibold text-gray-800",children:o}),(0,r.jsx)("button",{className:"mr-8 content-end rounded-lg bg-gray-400 hover:bg-gray-500 p-1",onClick:()=>{n(Array(9).fill(null)),u(!1),s(!0),a("First Player is : X")},children:"Reset"})]}),(0,r.jsxs)("div",{className:"flex flex-row mx-8",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(sk,{value:t[0],onSquarClick:()=>c(0)}),(0,r.jsx)(sk,{value:t[1],onSquarClick:()=>c(1)}),(0,r.jsx)(sk,{value:t[2],onSquarClick:()=>c(2)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(sk,{value:t[3],onSquarClick:()=>c(3)}),(0,r.jsx)(sk,{value:t[4],onSquarClick:()=>c(4)}),(0,r.jsx)(sk,{value:t[5],onSquarClick:()=>c(5)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(sk,{value:t[6],onSquarClick:()=>c(6)}),(0,r.jsx)(sk,{value:t[7],onSquarClick:()=>c(7)}),(0,r.jsx)(sk,{value:t[8],onSquarClick:()=>c(8)})]})]})]})})}n.p;const ak=function(){const[t,n]=(0,e.useState)(""),[i,s]=(0,e.useState)(!1),[o,a]=(0,e.useState)(""),[l,u]=(0,e.useState)({});(0,e.useEffect)((()=>{const e=pv(iw,"/userProfileData");(async()=>{const t=await oy(e);u((()=>t.docs.map((e=>({...e.data(),id:e.id})))))})();const t=function(e,t,n,r){return se(e).onAuthStateChanged(t,n,r)}(rw,(e=>{e?(n((()=>e.email)),s(e),a("Home"),console.log("Logged in")):(s(e),a("SignUp"),console.log("logged out"))}));return()=>t()}),[]);const c=l[0]?l.filter((e=>e.email===t)):[null];return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:" bg-gray-700 h-full w-full bg-fixed",children:i?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(KT,{userDatabase:l,mail:t,setLogin:s,setValue:a,value:o}),"UserProfile"==o?(0,r.jsx)(ik,{userDatabase:l,mail:t}):"Chat"==o?(0,r.jsx)(nk,{setValue:a,setLogin:s}):"Games"==o?(0,r.jsx)(ok,{setValue:a,setLogin:s}):"Friends"==o?(0,r.jsx)(JT,{setValue:a,setLogin:s}):(0,r.jsx)(UT,{setValue:a,setLogin:s,notun_data:c})]}):(0,r.jsx)(YT,{setLogin:s,setValue:a})})})},lk=e=>{e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:s,getTTFB:o}=t;n(e),r(e),i(e),s(e),o(e)}))};t.createRoot(document.getElementById("root")).render((0,r.jsx)(e.StrictMode,{children:(0,r.jsx)(ak,{})})),lk()})()})();
//# sourceMappingURL=main.7626d3ba.js.map